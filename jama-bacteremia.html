<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç–‘ä¼¼èŒè¡€ç—‡è©•ä¼° | JAMA Rational Clinical Examination</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&family=Crimson+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --pri: #1565C0;
            --pri2: #1E88E5;
            --sec: #00838F;
            --sec2: #00ACC1;
            --suc: #2E7D32;
            --warn: #F9A825;
            --danger: #C62828;
            --info: #5E35B1;
            --bg: #F5F9FC;
            --txt: #37474F;
            --txt2: #607D8B;
            --card-shadow: 0 4px 20px rgba(21, 101, 192, 0.08);
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--bg);
            color: var(--txt);
            line-height: 1.8;
            -webkit-font-smoothing: antialiased;
        }
        .card {
            background: #fff;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(21, 101, 192, 0.08);
        }
        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 14px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        .btn-pri { background: linear-gradient(135deg, var(--pri), var(--pri2)); color: #fff; }
        .btn-pri:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(21, 101, 192, 0.3); }
        .btn-sec { background: linear-gradient(135deg, var(--sec), var(--sec2)); color: #fff; }
        table { width: 100%; border-collapse: collapse; font-size: 13px; margin: 12px 0; }
        th, td { padding: 12px 10px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: linear-gradient(135deg, #E3F2FD, #BBDEFB); font-weight: 600; color: var(--pri); }
        .formula {
            background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
            border: 2px solid var(--pri2);
            border-radius: 16px;
            padding: 18px;
            margin: 14px 0;
            text-align: center;
            font-family: 'Crimson Pro', serif;
            font-size: 18px;
            color: var(--txt);
            font-weight: 600;
        }
        .tip {
            background: linear-gradient(135deg, #FFF8E1, #FFECB3);
            border-left: 4px solid var(--warn);
            border-radius: 0 14px 14px 0;
            padding: 16px;
            margin: 14px 0;
        }
        .good {
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            border-left: 4px solid var(--suc);
            border-radius: 0 14px 14px 0;
            padding: 16px;
            margin: 14px 0;
        }
        .danger {
            background: linear-gradient(135deg, #FFEBEE, #FFCDD2);
            border-left: 4px solid var(--danger);
            border-radius: 0 14px 14px 0;
            padding: 16px;
            margin: 14px 0;
        }
        .info {
            background: linear-gradient(135deg, #EDE7F6, #D1C4E9);
            border-left: 4px solid var(--info);
            border-radius: 0 14px 14px 0;
            padding: 16px;
            margin: 14px 0;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        .lr-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
            margin-left: 6px;
        }
        .lr-high { background: #FFCDD2; color: #B71C1C; }
        .lr-mod { background: #FFF9C4; color: #F57F17; }
        .lr-low { background: #C8E6C9; color: #1B5E20; }
        .score-box {
            background: linear-gradient(135deg, #FAFAFA, #F5F5F5);
            border: 2px solid #E0E0E0;
            border-radius: 12px;
            padding: 12px;
            margin: 8px 0;
        }
    </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect } = React;

const MODULE_ID='jama-bacteremia';

const ProgressTracker={
    STORAGE_KEY:'ebm-progress',
    getProgress:()=>{try{const d=localStorage.getItem(ProgressTracker.STORAGE_KEY);return d?JSON.parse(d):{version:1,modules:{},badges:[],totalTimeSpent:0}}catch{return{version:1,modules:{},badges:[],totalTimeSpent:0}}},
    saveQuizResult:(moduleId,score,total,timeSpent)=>{
        const progress=ProgressTracker.getProgress();
        const mod=progress.modules[moduleId]||{bestScore:0,totalAttempts:0,allAttempts:[],lessonsViewed:[],completed:false,firstCompleted:null};
        const attempt={date:new Date().toISOString(),score,timeSpent};
        mod.allAttempts.push(attempt);mod.totalAttempts++;
        if(score>mod.bestScore)mod.bestScore=score;
        const passingScore=Math.ceil(total*0.7);
        if(score>=passingScore&&!mod.completed){mod.completed=true;mod.firstCompleted=attempt.date}
        progress.modules[moduleId]=mod;progress.totalTimeSpent+=timeSpent;progress.lastUpdated=new Date().toISOString();
        ProgressTracker.checkBadges(progress,score,total,timeSpent);
        localStorage.setItem(ProgressTracker.STORAGE_KEY,JSON.stringify(progress));return progress;
    },
    checkBadges:(progress,score,total,timeSpent)=>{
        const badges=progress.badges||[];const ids=badges.map(b=>b.id);const now=new Date().toISOString();
        if(!ids.includes('first-quiz'))badges.push({id:'first-quiz',earnedAt:now});
        if(score===total&&!ids.includes('perfect-score'))badges.push({id:'perfect-score',earnedAt:now});
        if(timeSpent<120&&!ids.includes('speed-demon'))badges.push({id:'speed-demon',earnedAt:now});
        const completed=Object.values(progress.modules).filter(m=>m.completed).length;
        if(completed>=5&&!ids.includes('five-complete'))badges.push({id:'five-complete',earnedAt:now});
        if(completed>=10&&!ids.includes('ten-complete'))badges.push({id:'ten-complete',earnedAt:now});
        if(completed>=18&&!ids.includes('master'))badges.push({id:'master',earnedAt:now});
        const mod=progress.modules[MODULE_ID];
        if(mod&&mod.totalAttempts>=3&&!ids.includes('persistent'))badges.push({id:'persistent',earnedAt:now});
        progress.badges=badges;
    }
};

const lessons = [
    { id: 1, title: 'èŒè¡€ç—‡æ¦‚è«–èˆ‡å‰æ¸¬æ©Ÿç‡', sub: 'Overview & Pretest Probability', color: '#1565C0' },
    { id: 2, title: 'ç™¼ç‡’èˆ‡å¯’é¡«è©•ä¼°', sub: 'Fever & Chills Assessment', color: '#00838F' },
    { id: 3, title: 'ç†å­¸æª¢æŸ¥èˆ‡å¯¦é©—å®¤', sub: 'Physical Exam & Labs', color: '#5E35B1' },
    { id: 4, title: 'SIRSèˆ‡Shapiroæ±ºç­–è¦å‰‡', sub: 'Clinical Decision Rules', color: '#2E7D32' },
    { id: 5, title: 'è‡¨åºŠæ‡‰ç”¨æ•´åˆ', sub: 'Clinical Application', color: '#C62828' }
];

const quiz = [
    {
        q: 'æ ¹æ“šç³»çµ±æ€§å›é¡§ï¼Œé€£çºŒæŠ½è¡€åŸ¹é¤Šçš„çœŸé™½æ€§ç‡ç´„ç‚ºå¤šå°‘ï¼Ÿ',
        o: ['1-2%', '4-7%', '15-20%', '25-30%'],
        c: 1,
        e: 'å…©é …é€£çºŒè¡€æ¶²åŸ¹é¤Šç ”ç©¶ä¸­ï¼ŒçœŸé™½æ€§ç‡åˆ†åˆ¥ç‚º4.1%å’Œ7%ã€‚ç„¶è€Œï¼Œç´„ä¸€åŠçš„é™½æ€§åŸ¹é¤Šå¯¦ç‚ºæ±™æŸ“èŒã€‚'
    },
    {
        q: 'ä¸‹åˆ—å“ªç¨®è‡¨åºŠæƒ…å¢ƒçš„èŒè¡€ç—‡å‰æ¸¬æ©Ÿç‡æœ€é«˜ï¼Ÿ',
        o: ['ç¤¾å€æ€§è‚ºç‚ (7%)', 'è…ç›‚è…ç‚ (19-25%)', 'æ•—è¡€æ€§ä¼‘å…‹ (69%)', 'èœ‚çª©æ€§çµ„ç¹”ç‚ (2%)'],
        c: 2,
        e: 'æ•—è¡€æ€§ä¼‘å…‹çš„èŒè¡€ç—‡å‰æ¸¬æ©Ÿç‡æœ€é«˜ï¼Œé”69%ã€‚åš´é‡æ•—è¡€ç—‡ç‚º38%ï¼Œæ€¥æ€§ç´°èŒæ€§è…¦è†œç‚ç‚º53%ã€‚'
    },
    {
        q: 'é—œæ–¼ç™¼ç‡’èˆ‡èŒè¡€ç—‡çš„é—œä¿‚ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ',
        o: ['é«”æº«â‰¥38Â°Cçš„LR+ç´„5.0ï¼Œå¯æœ‰æ•ˆé æ¸¬èŒè¡€ç—‡', 'é«”æº«â‰¥38Â°Cçš„LR+ç´„1.9ï¼Œé æ¸¬åƒ¹å€¼æœ‰é™', 'ç„¡ç™¼ç‡’å¯æœ‰æ•ˆæ’é™¤èŒè¡€ç—‡', 'ä¸»è§€ç™¼ç‡’æ„Ÿæ¯”å¯¦æ¸¬é«”æº«æ›´æœ‰è¨ºæ–·åƒ¹å€¼'],
        c: 1,
        e: 'é«”æº«â‰¥38Â°Cçš„LR+ = 1.9 (95% CI 1.4-2.4)ï¼Œå°é æ¸¬èŒè¡€ç—‡å¹«åŠ©æœ‰é™ã€‚å–®ç¨ç™¼ç‡’æˆ–ç™½è¡€çƒå¢å¤šä¸æ‡‰ä½œç‚ºæŠ½è¡€åŸ¹é¤Šçš„å”¯ä¸€æŒ‡æ¨™ã€‚'
    },
    {
        q: 'é—œæ–¼å¯’é¡«ç¨‹åº¦èˆ‡èŒè¡€ç—‡çš„é—œä¿‚ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ',
        o: ['è¼•åº¦å¯’é¡«æœ€èƒ½é æ¸¬èŒè¡€ç—‡', 'åš´é‡é¡«æŠ–æ€§å¯’é¡«(shaking chills)çš„LRç‚º4.7', 'å®Œå…¨ç„¡å¯’é¡«ä¸å½±éŸ¿èŒè¡€ç—‡æ©Ÿç‡', 'å¯’é¡«ç¨‹åº¦ç„¡æ³•é‡åŒ–è©•ä¼°'],
        c: 1,
        e: 'åš´é‡é¡«æŠ–æ€§å¯’é¡«(shaking chillsï¼Œå³ä½¿åœ¨åšæ¯¯ä¸‹ä»å…¨èº«é¡«æŠ–)çš„LR = 4.7 (3.0-7.2)ï¼Œè€Œå®Œå…¨ç„¡å¯’é¡«çš„LR = 0.24 (0.11-0.55)ã€‚'
    },
    {
        q: 'ä¸‹åˆ—å“ªé …å¯¦é©—å®¤æª¢æŸ¥å°é æ¸¬èŒè¡€ç—‡æœ€æœ‰å¹«åŠ©ï¼Ÿ',
        o: ['ç™½è¡€çƒ>15000/Î¼L (LR+ 1.7)', 'è¡€å°æ¿<150000/Î¼L (LR+ 2.0-2.1)', 'æ·‹å·´çƒ<500/Î¼L (LR+ 3.7)', 'å—œä¸­æ€§çƒå¢å¤š (LR+ 1.4)'],
        c: 2,
        e: 'æ·‹å·´çƒæ¸›å°‘(<500/Î¼L)çš„LR+ = 3.7 (2.6-5.1)æ˜¯æœ€æœ‰ç”¨çš„å¯¦é©—å®¤æŒ‡æ¨™ã€‚ç™½è¡€çƒå’Œå—œä¸­æ€§çƒå‡é«˜çš„LR+éƒ½ä¸è¶…é1.7ã€‚'
    },
    {
        q: 'é—œæ–¼SIRSæ¨™æº–é æ¸¬èŒè¡€ç—‡ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ',
        o: ['SIRSé™½æ€§å¯æœ‰æ•ˆç¢ºèªèŒè¡€ç—‡', 'SIRSé™°æ€§(å°‘æ–¼2é …)å¯æœ‰æ•ˆæ’é™¤èŒè¡€ç—‡ï¼ŒLR- = 0.09', 'SIRSæ¨™æº–ç‰¹ç•°åº¦å¾ˆé«˜', 'SIRSä¸é©ç”¨æ–¼æ„ŸæŸ“ç§‘é ˜åŸŸ'],
        c: 1,
        e: 'SIRSé™°æ€§(å°‘æ–¼2é …æ¨™æº–)çš„LR- = 0.09 (0.03-0.26)ï¼Œå¯æœ‰æ•ˆæ’é™¤èŒè¡€ç—‡ã€‚ä½†SIRSé™½æ€§çš„LR+ = 1.8ï¼Œç‰¹ç•°åº¦ä½ï¼Œç„¡æ³•æœ‰æ•ˆç¢ºèªèŒè¡€ç—‡ã€‚'
    },
    {
        q: 'Shapiroæ±ºç­–è¦å‰‡çš„ä¸»è¦æ¨™æº–(Major criteria)åŒ…å«ä¸‹åˆ—å“ªé …ï¼Ÿ',
        o: ['å¹´é½¡>65æ­²', 'å¿ƒæéé€Ÿ', 'ç–‘ä¼¼å¿ƒå…§è†œç‚', 'ç™½è¡€çƒ>12000/Î¼L'],
        c: 2,
        e: 'Shapiroæ±ºç­–è¦å‰‡çš„ä¸»è¦æ¨™æº–åŒ…æ‹¬ï¼šç–‘ä¼¼å¿ƒå…§è†œç‚ã€é«”æº«>39.4Â°Cã€ç•™ç½®å°ç®¡ã€‚æ¬¡è¦æ¨™æº–åŒ…æ‹¬ï¼šå¹´é½¡>65æ­²ã€å¯’é¡«ã€å˜”åã€ä½è¡€å£“ç­‰ã€‚'
    },
    {
        q: 'Shapiroæ±ºç­–è¦å‰‡å¦‚ä½•åˆ¤å®šéœ€è¦æŠ½è¡€åŸ¹é¤Šï¼Ÿ',
        o: ['ä»»ä½•1é …ä¸»è¦æ¨™æº–', 'â‰¥1é …ä¸»è¦æ¨™æº– æˆ– â‰¥2é …æ¬¡è¦æ¨™æº–', 'â‰¥2é …ä¸»è¦æ¨™æº– æˆ– â‰¥3é …æ¬¡è¦æ¨™æº–', 'å…¨éƒ¨æ¬¡è¦æ¨™æº–éƒ½ç¬¦åˆ'],
        c: 1,
        e: 'ç•¶ç¬¦åˆâ‰¥1é …ä¸»è¦æ¨™æº– æˆ– â‰¥2é …æ¬¡è¦æ¨™æº–æ™‚ï¼Œå»ºè­°æŠ½è¡€åŸ¹é¤Šã€‚æ­¤è¦å‰‡çš„LR- = 0.08 (0.04-0.17)ï¼Œå¯æœ‰æ•ˆè­˜åˆ¥ä½é¢¨éšªç—…äººã€‚'
    },
    {
        q: 'ä¸€ä½62æ­²å¥³æ€§å› å’³å—½ã€å‘¼å¸å›°é›£ã€ç™¼ç‡’è‡³æ€¥è¨ºï¼Œé«”æº«38.4Â°Cï¼Œå¿ƒé›»åœ–æ­£å¸¸ï¼Œç„¡ä½è¡€å£“ï¼Œèƒ¸éƒ¨Xå…‰é¡¯ç¤ºå·¦è‚ºæµ¸æ½¤ã€‚ç„¡SIRSæ¨™æº–ä¸”ä¸ç¬¦åˆShapiroæ¨™æº–ã€‚èŒè¡€ç—‡æ©Ÿç‡ç´„ç‚ºå¤šå°‘ï¼Ÿ',
        o: ['ç´„0.7%', 'ç´„5%', 'ç´„13%', 'ç´„25%'],
        c: 0,
        e: 'ç¤¾å€æ€§è‚ºç‚çš„å‰æ¸¬æ©Ÿç‡ç´„7%ã€‚ä¸ç¬¦åˆSIRSåŠShapiroæ¨™æº–(LR- = 0.08-0.09)ï¼Œå¾Œæ¸¬æ©Ÿç‡é™è‡³ç´„0.7%ï¼Œå¯è€ƒæ…®ä¸éœ€æŠ½è¡€åŸ¹é¤Šã€‚'
    },
    {
        q: 'é—œæ–¼è¡€æ¶²åŸ¹é¤Šçš„è‡¨åºŠå»ºè­°ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ',
        o: ['æ‰€æœ‰ç™¼ç‡’ç—…äººéƒ½æ‡‰æŠ½è¡€åŸ¹é¤Š', 'å–®ç¨ç™¼ç‡’æˆ–ç™½è¡€çƒå¢å¤šä¸æ‡‰æ˜¯æŠ½è¡€åŸ¹é¤Šçš„å”¯ä¸€ä¾æ“š', 'SIRSé™½æ€§çš„ç—…äººä¸€å®šéœ€è¦æŠ½è¡€åŸ¹é¤Š', 'å…ç–«ä¸å…¨ç—…äººå¯é©ç”¨ç›¸åŒæ¨™æº–'],
        c: 1,
        e: 'å–®ç¨ç™¼ç‡’æˆ–ç™½è¡€çƒå¢å¤šä¸æ‡‰ä½œç‚ºæŠ½è¡€åŸ¹é¤Šçš„å”¯ä¸€ä¾æ“šï¼Œæ‡‰è€ƒæ…®å‰æ¸¬æ©Ÿç‡ã€‚æœ¬ç ”ç©¶çµè«–ä¸é©ç”¨æ–¼å…ç–«ä¸å…¨ç—…äººæˆ–ç–‘ä¼¼å¿ƒå…§è†œç‚ã€‚'
    }
];

const App = () => {
    const [page, setPage] = useState('home');
    const [lessonId, setLessonId] = useState(1);
    const [qIdx, setQIdx] = useState(0);
    const [score, setScore] = useState(0);
    const [sel, setSel] = useState(null);
    const [show, setShow] = useState(false);
    const [done, setDone] = useState(false);
    const [quizStartTime, setQuizStartTime] = useState(null);

    useEffect(() => { if (page === 'quiz' && !done && !quizStartTime) setQuizStartTime(Date.now()) }, [page, done]);
    useEffect(() => { if (done && quizStartTime) { const t = Math.round((Date.now() - quizStartTime) / 1000); ProgressTracker.saveQuizResult(MODULE_ID, score, quiz.length, t) } }, [done]);

    const Header = ({ title }) => (
        <header style={{
            background: '#fff',
            borderBottom: '1px solid rgba(21, 101, 192, 0.1)',
            padding: '14px 16px',
            position: 'sticky',
            top: 0,
            zIndex: 10,
            backdropFilter: 'blur(10px)'
        }}>
            <div style={{ maxWidth: 480, margin: '0 auto', display: 'flex', alignItems: 'center', gap: 12 }}>
                <button
                    onClick={() => page === 'home' ? window.location.href = 'jama-rational-exam.html' : setPage('home')}
                    style={{
                        background: 'linear-gradient(135deg, #E3F2FD, #BBDEFB)',
                        border: 'none',
                        borderRadius: 12,
                        width: 42,
                        height: 42,
                        cursor: 'pointer',
                        color: 'var(--pri)',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        boxShadow: '0 2px 8px rgba(21, 101, 192, 0.1)'
                    }}
                >
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </button>
                <span style={{ fontWeight: 700, color: 'var(--txt)', fontSize: 16 }}>{title}</span>
            </div>
        </header>
    );

    const Home = () => (
        <div className="fade-in">
            <Header title="èŒè¡€ç—‡è¡€æ¶²åŸ¹é¤Šè©•ä¼°" />
            <div style={{
                background: 'linear-gradient(135deg, #1565C0 0%, #00838F 50%, #5E35B1 100%)',
                padding: '36px 20px 44px',
                color: '#fff',
                position: 'relative',
                overflow: 'hidden'
            }}>
                <div style={{
                    position: 'absolute',
                    top: -30,
                    right: -30,
                    width: 150,
                    height: 150,
                    borderRadius: '50%',
                    background: 'rgba(255,255,255,0.1)'
                }} />
                <div style={{ maxWidth: 480, margin: '0 auto', position: 'relative', zIndex: 1 }}>
                    <div style={{
                        background: 'rgba(255,255,255,0.2)',
                        display: 'inline-block',
                        padding: '8px 16px',
                        borderRadius: 50,
                        fontSize: 12,
                        fontWeight: 600,
                        marginBottom: 16,
                        backdropFilter: 'blur(10px)'
                    }}>
                        ğŸ¦  JAMA Rational Clinical Examination
                    </div>
                    <h1 style={{ fontSize: 24, fontWeight: 700, marginBottom: 12, lineHeight: 1.3 }}>
                        Does This Patient With Suspected Bacteremia Require Blood Cultures?
                    </h1>
                    <p style={{ opacity: 0.95, fontSize: 14, lineHeight: 1.7 }}>
                        ç–‘ä¼¼èŒè¡€ç—‡æˆäººæ‚£è€…çš„è¡€æ¶²åŸ¹é¤Šè©•ä¼°
                    </p>
                    <p style={{ opacity: 0.8, fontSize: 12, marginTop: 8 }}>
                        Coburn BC, et al. JAMA. 2012;308(5):502-511
                    </p>
                    <a
                        href="https://jamanetwork.com/journals/jama/fullarticle/1346169"
                        target="_blank"
                        rel="noopener noreferrer"
                        style={{
                            display:'inline-flex',
                            alignItems:'center',
                            gap:6,
                            background:'rgba(255,255,255,0.25)',
                            color:'#fff',
                            padding:'8px 16px',
                            borderRadius:25,
                            fontSize:13,
                            fontWeight:600,
                            textDecoration:'none',
                            backdropFilter:'blur(10px)',
                            marginTop: 12,
                            transition:'all 0.3s'
                        }}
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                        é–±è®€åŸæ–‡ Read Full Article
                    </a>
                </div>
            </div>

            <div style={{ padding: '0 16px', marginTop: -24 }}>
                <div style={{ maxWidth: 480, margin: '0 auto' }}>
                    <div className="card">
                        <h3 style={{ fontSize: 17, fontWeight: 700, color: 'var(--pri)', marginBottom: 14, display: 'flex', alignItems: 'center', gap: 8 }}>
                            <span style={{ fontSize: 22 }}>ğŸ¯</span> å­¸ç¿’ç›®æ¨™
                        </h3>
                        {[
                            'äº†è§£èŒè¡€ç—‡çš„å‰æ¸¬æ©Ÿç‡èˆ‡è‡¨åºŠæƒ…å¢ƒ',
                            'è©•ä¼°ç™¼ç‡’èˆ‡å¯’é¡«å°èŒè¡€ç—‡çš„è¨ºæ–·åƒ¹å€¼',
                            'èªè­˜SIRSèˆ‡Shapiroæ±ºç­–è¦å‰‡',
                            'å­¸ç¿’æ•´åˆè‡¨åºŠè³‡è¨Šæ±ºå®šæ˜¯å¦éœ€è¦è¡€åŸ¹é¤Š'
                        ].map((t, i) => (
                            <div key={i} style={{ display: 'flex', gap: 12, marginBottom: 10, fontSize: 14 }}>
                                <span style={{
                                    background: 'linear-gradient(135deg, var(--suc), #43A047)',
                                    color: '#fff',
                                    borderRadius: 8,
                                    width: 26,
                                    height: 26,
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: 13,
                                    flexShrink: 0,
                                    fontWeight: 600
                                }}>{i + 1}</span>
                                <span style={{ color: 'var(--txt2)', lineHeight: 1.6 }}>{t}</span>
                            </div>
                        ))}
                    </div>

                    <div className="danger" style={{ marginBottom: 20 }}>
                        <strong style={{ color: 'var(--danger)', display: 'flex', alignItems: 'center', gap: 6 }}>
                            âš ï¸ è‡¨åºŠé‡è¦æ€§
                        </strong>
                        <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 8, lineHeight: 1.7 }}>
                            æ¯å¹´ç¾åœ‹ç´„ç™¼ç”Ÿ20è¬ä¾‹èŒè¡€ç—‡ï¼Œè¡€æ¶²åŸ¹é¤Šé™½æ€§ç‡åƒ…4-7%ï¼Œå…¶ä¸­ç´„åŠæ•¸ç‚ºæ±™æŸ“ã€‚ä¸ç•¶çš„è¡€æ¶²åŸ¹é¤Šå¯èƒ½é€ æˆè³‡æºæµªè²»ã€å‡é™½æ€§å°è‡´ä¸å¿…è¦çš„æ²»ç™‚ï¼Œä»¥åŠå¢åŠ ä½é™¢å¤©æ•¸ã€‚
                        </p>
                    </div>

                    <h3 style={{ fontSize: 18, fontWeight: 700, marginBottom: 16, color: 'var(--txt)' }}>ğŸ“š èª²ç¨‹å…§å®¹</h3>
                    {lessons.map(l => (
                        <div
                            key={l.id}
                            className="card"
                            onClick={() => { setLessonId(l.id); setPage('lesson'); }}
                            style={{ cursor: 'pointer', transition: 'all 0.3s ease' }}
                        >
                            <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>
                                <div style={{
                                    width: 52,
                                    height: 52,
                                    borderRadius: 14,
                                    background: `linear-gradient(135deg, ${l.color}, ${l.color}99)`,
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    color: '#fff',
                                    fontWeight: 700,
                                    fontSize: 18,
                                    boxShadow: `0 4px 12px ${l.color}33`
                                }}>{l.id}</div>
                                <div style={{ flex: 1 }}>
                                    <div style={{ fontSize: 11, color: l.color, fontWeight: 600, marginBottom: 2 }}>Lesson {l.id}</div>
                                    <div style={{ fontSize: 16, fontWeight: 700, color: 'var(--txt)' }}>{l.title}</div>
                                    <div style={{ fontSize: 13, color: 'var(--txt2)' }}>{l.sub}</div>
                                </div>
                                <svg viewBox="0 0 24 24" fill={l.color} width="22" height="22">
                                    <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
                                </svg>
                            </div>
                        </div>
                    ))}

                    <button
                        className="btn btn-pri"
                        onClick={() => { setQIdx(0); setScore(0); setSel(null); setShow(false); setDone(false); setPage('quiz'); }}
                        style={{ width: '100%', justifyContent: 'center', marginTop: 24, marginBottom: 16, padding: '16px 24px' }}
                    >
                        ğŸ“ é–‹å§‹æ¸¬é©— (10é¡Œ)
                    </button>

                    <a
                        href="https://jamanetwork.com/journals/jama/fullarticle/1346169"
                        target="_blank"
                        rel="noopener noreferrer"
                        style={{
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            gap: 8,
                            padding: '14px 20px',
                            background: 'linear-gradient(135deg, #F8F9FA, #E9ECEF)',
                            borderRadius: 14,
                            textDecoration: 'none',
                            color: 'var(--pri)',
                            fontSize: 14,
                            fontWeight: 600,
                            marginBottom: 32,
                            border: '1px solid rgba(21, 101, 192, 0.2)'
                        }}
                    >
                        ğŸ“„ é–±è®€åŸæ–‡ (JAMA 2012)
                        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                            <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <footer style={{ background: 'linear-gradient(135deg, #E3F2FD, #BBDEFB)', padding: '28px 16px', textAlign: 'center' }}>
                <p style={{ fontSize: 13, color: 'var(--txt2)', fontWeight: 600 }}>æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨</p>
                <p style={{ fontSize: 12, color: 'var(--txt2)', marginTop: 4 }}>è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯</p>
            </footer>
        </div>
    );

    // Lesson 1: èŒè¡€ç—‡æ¦‚è«–èˆ‡å‰æ¸¬æ©Ÿç‡
    const L1 = () => (
        <div className="fade-in">
            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--pri)', marginBottom: 14 }}>ğŸ¦  ä»€éº¼æ˜¯èŒè¡€ç—‡ï¼Ÿ</h3>
                <p style={{ fontSize: 14, color: 'var(--txt2)', lineHeight: 1.8 }}>
                    èŒè¡€ç—‡(Bacteremia)æŒ‡è¡€æ¶²ä¸­å­˜åœ¨ç´°èŒï¼Œé€šå¸¸æ˜¯å› å±€éƒ¨æ„ŸæŸ“æ’­æ•£è‡³è¡€æ¶²ï¼Œæˆ–ç„¡æ˜ç¢ºæ„ŸæŸ“æºçš„åŸç™¼æ€§èŒè¡€ç—‡ã€‚
                </p>
                <div className="formula">
                    è¡€æ¶²åŸ¹é¤Šé™½æ€§ç‡ â‰ˆ 4-7% (çœŸé™½æ€§)<br/>
                    å…¶ä¸­ç´„50%ç‚ºæ±™æŸ“èŒï¼
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--sec)', marginBottom: 14 }}>ğŸ“Š è‡¨åºŠæƒ…å¢ƒèˆ‡å‰æ¸¬æ©Ÿç‡</h3>
                <table>
                    <thead>
                        <tr>
                            <th>è‡¨åºŠæƒ…å¢ƒ</th>
                            <th>å‰æ¸¬æ©Ÿç‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style={{ background: '#E8F5E9' }}>
                            <td style={{ fontWeight: 600, color: 'var(--suc)' }}>èœ‚çª©æ€§çµ„ç¹”ç‚</td>
                            <td>2%</td>
                        </tr>
                        <tr style={{ background: '#E8F5E9' }}>
                            <td style={{ fontWeight: 600, color: 'var(--suc)' }}>é–€è¨ºç—…äºº</td>
                            <td>2%</td>
                        </tr>
                        <tr style={{ background: '#E8F5E9' }}>
                            <td>ç¤¾å€æ€§è‚ºç‚</td>
                            <td>7%</td>
                        </tr>
                        <tr>
                            <td>éœ€ä½é™¢çš„ç¤¾å€ç™¼ç‡’</td>
                            <td>13%</td>
                        </tr>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600, color: '#F57F17' }}>è…ç›‚è…ç‚</td>
                            <td>19-25%</td>
                        </tr>
                        <tr style={{ background: '#FFEBEE' }}>
                            <td style={{ fontWeight: 700, color: 'var(--danger)' }}>åš´é‡æ•—è¡€ç—‡</td>
                            <td>38%</td>
                        </tr>
                        <tr style={{ background: '#FFEBEE' }}>
                            <td style={{ fontWeight: 700, color: 'var(--danger)' }}>æ€¥æ€§ç´°èŒæ€§è…¦è†œç‚</td>
                            <td>53%</td>
                        </tr>
                        <tr style={{ background: '#FFEBEE' }}>
                            <td style={{ fontWeight: 700, color: 'var(--danger)' }}>æ•—è¡€æ€§ä¼‘å…‹</td>
                            <td>69%</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--info)', marginBottom: 14 }}>ğŸ’¡ é—œéµè§€å¿µ</h3>
                <div className="tip">
                    <strong>ç‚ºä½•é‡è¦ï¼Ÿ</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        èŒè¡€ç—‡æ­»äº¡ç‡é«˜é”14-37%ã€‚æ—©æœŸé©ç•¶çš„æŠ—ç”Ÿç´ æ²»ç™‚å¯é™ä½æ­»äº¡ç‡ï¼Œä½†è¡€åŸ¹é¤Šçš„å‡é™½æ€§(æ±™æŸ“)æœƒå°è‡´ï¼š
                    </p>
                    <ul style={{ marginTop: 8, marginLeft: 16, color: 'var(--txt2)', fontSize: 14 }}>
                        <li>è²»ç”¨å¢åŠ 50%</li>
                        <li>ä½é™¢å¤©æ•¸å¢åŠ 64%</li>
                        <li>ä¸å¿…è¦çš„æª¢æŸ¥èˆ‡æ²»ç™‚</li>
                    </ul>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: '#6A1B9A', marginBottom: 14 }}>ğŸ”¬ å¸¸è¦‹çš„èŒè¡€ç—‡ä¾†æº</h3>
                <div style={{ display: 'grid', gap: 10 }}>
                    {['å‘¼å¸é“æ„ŸæŸ“', 'æ³Œå°¿é“æ„ŸæŸ“', 'è…¹è…”å…§æ„ŸæŸ“', 'ä¸­å¤®éœè„ˆå°ç®¡æ„ŸæŸ“', 'çš®è†šè»Ÿçµ„ç¹”æ„ŸæŸ“'].map((item, i) => (
                        <div key={i} style={{
                            background: 'linear-gradient(135deg, #EDE7F6, #D1C4E9)',
                            padding: '12px 16px',
                            borderRadius: 12,
                            fontSize: 14
                        }}>
                            <strong>{i + 1}.</strong> {item}
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );

    // Lesson 2: ç™¼ç‡’èˆ‡å¯’é¡«è©•ä¼°
    const L2 = () => (
        <div className="fade-in">
            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--pri)', marginBottom: 14 }}>ğŸŒ¡ï¸ ç™¼ç‡’å°èŒè¡€ç—‡çš„è¨ºæ–·åƒ¹å€¼</h3>
                <table>
                    <thead>
                        <tr>
                            <th>é«”æº«é–¾å€¼</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style={{ fontWeight: 600 }}>â‰¥40.0Â°C</td>
                            <td>0.3 (0.13-1.0)</td>
                            <td>1.1</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>â‰¥39.0Â°C</td>
                            <td>1.1 (0.79-1.6)</td>
                            <td>0.95</td>
                        </tr>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>â‰¥38.5Â°C</td>
                            <td><span className="lr-badge lr-mod">1.4 (1.1-2.0)</span></td>
                            <td>0.50</td>
                        </tr>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>â‰¥38.0Â°C</td>
                            <td><span className="lr-badge lr-mod">1.9 (1.4-2.4)</span></td>
                            <td>0.54</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>â‰¥37.8Â°C</td>
                            <td>1.5 (1.2-1.9)</td>
                            <td>0.65</td>
                        </tr>
                    </tbody>
                </table>
                <div className="danger" style={{ marginTop: 14 }}>
                    <strong>âš ï¸ é‡è¦ç™¼ç¾</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        å–®ç¨ç™¼ç‡’å°é æ¸¬èŒè¡€ç—‡åƒ¹å€¼æœ‰é™ï¼LR+ æœ€é«˜åƒ…ç´„1.9ã€‚<br/>
                        <strong>ä¸»è§€ç™¼ç‡’(ç—…äººè‡ªè¿°)çš„LR+æ¥è¿‘1.0ï¼Œå¹¾ä¹ç„¡è¨ºæ–·åƒ¹å€¼ã€‚</strong>
                    </p>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--sec)', marginBottom: 14 }}>â„ï¸ å¯’é¡«ç¨‹åº¦çš„è¨ºæ–·åƒ¹å€¼</h3>
                <table>
                    <thead>
                        <tr>
                            <th>å¯’é¡«ç¨‹åº¦</th>
                            <th>å®šç¾©</th>
                            <th>LR</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style={{ background: '#FFEBEE' }}>
                            <td style={{ fontWeight: 700, color: 'var(--danger)' }}>åš´é‡é¡«æŠ–æ€§å¯’é¡«</td>
                            <td style={{ fontSize: 12 }}>å³ä½¿è“‹åšæ¯¯ä»å…¨èº«é¡«æŠ–</td>
                            <td><span className="lr-badge lr-high">4.7 (3.0-7.2)</span></td>
                        </tr>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>ä¸­åº¦å¯’é¡«</td>
                            <td style={{ fontSize: 12 }}>éœ€è“‹åšæ¯¯çš„æ¥µåº¦ç•å¯’</td>
                            <td><span className="lr-badge lr-mod">1.7 (1.0-2.8)</span></td>
                        </tr>
                        <tr>
                            <td>è¼•åº¦å¯’é¡«</td>
                            <td style={{ fontSize: 12 }}>éœ€ç©¿å¤–å¥—çš„ç•å¯’</td>
                            <td>0.61 (0.26-1.4)</td>
                        </tr>
                        <tr style={{ background: '#E8F5E9' }}>
                            <td style={{ fontWeight: 700, color: 'var(--suc)' }}>å®Œå…¨ç„¡å¯’é¡«</td>
                            <td>â€”</td>
                            <td><span className="lr-badge lr-low">0.24 (0.11-0.55)</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--info)', marginBottom: 14 }}>ğŸ“‹ ç™¼ç‡’ç—…äººçš„å¯’é¡«</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ç™¼ç‡’åˆä½µå¯’é¡«</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style={{ fontWeight: 600 }}>æœ‰å¯’é¡«</td>
                            <td><span className="lr-badge lr-mod">2.2 (1.4-3.3)</span></td>
                            <td>â€”</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>ç„¡å¯’é¡«</td>
                            <td>â€”</td>
                            <td>0.56 (0.41-0.76)</td>
                        </tr>
                    </tbody>
                </table>
                <div className="good" style={{ marginTop: 14 }}>
                    <strong>âœ“ è‡¨åºŠè¦é»</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        è©¢å•å¯’é¡«<strong>ç¨‹åº¦</strong>æ¯”å–®ç´”è©¢å•æœ‰ç„¡å¯’é¡«æ›´æœ‰åƒ¹å€¼ã€‚åš´é‡é¡«æŠ–æ€§å¯’é¡«æ˜¯æ‰€æœ‰ç™¼ç‡’ç›¸é—œç—‡ç‹€ä¸­æœ€æœ‰ç”¨çš„é æ¸¬å› å­ï¼
                    </p>
                </div>
            </div>
        </div>
    );

    // Lesson 3: ç†å­¸æª¢æŸ¥èˆ‡å¯¦é©—å®¤
    const L3 = () => (
        <div className="fade-in">
            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--pri)', marginBottom: 14 }}>ğŸ” ç†å­¸æª¢æŸ¥ç™¼ç¾</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ç†å­¸æª¢æŸ¥</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>ä½è¡€å£“/ä¼‘å…‹</td>
                            <td><span className="lr-badge lr-mod">~2.0</span></td>
                            <td>â€”</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>å¿ƒæéé€Ÿ (>100/min)</td>
                            <td>1.4 (1.2-1.8)</td>
                            <td>0.67</td>
                        </tr>
                    </tbody>
                </table>
                <div className="tip">
                    <strong>ğŸ’¡ è‡¨åºŠæ„ç¾©</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        å–®ç¨çš„å¿ƒæéé€Ÿå°é æ¸¬èŒè¡€ç—‡å¹«åŠ©æœ‰é™ã€‚ä½è¡€å£“æˆ–ä¼‘å…‹å¯å¢åŠ èŒè¡€ç—‡å¯èƒ½æ€§ï¼Œä½†LR+ä¹Ÿåƒ…ç´„2.0ã€‚
                    </p>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--sec)', marginBottom: 14 }}>ğŸ§ª ç™½è¡€çƒè¨ˆæ•¸</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æŒ‡æ¨™</th>
                            <th>é–¾å€¼</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style={{ fontWeight: 600 }}>ç™½è¡€çƒå¢å¤š</td>
                            <td>10,000-15,000/Î¼L</td>
                            <td><span className="lr-badge" style={{ background: '#E0E0E0', color: '#666' }}>&lt;1.7</span></td>
                            <td>&gt;0.60</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>Band formså¢åŠ </td>
                            <td>â€”</td>
                            <td>èˆ‡ç¸½ç™½è¡€çƒé¡ä¼¼</td>
                            <td>â€”</td>
                        </tr>
                    </tbody>
                </table>
                <div className="danger" style={{ marginTop: 14 }}>
                    <strong>âš ï¸ é‡è¦ç™¼ç¾</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        ç™½è¡€çƒå¢å¤šå°é æ¸¬èŒè¡€ç—‡<strong>åƒ¹å€¼æœ‰é™</strong>ï¼LR+ éƒ½ä¸è¶…é1.7ï¼Œç„¡æ³•ä½œç‚ºæ˜¯å¦æŠ½è¡€åŸ¹é¤Šçš„å”¯ä¸€ä¾æ“šã€‚
                    </p>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--info)', marginBottom: 14 }}>ğŸ“Š å…¶ä»–å¯¦é©—å®¤æŒ‡æ¨™</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æŒ‡æ¨™</th>
                            <th>é–¾å€¼</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style={{ background: '#FFEBEE' }}>
                            <td style={{ fontWeight: 700, color: 'var(--danger)' }}>æ·‹å·´çƒæ¸›å°‘</td>
                            <td>&lt;500/Î¼L</td>
                            <td><span className="lr-badge lr-high">3.7 (2.6-5.1)</span></td>
                            <td>â€”</td>
                        </tr>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>æ·‹å·´çƒæ¸›å°‘</td>
                            <td>&lt;1000/Î¼L</td>
                            <td><span className="lr-badge lr-mod">1.6-2.3</span></td>
                            <td>0.45-0.51</td>
                        </tr>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>N/Læ¯”å€¼</td>
                            <td>&gt;10</td>
                            <td><span className="lr-badge lr-mod">1.6-2.3</span></td>
                            <td>0.36-0.76</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>è¡€å°æ¿æ¸›å°‘</td>
                            <td>&lt;150,000/Î¼L</td>
                            <td>2.0-2.1</td>
                            <td>0.68-0.91</td>
                        </tr>
                    </tbody>
                </table>
                <div className="good" style={{ marginTop: 14 }}>
                    <strong>âœ“ æœ€æœ‰åƒ¹å€¼çš„æŒ‡æ¨™</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        <strong>åš´é‡æ·‹å·´çƒæ¸›å°‘(&lt;500/Î¼L)</strong>æ˜¯æ‰€æœ‰å¯¦é©—å®¤æŒ‡æ¨™ä¸­æœ€æœ‰ç”¨çš„ï¼ŒLR+ = 3.7ã€‚å—œä¸­æ€§çƒ/æ·‹å·´çƒæ¯”å€¼(N/L ratio)>10ä¹Ÿæœ‰ä¸€å®šåƒ¹å€¼ã€‚
                    </p>
                </div>
            </div>
        </div>
    );

    // Lesson 4: SIRSèˆ‡Shapiroæ±ºç­–è¦å‰‡
    const L4 = () => (
        <div className="fade-in">
            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--pri)', marginBottom: 14 }}>ğŸ¥ SIRSæ¨™æº–</h3>
                <div className="formula">
                    SIRS = ç¬¦åˆä»¥ä¸‹â‰¥2é …æ¨™æº–
                </div>
                <div style={{ display: 'grid', gap: 10, marginTop: 14 }}>
                    <div className="score-box">
                        <h4 style={{ color: 'var(--pri)', marginBottom: 8, fontSize: 14 }}>1. é«”æº«</h4>
                        <div style={{ fontSize: 13, color: 'var(--txt2)' }}>
                            &lt;36Â°C æˆ– &gt;38Â°C
                        </div>
                    </div>
                    <div className="score-box">
                        <h4 style={{ color: 'var(--sec)', marginBottom: 8, fontSize: 14 }}>2. å¿ƒç‡</h4>
                        <div style={{ fontSize: 13, color: 'var(--txt2)' }}>
                            &gt;90/min
                        </div>
                    </div>
                    <div className="score-box">
                        <h4 style={{ color: '#6A1B9A', marginBottom: 8, fontSize: 14 }}>3. å‘¼å¸é€Ÿç‡</h4>
                        <div style={{ fontSize: 13, color: 'var(--txt2)' }}>
                            &gt;22/min æˆ– pCOâ‚‚ &lt;32 mmHg
                        </div>
                    </div>
                    <div className="score-box">
                        <h4 style={{ color: 'var(--danger)', marginBottom: 8, fontSize: 14 }}>4. ç™½è¡€çƒ</h4>
                        <div style={{ fontSize: 13, color: 'var(--txt2)' }}>
                            &lt;4000/Î¼L æˆ– &gt;12000/Î¼L<br/>
                            æˆ– band forms &gt;10%
                        </div>
                    </div>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--sec)', marginBottom: 14 }}>ğŸ“Š SIRSçš„è¨ºæ–·è¡¨ç¾</h3>
                <table>
                    <thead>
                        <tr>
                            <th>SIRS</th>
                            <th>æ•æ„Ÿåº¦</th>
                            <th>ç‰¹ç•°åº¦</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style={{ background: '#FFF8E1' }}>
                            <td style={{ fontWeight: 600 }}>â‰¥2é …æ¨™æº–</td>
                            <td>96%</td>
                            <td>47%</td>
                            <td>1.8 (1.6-2.0)</td>
                            <td><span className="lr-badge lr-low">0.09 (0.03-0.26)</span></td>
                        </tr>
                    </tbody>
                </table>
                <div className="good" style={{ marginTop: 14 }}>
                    <strong>âœ“ è‡¨åºŠæ‡‰ç”¨</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        SIRSé™°æ€§(å°‘æ–¼2é …æ¨™æº–)å¯æœ‰æ•ˆ<strong>æ’é™¤</strong>èŒè¡€ç—‡(LR- = 0.09)ã€‚<br/>
                        ä½†SIRSé™½æ€§çš„ç‰¹ç•°åº¦ä½ï¼Œç„¡æ³•æœ‰æ•ˆç¢ºèªèŒè¡€ç—‡ã€‚
                    </p>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--info)', marginBottom: 14 }}>ğŸ“‹ Shapiroæ±ºç­–è¦å‰‡</h3>
                <div className="formula">
                    éœ€è¦è¡€åŸ¹é¤Š = â‰¥1é …ä¸»è¦æ¨™æº– æˆ– â‰¥2é …æ¬¡è¦æ¨™æº–
                </div>
                <div style={{ display: 'grid', gap: 16, marginTop: 14 }}>
                    <div>
                        <h4 style={{ color: 'var(--danger)', marginBottom: 10, fontSize: 15 }}>ğŸ”´ ä¸»è¦æ¨™æº– (Major)</h4>
                        <div style={{ display: 'grid', gap: 8 }}>
                            {['ç–‘ä¼¼å¿ƒå…§è†œç‚', 'é«”æº« >39.4Â°C', 'ç•™ç½®å°ç®¡'].map((item, i) => (
                                <div key={i} style={{
                                    background: 'linear-gradient(135deg, #FFEBEE, #FFCDD2)',
                                    padding: '10px 14px',
                                    borderRadius: 10,
                                    fontSize: 13,
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: 10
                                }}>
                                    <span style={{
                                        background: 'var(--danger)',
                                        color: '#fff',
                                        borderRadius: '50%',
                                        width: 22,
                                        height: 22,
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        fontSize: 12,
                                        fontWeight: 700,
                                        flexShrink: 0
                                    }}>M</span>
                                    {item}
                                </div>
                            ))}
                        </div>
                    </div>
                    <div>
                        <h4 style={{ color: '#F57F17', marginBottom: 10, fontSize: 15 }}>ğŸŸ¡ æ¬¡è¦æ¨™æº– (Minor)</h4>
                        <div style={{ display: 'grid', gap: 8, gridTemplateColumns: '1fr 1fr' }}>
                            {['é«”æº« 38.3-39.3Â°C', 'å¹´é½¡ >65æ­²', 'å¯’é¡«', 'å˜”å', 'SBP <90 mmHg', 'WBC >18000/Î¼L', 'Cr >2 mg/dL', 'PLT <150000/Î¼L', 'å—œä¸­æ€§çƒ >80%', 'Band forms >5%'].map((item, i) => (
                                <div key={i} style={{
                                    background: 'linear-gradient(135deg, #FFF8E1, #FFECB3)',
                                    padding: '8px 10px',
                                    borderRadius: 8,
                                    fontSize: 12
                                }}>
                                    {item}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--suc)', marginBottom: 14 }}>ğŸ“Š Shapiroè¦å‰‡çš„è¨ºæ–·è¡¨ç¾</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ä¸–ä»£</th>
                            <th>æ•æ„Ÿåº¦</th>
                            <th>ç‰¹ç•°åº¦</th>
                            <th>LR+ (95% CI)</th>
                            <th>LR-</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style={{ fontWeight: 600 }}>å»ºç«‹çµ„</td>
                            <td>98%</td>
                            <td>29%</td>
                            <td>1.4</td>
                            <td>0.07</td>
                        </tr>
                        <tr>
                            <td style={{ fontWeight: 600 }}>é©—è­‰çµ„</td>
                            <td>97%</td>
                            <td>29%</td>
                            <td>1.4</td>
                            <td>0.10</td>
                        </tr>
                        <tr style={{ background: '#E8F5E9' }}>
                            <td style={{ fontWeight: 700, color: 'var(--suc)' }}>ç¶œåˆ</td>
                            <td>â€”</td>
                            <td>â€”</td>
                            <td>1.3 (1.2-1.4)</td>
                            <td><span className="lr-badge lr-low">0.08 (0.04-0.17)</span></td>
                        </tr>
                    </tbody>
                </table>
                <div className="info" style={{ marginTop: 14 }}>
                    <strong>ğŸ’¡ ä½é¢¨éšªå®šç¾©</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        ä¸ç¬¦åˆä»»ä½•ä¸»è¦æ¨™æº–ä¸”æ¬¡è¦æ¨™æº–å°‘æ–¼2é …çš„ç—…äººï¼ŒèŒè¡€ç—‡é¢¨éšªå¾ˆä½ï¼ˆé©—è­‰çµ„åƒ…0.9%ï¼‰ï¼Œå¯èƒ½ä¸éœ€è¦è¡€åŸ¹é¤Šã€‚
                    </p>
                </div>
            </div>
        </div>
    );

    // Lesson 5: è‡¨åºŠæ‡‰ç”¨æ•´åˆ
    const L5 = () => (
        <div className="fade-in">
            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--pri)', marginBottom: 14 }}>ğŸ¥ Case 1ï¼š62æ­²å¥³æ€§ç¤¾å€æ€§è‚ºç‚</h3>
                <div className="info">
                    <strong>ç—…å²</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        62æ­²å¥³æ€§å› å’³å—½åŠ åŠ‡ã€å‘¼å¸å›°é›£ã€ç™¼ç‡’è‡³æ€¥è¨ºã€‚é«”æº«38.4Â°Cï¼Œæ„è­˜æ¸…é†’ï¼Œè¡€å£“120/72 mmHgï¼Œå¿ƒç‡86/minï¼Œå‘¼å¸16/minï¼ŒSpOâ‚‚ 94%ã€‚CBCé¡¯ç¤ºè¼•åº¦æ­£çƒæ€§è²§è¡€ï¼Œç„¡ç™½è¡€çƒå¢å¤šæˆ–æ¸›å°‘ã€‚èƒ¸éƒ¨Xå…‰é¡¯ç¤ºå·¦å´è‚ºæµ¸æ½¤ã€‚
                    </p>
                </div>
                <div style={{ marginTop: 14 }}>
                    <h4 style={{ color: 'var(--sec)', marginBottom: 10 }}>ğŸ“‹ SIRSè©•ä¼°</h4>
                    <table>
                        <tbody>
                            <tr>
                                <td style={{ fontWeight: 600 }}>é«”æº« &gt;38Â°C</td>
                                <td style={{ color: 'var(--suc)' }}>âœ” ç¬¦åˆ</td>
                            </tr>
                            <tr>
                                <td style={{ fontWeight: 600 }}>å¿ƒç‡ &gt;90/min</td>
                                <td style={{ color: 'var(--danger)' }}>âœ— ä¸ç¬¦åˆ (86)</td>
                            </tr>
                            <tr>
                                <td style={{ fontWeight: 600 }}>å‘¼å¸ &gt;22/min</td>
                                <td style={{ color: 'var(--danger)' }}>âœ— ä¸ç¬¦åˆ (16)</td>
                            </tr>
                            <tr>
                                <td style={{ fontWeight: 600 }}>ç™½è¡€çƒç•°å¸¸</td>
                                <td style={{ color: 'var(--danger)' }}>âœ— ä¸ç¬¦åˆ</td>
                            </tr>
                            <tr style={{ background: '#E8F5E9' }}>
                                <td style={{ fontWeight: 700 }}>SIRS</td>
                                <td style={{ fontWeight: 700, color: 'var(--suc)' }}>åƒ…1é … (ä¸ç¬¦åˆ)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div className="good" style={{ marginTop: 14 }}>
                    <strong>å¾Œæ¸¬æ©Ÿç‡è¨ˆç®—</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        ç¤¾å€æ€§è‚ºç‚å‰æ¸¬æ©Ÿç‡ï¼š7%<br/>
                        SIRSé™°æ€§ LR- = 0.09<br/>
                        å¾Œæ¸¬æ©Ÿç‡ â‰ˆ <strong>0.67%</strong>
                    </p>
                </div>
                <div className="tip" style={{ marginTop: 14 }}>
                    <strong>ğŸ’¡ è™•ç½®å»ºè­°</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        æ­¤ç—…äººä¸ç¬¦åˆSIRSåŠShapiroæ¨™æº–ï¼ŒèŒè¡€ç—‡é¢¨éšªæ¥µä½ï¼Œå¯èƒ½<strong>ä¸éœ€è¦è¡€æ¶²åŸ¹é¤Š</strong>ã€‚æ‡‰ç›´æ¥çµ¦äºˆé©ç•¶çš„ç¶“é©—æ€§æŠ—ç”Ÿç´ æ²»ç™‚ã€‚
                    </p>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--sec)', marginBottom: 14 }}>ğŸ¥ Case 2ï¼š47æ­²ç”·æ€§è¡“å¾Œç™¼ç‡’</h3>
                <div className="info">
                    <strong>ç—…å²</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        47æ­²ç”·æ€§ï¼Œæœ‰é«˜è¡€å£“ç—…å²ï¼Œæ¥å—é¸æ“‡æ€§è†é—œç¯€åŠæœˆæ¿åˆ‡é™¤è¡“å¾Œç¬¬ä¸€å¤©æ„Ÿè¦ºä¸é©ã€è‡‰æ½®ç´…ã€å› é—œç¯€ç–¼ç—›ä¸é¡˜ç§»å‹•ã€‚å¿ƒç‡118/minï¼Œè¡€å£“108/56 mmHgï¼Œé«”æº«37.4Â°Cã€‚è†é—œç¯€å½Œæ¼«æ€§å£“ç—›åŠç©æ¶²ã€‚WBC 19000/Î¼Lï¼ŒCr 2.1 mg/dLã€‚è‡¨åºŠæ‡·ç–‘åŒ–è†¿æ€§é—œç¯€ç‚ã€‚
                    </p>
                </div>
                <div style={{ marginTop: 14 }}>
                    <h4 style={{ color: 'var(--sec)', marginBottom: 10 }}>ğŸ“‹ è©•ä¼°</h4>
                    <table>
                        <tbody>
                            <tr>
                                <td style={{ fontWeight: 600 }}>SIRS</td>
                                <td style={{ color: 'var(--suc)' }}>âœ” ç¬¦åˆ2é … (å¿ƒç‡>90, WBC>12000)</td>
                            </tr>
                            <tr>
                                <td style={{ fontWeight: 600 }}>Shapiroæ¬¡è¦æ¨™æº–</td>
                                <td style={{ color: 'var(--suc)' }}>âœ” ç¬¦åˆ2é … (WBC>18000, Cr>2)</td>
                            </tr>
                            <tr>
                                <td style={{ fontWeight: 600 }}>åš´é‡æ•—è¡€ç—‡</td>
                                <td style={{ color: 'var(--suc)' }}>âœ” ç–‘ä¼¼æ„ŸæŸ“+å™¨å®˜åŠŸèƒ½éšœç¤™</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div className="danger" style={{ marginTop: 14 }}>
                    <strong>å¾Œæ¸¬æ©Ÿç‡è¨ˆç®—</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        åš´é‡æ•—è¡€ç—‡å‰æ¸¬æ©Ÿç‡ï¼š38%<br/>
                        ç¬¦åˆSIRSåŠShapiroæ¨™æº–ï¼ŒLR+ â‰ˆ 1.4-1.8<br/>
                        å¾Œæ¸¬æ©Ÿç‡ â‰ˆ <strong>46-52%</strong>
                    </p>
                </div>
                <div className="tip" style={{ marginTop: 14 }}>
                    <strong>ğŸ’¡ è™•ç½®å»ºè­°</strong>
                    <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 6 }}>
                        æ­¤ç—…äººé›–ç„¡ç™¼ç‡’ï¼Œä½†ç¬¦åˆSIRSåŠShapiroæ¨™æº–ï¼Œä¸”æœ‰åš´é‡æ•—è¡€ç—‡è¡¨ç¾ã€‚<strong>å¿…é ˆæŠ½è¡€åŸ¹é¤Š</strong>ï¼Œä¸¦ç«‹å³é–‹å§‹ç¶“é©—æ€§æŠ—ç”Ÿç´ æ²»ç™‚ã€‚
                    </p>
                </div>
            </div>

            <div className="card">
                <h3 style={{ fontSize: 18, fontWeight: 700, color: 'var(--suc)', marginBottom: 14 }}>âœ… æ ¸å¿ƒé‡é»ç¸½çµ</h3>
                <div style={{ display: 'grid', gap: 12 }}>
                    {[
                        'èŒè¡€ç—‡çš„å‰æ¸¬æ©Ÿç‡å› è‡¨åºŠæƒ…å¢ƒè€Œç•°(2%-69%)',
                        'å–®ç¨ç™¼ç‡’æˆ–ç™½è¡€çƒå¢å¤šä¸æ‡‰ä½œç‚ºè¡€åŸ¹é¤Šçš„å”¯ä¸€ä¾æ“š',
                        'åš´é‡é¡«æŠ–æ€§å¯’é¡«æ˜¯æœ€æœ‰ç”¨çš„ç—‡ç‹€(LR 4.7)',
                        'æ·‹å·´çƒæ¸›å°‘(<500/Î¼L)æ˜¯æœ€æœ‰ç”¨çš„å¯¦é©—å®¤æŒ‡æ¨™(LR+ 3.7)',
                        'SIRSé™°æ€§å¯æœ‰æ•ˆæ’é™¤èŒè¡€ç—‡(LR- 0.09)',
                        'Shapiroè¦å‰‡å¯è­˜åˆ¥ä½é¢¨éšªä¸éœ€è¡€åŸ¹é¤Šçš„ç—…äºº(LR- 0.08)',
                        'æœ¬çµè«–ä¸é©ç”¨æ–¼å…ç–«ä¸å…¨ç—…äººæˆ–ç–‘ä¼¼å¿ƒå…§è†œç‚'
                    ].map((item, i) => (
                        <div key={i} style={{
                            background: 'linear-gradient(135deg, #E8F5E9, #C8E6C9)',
                            padding: '12px 16px',
                            borderRadius: 12,
                            display: 'flex',
                            alignItems: 'center',
                            gap: 12
                        }}>
                            <span style={{
                                background: 'var(--suc)',
                                color: '#fff',
                                borderRadius: '50%',
                                width: 24,
                                height: 24,
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                fontSize: 12,
                                fontWeight: 700,
                                flexShrink: 0
                            }}>âœ“</span>
                            <span style={{ fontSize: 14, color: 'var(--txt)' }}>{item}</span>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );

    const Lesson = () => {
        const l = lessons.find(x => x.id === lessonId);
        return (
            <div className="fade-in">
                <Header title={l.title} />
                <div style={{ background: `linear-gradient(135deg, ${l.color}, ${l.color}88)`, padding: '20px', color: '#fff' }}>
                    <div style={{ maxWidth: 480, margin: '0 auto' }}>
                        <div style={{ fontSize: 12, opacity: 0.9 }}>Lesson {l.id} â€¢ {l.sub}</div>
                        <h1 style={{ fontSize: 24, fontWeight: 700 }}>{l.title}</h1>
                    </div>
                </div>
                <div style={{ padding: '20px 16px' }}>
                    <div style={{ maxWidth: 480, margin: '0 auto' }}>
                        {lessonId === 1 && <L1 />}
                        {lessonId === 2 && <L2 />}
                        {lessonId === 3 && <L3 />}
                        {lessonId === 4 && <L4 />}
                        {lessonId === 5 && <L5 />}
                        <div style={{ display: 'flex', gap: 12, marginTop: 24 }}>
                            {lessonId > 1 && (
                                <button className="btn" style={{ flex: 1, background: '#fff', border: '2px solid var(--pri)', color: 'var(--pri)' }} onClick={() => setLessonId(lessonId - 1)}>
                                    â† ä¸Šä¸€èª²
                                </button>
                            )}
                            {lessonId < 5 ? (
                                <button className="btn btn-pri" style={{ flex: 1 }} onClick={() => setLessonId(lessonId + 1)}>
                                    ä¸‹ä¸€èª² â†’
                                </button>
                            ) : (
                                <button className="btn btn-sec" style={{ flex: 1 }} onClick={() => { setQIdx(0); setScore(0); setSel(null); setShow(false); setDone(false); setPage('quiz'); }}>
                                    é–‹å§‹æ¸¬é©— ğŸ“
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            </div>
        );
    };

    const Quiz = () => {
        const pick = (i) => { if (show) return; setSel(i); setShow(true); if (i === quiz[qIdx].c) setScore(score + 1); };
        const next = () => { if (qIdx < quiz.length - 1) { setQIdx(qIdx + 1); setSel(null); setShow(false); } else setDone(true); };

        if (done) {
            const pct = Math.round((score / quiz.length) * 100);
            return (
                <div className="fade-in">
                    <Header title="æ¸¬é©—çµæœ" />
                    <div style={{ padding: '48px 16px', textAlign: 'center' }}>
                        <div style={{
                            width: 150,
                            height: 150,
                            borderRadius: '50%',
                            background: `conic-gradient(${pct >= 80 ? 'var(--suc)' : pct >= 60 ? 'var(--warn)' : 'var(--danger)'} ${pct * 3.6}deg, #E5E5E5 0deg)`,
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            margin: '0 auto 28px',
                            boxShadow: '0 8px 32px rgba(0,0,0,0.1)'
                        }}>
                            <div style={{
                                width: 126,
                                height: 126,
                                borderRadius: '50%',
                                background: '#fff',
                                display: 'flex',
                                flexDirection: 'column',
                                alignItems: 'center',
                                justifyContent: 'center'
                            }}>
                                <div style={{ fontSize: 40, fontWeight: 700, color: 'var(--txt)' }}>{pct}%</div>
                                <div style={{ fontSize: 15, color: 'var(--txt2)' }}>{score}/{quiz.length}</div>
                            </div>
                        </div>
                        <h2 style={{ fontSize: 26, fontWeight: 700, marginBottom: 10 }}>
                            {pct >= 80 ? 'ğŸ‰ å„ªç§€ï¼' : pct >= 60 ? 'ğŸ‘ ä¸éŒ¯ï¼' : 'ğŸ’ª åŠ æ²¹ï¼'}
                        </h2>
                        <p style={{ color: 'var(--txt2)', marginBottom: 36, fontSize: 15 }}>
                            {pct >= 80 ? 'ä½ å°èŒè¡€ç—‡è©•ä¼°æŒæ¡è‰¯å¥½ï¼' : pct >= 60 ? 'å†è¤‡ç¿’å¯ä»¥æ›´é€²æ­¥ï¼' : 'å»ºè­°é‡æ–°é–±è®€èª²ç¨‹å…§å®¹'}
                        </p>
                        <div style={{ display: 'flex', gap: 14, justifyContent: 'center', flexWrap: 'wrap' }}>
                            <button className="btn btn-pri" onClick={() => { setQIdx(0); setScore(0); setSel(null); setShow(false); setDone(false); }}>
                                é‡æ–°æ¸¬é©—
                            </button>
                            <button className="btn" style={{ background: '#fff', border: '2px solid var(--pri)', color: 'var(--pri)' }} onClick={() => setPage('home')}>
                                è¿”å›èª²ç¨‹
                            </button>
                        </div>
                    </div>
                    <footer style={{ background: 'linear-gradient(135deg, #E3F2FD, #BBDEFB)', padding: '28px 16px', textAlign: 'center', marginTop: 48 }}>
                        <p style={{ fontSize: 12, color: 'var(--txt2)' }}>æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨ | è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯</p>
                    </footer>
                </div>
            );
        }

        const q = quiz[qIdx];
        return (
            <div className="fade-in">
                <Header title="è‡ªæˆ‘æ¸¬é©—" />
                <div style={{ padding: '20px 16px' }}>
                    <div style={{ maxWidth: 480, margin: '0 auto' }}>
                        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 10, fontSize: 14 }}>
                            <span style={{ color: 'var(--txt2)' }}>é€²åº¦</span>
                            <span style={{ fontWeight: 600, color: 'var(--pri)' }}>{qIdx + 1}/{quiz.length}</span>
                        </div>
                        <div style={{ height: 10, background: '#E5E5E5', borderRadius: 5, marginBottom: 24, overflow: 'hidden' }}>
                            <div style={{
                                height: '100%',
                                width: `${((qIdx + 1) / quiz.length) * 100}%`,
                                background: 'linear-gradient(90deg, var(--pri), var(--pri2))',
                                borderRadius: 5,
                                transition: 'width 0.4s ease'
                            }} />
                        </div>
                        <div className="card">
                            <h3 style={{ fontSize: 16, fontWeight: 600, lineHeight: 1.7, marginBottom: 22, color: 'var(--txt)' }}>{q.q}</h3>
                            {q.o.map((opt, i) => {
                                let bg = '#fff', bd = '#E5E5E5';
                                if (show) {
                                    if (i === q.c) { bg = '#E8F5E9'; bd = 'var(--suc)'; }
                                    else if (i === sel) { bg = '#FFEBEE'; bd = 'var(--danger)'; }
                                } else if (i === sel) { bg = '#E3F2FD'; bd = 'var(--pri)'; }
                                return (
                                    <button
                                        key={i}
                                        onClick={() => pick(i)}
                                        disabled={show}
                                        style={{
                                            width: '100%',
                                            padding: '14px 16px',
                                            marginBottom: 12,
                                            background: bg,
                                            border: `2px solid ${bd}`,
                                            borderRadius: 14,
                                            textAlign: 'left',
                                            fontSize: 14,
                                            cursor: show ? 'default' : 'pointer',
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: 14,
                                            transition: 'all 0.2s ease'
                                        }}
                                    >
                                        <span style={{
                                            width: 30,
                                            height: 30,
                                            borderRadius: 10,
                                            background: show && i === q.c ? 'var(--suc)' : show && i === sel ? 'var(--danger)' : 'linear-gradient(135deg, #E3F2FD, #BBDEFB)',
                                            color: show && (i === q.c || i === sel) ? '#fff' : 'var(--pri)',
                                            display: 'flex',
                                            alignItems: 'center',
                                            justifyContent: 'center',
                                            fontWeight: 700,
                                            fontSize: 14,
                                            flexShrink: 0
                                        }}>
                                            {show && i === q.c ? 'âœ“' : show && i === sel && i !== q.c ? 'âœ—' : String.fromCharCode(65 + i)}
                                        </span>
                                        <span style={{ lineHeight: 1.6, color: 'var(--txt)' }}>{opt}</span>
                                    </button>
                                );
                            })}
                        </div>
                        {show && (
                            <div className={sel === q.c ? 'good' : 'tip'}>
                                <strong style={{ color: sel === q.c ? 'var(--suc)' : '#F57F17' }}>
                                    {sel === q.c ? 'âœ“ æ­£ç¢ºï¼' : 'âœ— ç­”éŒ¯äº†'}
                                </strong>
                                <p style={{ fontSize: 14, color: 'var(--txt2)', marginTop: 10, lineHeight: 1.8 }}>{q.e}</p>
                            </div>
                        )}
                        {show && (
                            <button className="btn btn-pri" style={{ width: '100%', justifyContent: 'center', marginTop: 20 }} onClick={next}>
                                {qIdx < quiz.length - 1 ? 'ä¸‹ä¸€é¡Œ â†’' : 'æŸ¥çœ‹çµæœ'}
                            </button>
                        )}
                    </div>
                </div>
            </div>
        );
    };

    return (
        <div style={{ maxWidth: '100%', minHeight: '100vh', background: 'var(--bg)' }}>
            {page === 'home' ? <Home /> : page === 'lesson' ? <Lesson /> : <Quiz />}
        </div>
    );
};

ReactDOM.render(<App />, document.getElementById('root'));
</script>
</body>
</html>
