<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é†«ç™‚æ±ºç­–èƒ½åŠ›è©•ä¼° | JAMA Rational Clinical Examination</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:wght@400;700&family=Source+Sans+Pro:wght@300;400;600;700&family=Crimson+Pro:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans TC', 'Source Sans Pro', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            line-height: 1.8;
            color: #2d3436;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .back-nav {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
            padding: 16px 24px;
            background: rgba(255,255,255,0.95);
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            backdrop-filter: blur(10px);
        }
        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: #00897B;
            font-weight: 600;
            padding: 10px 20px;
            background: linear-gradient(135deg, #E0F2F1 0%, #B2DFDB 100%);
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        .back-btn:hover { transform: translateX(-5px); box-shadow: 0 4px 15px rgba(0,137,123,0.3); }
        .breadcrumb { color: #636e72; font-size: 0.95rem; }
        .hero {
            background: linear-gradient(135deg, #00897B 0%, #00695C 50%, #004D40 100%);
            border-radius: 24px;
            padding: 50px 40px;
            margin-bottom: 40px;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,137,123,0.4);
        }
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }
        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.85rem;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        .hero h1 { font-family: 'Playfair Display', serif; font-size: 2.2rem; margin-bottom: 10px; position: relative; }
        .hero-subtitle { font-size: 1.5rem; opacity: 0.95; margin-bottom: 20px; font-weight: 300; }
        .hero-citation { font-family: 'Crimson Pro', serif; font-size: 1.05rem; opacity: 0.9; }
        .hero-link { color: #B2DFDB; text-decoration: none; transition: color 0.3s; }
        .hero-link:hover { color: white; }
        .objectives {
            background: linear-gradient(135deg, #ffffff 0%, #E0F2F1 100%);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,137,123,0.15);
            border: 1px solid rgba(0,137,123,0.1);
        }
        .objectives h2 { color: #00695C; font-size: 1.3rem; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .objectives ul { list-style: none; display: grid; gap: 12px; }
        .objectives li {
            padding: 12px 16px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #00897B;
            font-size: 0.95rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .lesson-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding: 5px;
        }
        .lesson-tab {
            padding: 14px 28px;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-family: 'Noto Sans TC', sans-serif;
        }
        .lesson-tab.active {
            background: linear-gradient(135deg, #00897B 0%, #00695C 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(0,137,123,0.4);
        }
        .lesson-tab:not(.active) {
            background: white;
            color: #00695C;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        .lesson-tab:not(.active):hover { background: #E0F2F1; }
        .content-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .content-card h2 { color: #00695C; font-size: 1.6rem; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 3px solid #B2DFDB; }
        .content-card h3 { color: #00897B; font-size: 1.2rem; margin: 25px 0 15px; }
        .content-card h4 { color: #00695C; font-size: 1.05rem; margin: 20px 0 10px; }
        .content-card p { color: #555; margin-bottom: 15px; text-align: justify; }
        .content-card ul { margin: 15px 0 15px 25px; }
        .content-card li { color: #555; margin-bottom: 10px; }
        .highlight-box {
            background: linear-gradient(135deg, #E0F2F1 0%, #B2DFDB 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border-left: 5px solid #00897B;
        }
        .highlight-box h4 { color: #00695C; margin-bottom: 12px; }
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9rem;
        }
        .data-table th, .data-table td {
            padding: 14px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        .data-table th {
            background: linear-gradient(135deg, #00897B 0%, #00695C 100%);
            color: white;
            font-weight: 600;
        }
        .data-table tr:hover { background: #E0F2F1; }
        .formula {
            background: linear-gradient(135deg, #263238 0%, #37474F 100%);
            color: #E0F2F1;
            padding: 20px 25px;
            border-radius: 12px;
            margin: 20px 0;
            font-family: 'Source Sans Pro', monospace;
            font-size: 0.95rem;
        }
        .formula strong { color: #80CBC4; }
        .tip, .good, .danger, .info, .warning {
            padding: 20px 25px;
            border-radius: 12px;
            margin: 20px 0;
        }
        .tip { background: #E3F2FD; border-left: 5px solid #1976D2; }
        .good { background: #E8F5E9; border-left: 5px solid #2E7D32; }
        .danger { background: #FFEBEE; border-left: 5px solid #C62828; }
        .info { background: #E0F2F1; border-left: 5px solid #00897B; }
        .warning { background: #FFF3E0; border-left: 5px solid #E65100; }
        .quiz-section {
            background: linear-gradient(135deg, #E0F2F1 0%, #B2DFDB 100%);
            border-radius: 24px;
            padding: 40px;
            margin: 40px 0;
        }
        .quiz-section h2 { color: #00695C; margin-bottom: 30px; font-size: 1.6rem; }
        .quiz-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }
        .quiz-card h4 { color: #00695C; font-size: 1.1rem; margin-bottom: 20px; line-height: 1.6; }
        .quiz-options { display: grid; gap: 12px; }
        .quiz-option {
            padding: 16px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }
        .quiz-option:hover { border-color: #00897B; background: #E0F2F1; }
        .quiz-option.selected { border-color: #00897B; background: #E0F2F1; }
        .quiz-option.correct { border-color: #2E7D32; background: #E8F5E9; }
        .quiz-option.wrong { border-color: #C62828; background: #FFEBEE; }
        .quiz-explanation {
            margin-top: 20px;
            padding: 20px;
            background: #E8F5E9;
            border-radius: 12px;
            border-left: 5px solid #2E7D32;
        }
        .quiz-btn {
            background: linear-gradient(135deg, #00897B 0%, #00695C 100%);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Noto Sans TC', sans-serif;
        }
        .quiz-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,137,123,0.4); }
        .score-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #00897B 0%, #00695C 100%);
            border-radius: 16px;
            color: white;
            margin-top: 30px;
        }
        .score-display h3 { font-size: 2.5rem; margin-bottom: 10px; }
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00897B, #4DB6AC);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        footer {
            text-align: center;
            padding: 40px 20px;
            color: #636e72;
            font-size: 0.9rem;
        }
        footer a { color: #00897B; text-decoration: none; }
        .case-box {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            border-radius: 16px;
            padding: 25px;
            margin: 25px 0;
            border-left: 5px solid #FF8F00;
        }
        .case-box h4 { color: #E65100; margin-bottom: 15px; }
        .four-abilities {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .ability-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-top: 4px solid #00897B;
        }
        .ability-card h5 { color: #00695C; font-size: 1.1rem; margin-bottom: 8px; }
        .ability-card p { color: #666; font-size: 0.85rem; }
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .hero { padding: 30px 20px; }
            .hero h1 { font-size: 1.6rem; }
            .content-card { padding: 25px; }
            .lesson-nav { flex-wrap: nowrap; }
            .four-abilities { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const MODULE_ID = 'jama-decision-capacity';

        const ProgressTracker = {
            getProgress: () => {
                const saved = localStorage.getItem(`progress_${MODULE_ID}`);
                return saved ? JSON.parse(saved) : { lessonComplete: [], quizScore: null, lastVisit: null };
            },
            saveProgress: (progress) => {
                progress.lastVisit = new Date().toISOString();
                localStorage.setItem(`progress_${MODULE_ID}`, JSON.stringify(progress));
            },
            markLessonComplete: (lessonId) => {
                const progress = ProgressTracker.getProgress();
                if (!progress.lessonComplete.includes(lessonId)) {
                    progress.lessonComplete.push(lessonId);
                    ProgressTracker.saveProgress(progress);
                }
            },
            saveQuizScore: (score, total) => {
                const progress = ProgressTracker.getProgress();
                progress.quizScore = { score, total, date: new Date().toISOString() };
                ProgressTracker.saveProgress(progress);
            }
        };

        const lessons = [
            { id: 1, title: 'æ¦‚è¿°èˆ‡å®šç¾©', sub: 'Overview & Definition', color: '#00897B' },
            { id: 2, title: 'å››å¤§æ±ºç­–èƒ½åŠ›', sub: 'Four Abilities', color: '#00796B' },
            { id: 3, title: 'è‡¨åºŠè©•ä¼°å·¥å…·', sub: 'Assessment Tools', color: '#00695C' },
            { id: 4, title: 'ç‰¹æ®Šæ—ç¾¤èˆ‡ç››è¡Œç‡', sub: 'Prevalence & Populations', color: '#00897B' },
            { id: 5, title: 'è‡¨åºŠæ‡‰ç”¨æ¡ˆä¾‹', sub: 'Clinical Application', color: '#004D40' }
        ];

        const quiz = [
            {
                q: 'æ ¹æ“š Sessums ç­‰äººçš„çµ±åˆåˆ†æï¼Œå…§ç§‘ä½é™¢ç—…æ‚£ä¸­ç¼ºä¹é†«ç™‚æ±ºç­–èƒ½åŠ›çš„ç››è¡Œç‡ç´„ç‚ºå¤šå°‘ï¼Ÿ',
                o: ['10%', '26%', '42%', '54%'],
                c: 1,
                e: 'ç ”ç©¶é¡¯ç¤ºå…§ç§‘ä½é™¢ç—…æ‚£ä¸­ç´„æœ‰ 26% ç¼ºä¹é†«ç™‚æ±ºç­–èƒ½åŠ›ã€‚ç›¸è¼ƒä¹‹ä¸‹ï¼Œå¥åº·è€å¹´äººåªæœ‰ 2.8%ï¼Œè€Œé˜¿èŒ²æµ·é»˜ç—‡æ‚£è€…å‰‡é«˜é” 54%ã€‚'
            },
            {
                q: 'é†«å¸«åœ¨åºŠé‚Šè©•ä¼°ä¸­ï¼Œèƒ½å¤ æ­£ç¢ºè¾¨è­˜å‡ºç¼ºä¹æ±ºç­–èƒ½åŠ›æ‚£è€…çš„æ¯”ä¾‹ç´„ç‚ºå¤šå°‘ï¼Ÿ',
                o: ['25%', '42%', '67%', '85%'],
                c: 1,
                e: 'ç ”ç©¶é¡¯ç¤ºé†«å¸«çš„åºŠé‚Šè©•ä¼°åªèƒ½è¾¨è­˜å‡ºç´„ 42% çš„æ±ºç­–èƒ½åŠ›ç¼ºæå€‹æ¡ˆï¼Œé€™è¡¨æ˜éœ€è¦æ›´ç³»çµ±æ€§çš„è©•ä¼°å·¥å…·ã€‚'
            },
            {
                q: 'ä¸‹åˆ—ä½•è€…æ˜¯è©•ä¼°é†«ç™‚æ±ºç­–èƒ½åŠ›çš„ã€Œå››å¤§èƒ½åŠ›ã€ä¹‹ä¸€ï¼Ÿ',
                o: ['è¨˜æ†¶åŠ›', 'ç†è§£èƒ½åŠ› (Understanding)', 'è¨ˆç®—èƒ½åŠ›', 'ç©ºé–“æ„Ÿ'],
                c: 1,
                e: 'é†«ç™‚æ±ºç­–èƒ½åŠ›åŒ…å«å››å¤§èƒ½åŠ›ï¼šç†è§£ (Understanding)ã€æ„ŸçŸ¥ (Appreciation)ã€æ¨ç† (Reasoning)ã€è¡¨é”é¸æ“‡ (Expressing a choice)ã€‚'
            },
            {
                q: 'åœ¨è©•ä¼°é†«ç™‚æ±ºç­–èƒ½åŠ›çš„å·¥å…·ä¸­ï¼Œå“ªä¸€é …å…·æœ‰æœ€ä½³çš„è¨ºæ–·æ•ˆèƒ½ï¼Ÿ',
                o: ['MMSE', 'CAM', 'ACE (Aid to Capacity Evaluation)', 'MoCA'],
                c: 2,
                e: 'ACE (Aid to Capacity Evaluation) æ˜¯ç›®å‰è­‰æ“šæ”¯æŒæœ€å¼·çš„æ±ºç­–èƒ½åŠ›è©•ä¼°å·¥å…·ï¼ŒLR+ ç‚º 8.5ï¼ŒLR- ç‚º 0.21ã€‚'
            },
            {
                q: 'ç•¶ MMSE åˆ†æ•¸ < 20 åˆ†æ™‚ï¼Œå°æ–¼æ±ºç­–èƒ½åŠ›ç¼ºæçš„é™½æ€§æ¦‚ä¼¼æ¯” (LR+) ç‚ºä½•ï¼Ÿ',
                o: ['1.6', '3.2', '6.3', '9.5'],
                c: 2,
                e: 'MMSE < 20 åˆ†æ™‚ï¼ŒLR+ = 6.3ï¼Œè¡¨ç¤ºæ­¤åˆ†æ•¸ä»¥ä¸‹çš„æ‚£è€…è¼ƒå¯èƒ½ç¼ºä¹æ±ºç­–èƒ½åŠ›ã€‚MMSE 20-24 åˆ†æ™‚å°è¨ºæ–·ç„¡å¹«åŠ©ï¼ŒMMSE > 24 åˆ†å‰‡ LR- = 0.14ã€‚'
            },
            {
                q: 'æ ¹æ“šç ”ç©¶ï¼Œä¸‹åˆ—å“ªç¨®æƒ…æ³çš„æ±ºç­–èƒ½åŠ›ç¼ºæç››è¡Œç‡æœ€é«˜ï¼Ÿ',
                o: ['65æ­²ä»¥ä¸Šå¥åº·è€äºº', 'å…§ç§‘ä½é™¢ç—…æ‚£', 'ä¸­åº¦å¤±æ™ºç—‡æ‚£è€…', 'è¼•åº¦èªçŸ¥éšœç¤™æ‚£è€…'],
                c: 2,
                e: 'ä¸­åº¦è‡³é‡åº¦å¤±æ™ºç—‡ï¼ˆå¦‚é˜¿èŒ²æµ·é»˜ç—‡ï¼‰æ‚£è€…çš„æ±ºç­–èƒ½åŠ›ç¼ºæç››è¡Œç‡æœ€é«˜ï¼Œç´„ 54%ï¼Œé é«˜æ–¼å¥åº·è€äºº (2.8%) æˆ–ä¸€èˆ¬å…§ç§‘ä½é™¢æ‚£è€… (26%)ã€‚'
            },
            {
                q: 'ã€Œæ„ŸçŸ¥èƒ½åŠ› (Appreciation)ã€åœ¨é†«ç™‚æ±ºç­–èƒ½åŠ›è©•ä¼°ä¸­æŒ‡çš„æ˜¯ä»€éº¼ï¼Ÿ',
                o: ['èƒ½å¤ è¨˜ä½é†«ç™‚è³‡è¨Š', 'èƒ½å¤ ç†è§£ç–¾ç—…å’Œæ²»ç™‚å¦‚ä½•å½±éŸ¿è‡ªå·±', 'èƒ½å¤ æ¸…æ¥šèªªå‡ºè‡ªå·±çš„é¸æ“‡', 'èƒ½å¤ æ¯”è¼ƒä¸åŒæ²»ç™‚é¸é …çš„å„ªç¼ºé»'],
                c: 1,
                e: 'æ„ŸçŸ¥èƒ½åŠ›æ˜¯æŒ‡æ‚£è€…èƒ½å¤ èªè­˜åˆ°æ‰€æä¾›çš„é†«ç™‚è³‡è¨Šèˆ‡è‡ªèº«æƒ…æ³ç›¸é—œï¼Œä¸¦ç†è§£ç–¾ç—…å’Œæ²»ç™‚æ±ºå®šå¦‚ä½•å½±éŸ¿è‡ªå·±ã€‚'
            },
            {
                q: 'ACE (Aid to Capacity Evaluation) è©•ä¼°å·¥å…·çš„é™½æ€§æ¦‚ä¼¼æ¯” (LR+) ç´„ç‚ºå¤šå°‘ï¼Ÿ',
                o: ['3.5', '5.2', '8.5', '12.0'],
                c: 2,
                e: 'ACE çš„ LR+ ç‚º 8.5ï¼ˆ95% CI: 2.9-25ï¼‰ï¼ŒLR- ç‚º 0.21ï¼ˆ95% CI: 0.05-0.90ï¼‰ï¼Œæ˜¯ç›®å‰æœ€å…·è¨ºæ–·åƒ¹å€¼çš„æ±ºç­–èƒ½åŠ›è©•ä¼°å·¥å…·ã€‚'
            },
            {
                q: 'ä¸‹åˆ—ä½•è€…ä¸æ˜¯é†«ç™‚æ±ºç­–èƒ½åŠ›è©•ä¼°çš„æ ¸å¿ƒè¦ç´ ï¼Ÿ',
                o: ['è¡¨é”é¸æ“‡çš„èƒ½åŠ›', 'è¨˜ä½éå»ç—…å²çš„èƒ½åŠ›', 'ç†è§£ç›¸é—œè³‡è¨Šçš„èƒ½åŠ›', 'æ¨ç†ä¸¦æ¬Šè¡¡é¸é …çš„èƒ½åŠ›'],
                c: 1,
                e: 'é†«ç™‚æ±ºç­–èƒ½åŠ›çš„å››å¤§æ ¸å¿ƒè¦ç´ æ˜¯ï¼šç†è§£ã€æ„ŸçŸ¥ã€æ¨ç†ã€è¡¨é”é¸æ“‡ã€‚è¨˜ä½éå»ç—…å²çš„èƒ½åŠ›é›–ç„¶èˆ‡èªçŸ¥åŠŸèƒ½ç›¸é—œï¼Œä½†ä¸æ˜¯æ±ºç­–èƒ½åŠ›è©•ä¼°çš„æ ¸å¿ƒè¦ç´ ã€‚'
            },
            {
                q: 'ç•¶è©•ä¼°ä¸€ä½ç–‘ä¼¼ç¼ºä¹æ±ºç­–èƒ½åŠ›çš„æ‚£è€…æ™‚ï¼Œä¸‹åˆ—ä½•ç¨®åšæ³•æœ€ç‚ºé©ç•¶ï¼Ÿ',
                o: ['ç›´æ¥è«‹å®¶å±¬ä»£ç‚ºæ±ºå®š', 'ä½¿ç”¨æ¨™æº–åŒ–è©•ä¼°å·¥å…·å¦‚ ACE é€²è¡Œç³»çµ±æ€§è©•ä¼°', 'ä»¥ MMSE åˆ†æ•¸ä½œç‚ºå”¯ä¸€åˆ¤æ–·ä¾æ“š', 'è§€å¯Ÿæ‚£è€…æ˜¯å¦èƒ½é€²è¡Œæ—¥å¸¸å°è©±'],
                c: 1,
                e: 'æ‡‰ä½¿ç”¨æ¨™æº–åŒ–è©•ä¼°å·¥å…·ï¼ˆå¦‚ ACEï¼‰é€²è¡Œç³»çµ±æ€§è©•ä¼°ï¼Œè©•ä¼°æ‚£è€…åœ¨ç†è§£ã€æ„ŸçŸ¥ã€æ¨ç†ã€è¡¨é”é¸æ“‡å››å€‹é¢å‘çš„èƒ½åŠ›ã€‚åƒ…é  MMSE æˆ–æ—¥å¸¸å°è©±è§€å¯Ÿä¸¦ä¸è¶³ä»¥åˆ¤æ–·æ±ºç­–èƒ½åŠ›ã€‚'
            }
        ];

        const lessonContents = {
            1: `
                <h2>ğŸ“‹ é†«ç™‚æ±ºç­–èƒ½åŠ›æ¦‚è¿°</h2>
                <p>é†«ç™‚æ±ºç­–èƒ½åŠ›ï¼ˆMedical Decision-Making Capacityï¼‰æ˜¯æŒ‡æ‚£è€…èƒ½å¤ ç†è§£ã€è©•ä¼°ä¸¦åšå‡ºçŸ¥æƒ…é†«ç™‚æ±ºå®šçš„èƒ½åŠ›ã€‚é€™æ˜¯è‡¨åºŠé†«å¸«ç¶“å¸¸éœ€è¦è©•ä¼°çš„é‡è¦èª²é¡Œï¼Œå› ç‚ºå®ƒç›´æ¥å½±éŸ¿æ‚£è€…æ˜¯å¦èƒ½å¤ æä¾›æœ‰æ•ˆçš„çŸ¥æƒ…åŒæ„ã€‚</p>

                <div class="highlight-box">
                    <h4>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h4>
                    <p><strong>æ±ºç­–èƒ½åŠ› (Capacity)</strong> æ˜¯ä¸€å€‹<strong>è‡¨åºŠåˆ¤æ–·</strong>ï¼Œç”±é†«å¸«åœ¨åºŠé‚Šè©•ä¼°ï¼›è€Œ<strong>è¡Œç‚ºèƒ½åŠ› (Competency)</strong> å‰‡æ˜¯<strong>æ³•å¾‹åˆ¤æ–·</strong>ï¼Œç”±æ³•é™¢è£å®šã€‚</p>
                </div>

                <h3>ç‚ºä»€éº¼æ±ºç­–èƒ½åŠ›è©•ä¼°å¦‚æ­¤é‡è¦ï¼Ÿ</h3>
                <ul>
                    <li>ç¢ºä¿æ‚£è€…èƒ½å¤ æä¾›æœ‰æ•ˆçš„çŸ¥æƒ…åŒæ„</li>
                    <li>ä¿è­·èªçŸ¥åŠŸèƒ½å—ææ‚£è€…çš„æ¬Šç›Š</li>
                    <li>ç¶­æŒæ‚£è€…è‡ªä¸»æ¬Šèˆ‡é†«ç™‚å€«ç†çš„å¹³è¡¡</li>
                    <li>é¿å…ä¸ç•¶çš„é†«ç™‚æ±ºç­–é€ æˆå‚·å®³</li>
                </ul>

                <div class="info">
                    <strong>ğŸ“Š é‡è¦ç™¼ç¾ï¼š</strong>æ ¹æ“š Sessums ç­‰äººçš„çµ±åˆåˆ†æï¼Œé†«å¸«çš„è‡¨åºŠåˆ¤æ–·åªèƒ½æ­£ç¢ºè¾¨è­˜å‡ºç´„ <strong>42%</strong> çš„æ±ºç­–èƒ½åŠ›ç¼ºæå€‹æ¡ˆï¼Œé¡¯ç¤ºéœ€è¦æ›´ç³»çµ±æ€§çš„è©•ä¼°æ–¹æ³•ã€‚
                </div>

                <h3>æ±ºç­–èƒ½åŠ› vs èªçŸ¥åŠŸèƒ½</h3>
                <p>æ±ºç­–èƒ½åŠ›èˆ‡èªçŸ¥åŠŸèƒ½ï¼ˆå¦‚è¨˜æ†¶ã€æ³¨æ„åŠ›ï¼‰æœ‰é—œä½†ä¸¦éç­‰åŒã€‚ä¸€ä½æ‚£è€…å¯èƒ½æœ‰èªçŸ¥éšœç¤™ï¼Œä½†ä»å¯èƒ½å…·å‚™é‡å°ç‰¹å®šæ±ºå®šçš„æ±ºç­–èƒ½åŠ›ï¼›åä¹‹ï¼ŒèªçŸ¥åŠŸèƒ½æ­£å¸¸è€…åœ¨æŸäº›æƒ…æ³ä¸‹ä¹Ÿå¯èƒ½æš«æ™‚å–ªå¤±æ±ºç­–èƒ½åŠ›ã€‚</p>

                <div class="warning">
                    <strong>âš ï¸ æ³¨æ„ï¼š</strong>æ±ºç­–èƒ½åŠ›æ˜¯<strong>é‡å°ç‰¹å®šæ±ºå®š</strong>è€Œè¨€ï¼Œè€Œéå…¨æœ‰æˆ–å…¨ç„¡ã€‚æ‚£è€…å¯èƒ½æœ‰èƒ½åŠ›åšå‡ºç°¡å–®çš„é†«ç™‚æ±ºå®šï¼Œä½†å°æ–¼è¤‡é›œçš„æ²»ç™‚é¸æ“‡å‰‡å¯èƒ½ç¼ºä¹è¶³å¤ èƒ½åŠ›ã€‚
                </div>
            `,
            2: `
                <h2>ğŸ§  é†«ç™‚æ±ºç­–èƒ½åŠ›çš„å››å¤§æ ¸å¿ƒèƒ½åŠ›</h2>
                <p>æ ¹æ“š Appelbaum å’Œ Grisso çš„æ¨¡å‹ï¼Œé†«ç™‚æ±ºç­–èƒ½åŠ›åŒ…å«å››å€‹æ ¸å¿ƒé¢å‘ï¼Œè‡¨åºŠè©•ä¼°æ‡‰æ¶µè“‹é€™å››å€‹èƒ½åŠ›ï¼š</p>

                <div class="four-abilities">
                    <div class="ability-card">
                        <h5>1ï¸âƒ£ ç†è§£ Understanding</h5>
                        <p>èƒ½å¤ ç†è§£è¨ºæ–·ã€æ²»ç™‚é¸é …ã€é¢¨éšªèˆ‡å¥½è™•ç­‰é†«ç™‚è³‡è¨Š</p>
                    </div>
                    <div class="ability-card">
                        <h5>2ï¸âƒ£ æ„ŸçŸ¥ Appreciation</h5>
                        <p>èªè­˜åˆ°é€™äº›è³‡è¨Šèˆ‡è‡ªå·±çš„æƒ…æ³ç›¸é—œ</p>
                    </div>
                    <div class="ability-card">
                        <h5>3ï¸âƒ£ æ¨ç† Reasoning</h5>
                        <p>èƒ½å¤ æ¬Šè¡¡å„é¸é …çš„åˆ©å¼Šä¸¦åšå‡ºåˆç†æ¨è«–</p>
                    </div>
                    <div class="ability-card">
                        <h5>4ï¸âƒ£ è¡¨é”é¸æ“‡ Expressing a Choice</h5>
                        <p>èƒ½å¤ æ¸…æ¥šå‚³é”è‡ªå·±çš„æ±ºå®š</p>
                    </div>
                </div>

                <h3>å„èƒ½åŠ›çš„è©³ç´°èªªæ˜</h3>

                <h4>ç†è§£èƒ½åŠ› (Understanding)</h4>
                <p>æ‚£è€…å¿…é ˆèƒ½å¤ ç†è§£é†«å¸«æ‰€æä¾›çš„é—œéµè³‡è¨Šï¼ŒåŒ…æ‹¬ï¼š</p>
                <ul>
                    <li>è¨ºæ–·èˆ‡é å¾Œ</li>
                    <li>å»ºè­°çš„æ²»ç™‚æ–¹æ¡ˆåŠå…¶æ›¿ä»£é¸é …</li>
                    <li>å„ç¨®é¸æ“‡çš„é¢¨éšªèˆ‡å¥½è™•</li>
                    <li>ä¸æ¥å—æ²»ç™‚çš„å¯èƒ½å¾Œæœ</li>
                </ul>
                <div class="tip">
                    <strong>ğŸ’¡ è©•ä¼°æŠ€å·§ï¼š</strong>è«‹æ‚£è€…ç”¨è‡ªå·±çš„è©±è¤‡è¿°é†«å¸«èªªæ˜çš„å…§å®¹ï¼Œç¢ºèªå…¶ç†è§£ç¨‹åº¦ã€‚
                </div>

                <h4>æ„ŸçŸ¥èƒ½åŠ› (Appreciation)</h4>
                <p>æ‚£è€…éœ€è¦èªè­˜åˆ°æ‰€è¨è«–çš„é†«ç™‚è³‡è¨Šèˆ‡<strong>è‡ªå·±çš„æƒ…æ³ç›¸é—œ</strong>ã€‚ç¼ºä¹æ„ŸçŸ¥èƒ½åŠ›çš„æ‚£è€…å¯èƒ½ï¼š</p>
                <ul>
                    <li>å¦èªè‡ªå·±ç”Ÿç—…ï¼ˆå³ä½¿æœ‰æ˜ç¢ºçš„è¨ºæ–·ä¾æ“šï¼‰</li>
                    <li>ä¸ç›¸ä¿¡æ²»ç™‚å°è‡ªå·±æœƒæœ‰æ•ˆ</li>
                    <li>å°ç—…æƒ…æœ‰ä¸åˆ‡å¯¦éš›çš„æœŸæœ›</li>
                </ul>

                <h4>æ¨ç†èƒ½åŠ› (Reasoning)</h4>
                <p>æ‚£è€…å¿…é ˆèƒ½å¤ é‹ç”¨é‚è¼¯æ€è€ƒï¼Œæ¯”è¼ƒä¸åŒé¸é …ä¸¦åšå‡ºåˆç†çš„æ±ºå®šã€‚è©•ä¼°é‡é»åŒ…æ‹¬ï¼š</p>
                <ul>
                    <li>èƒ½å¤ æ¯”è¼ƒä¸åŒæ²»ç™‚é¸é …</li>
                    <li>èƒ½å¤ è§£é‡‹é¸æ“‡æŸå€‹é¸é …çš„åŸå› </li>
                    <li>æ¨ç†éç¨‹åœ¨é‚è¼¯ä¸Šæ˜¯ä¸€è‡´çš„</li>
                </ul>

                <h4>è¡¨é”é¸æ“‡èƒ½åŠ› (Expressing a Choice)</h4>
                <p>é€™æ˜¯æœ€åŸºæœ¬çš„èƒ½åŠ›è¦æ±‚ã€‚æ‚£è€…å¿…é ˆèƒ½å¤ æ¸…æ¥šè¡¨é”è‡ªå·±çš„æ±ºå®šï¼Œä¸¦ä¸”é€™å€‹é¸æ“‡åœ¨æ™‚é–“ä¸Šæ˜¯ç›¸å°ç©©å®šçš„ï¼ˆéåè¦†ç„¡å¸¸ï¼‰ã€‚</p>

                <div class="formula">
                    <strong>å®Œæ•´æ±ºç­–èƒ½åŠ› = ç†è§£ + æ„ŸçŸ¥ + æ¨ç† + è¡¨é”é¸æ“‡</strong><br>
                    ä»»ä½•ä¸€é …èƒ½åŠ›ç¼ºæéƒ½å¯èƒ½å½±éŸ¿æ•´é«”æ±ºç­–èƒ½åŠ›
                </div>
            `,
            3: `
                <h2>ğŸ”¬ æ±ºç­–èƒ½åŠ›è©•ä¼°å·¥å…·</h2>
                <p>Sessums ç­‰äººçš„ç³»çµ±æ€§å›é¡§è©•ä¼°äº†å¤šç¨®æ±ºç­–èƒ½åŠ›è©•ä¼°å·¥å…·çš„è¨ºæ–·æ•ˆèƒ½ï¼š</p>

                <h3>ACE (Aid to Capacity Evaluation)</h3>
                <div class="good">
                    <strong>âœ… æœ€ä½³æ¨è–¦å·¥å…·</strong>
                    <p>ACE æ˜¯ç›®å‰è­‰æ“šæ”¯æŒæœ€å¼·çš„æ±ºç­–èƒ½åŠ›è©•ä¼°å·¥å…·ï¼Œå¯åœ¨ 5-10 åˆ†é˜å…§å®Œæˆã€‚</p>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æŒ‡æ¨™</th>
                            <th>æ•¸å€¼</th>
                            <th>95% CI</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>é™½æ€§æ¦‚ä¼¼æ¯” (LR+)</td>
                            <td><strong>8.5</strong></td>
                            <td>2.9 - 25</td>
                        </tr>
                        <tr>
                            <td>é™°æ€§æ¦‚ä¼¼æ¯” (LR-)</td>
                            <td><strong>0.21</strong></td>
                            <td>0.05 - 0.90</td>
                        </tr>
                    </tbody>
                </table>

                <p>ACE è©•ä¼°æ¶µè“‹æ±ºç­–èƒ½åŠ›çš„å››å€‹é¢å‘ï¼ŒåŒ…å«çµæ§‹åŒ–å•é¡Œä¾†è©•ä¼°æ‚£è€…å°ç–¾ç—…ã€æ²»ç™‚é¸é …çš„ç†è§£ç¨‹åº¦ï¼Œä»¥åŠæ¨ç†å’Œè¡¨é”é¸æ“‡çš„èƒ½åŠ›ã€‚</p>

                <h3>MMSE (Mini-Mental State Examination)</h3>
                <p>MMSE æ˜¯å¸¸ç”¨çš„èªçŸ¥åŠŸèƒ½ç¯©æª¢å·¥å…·ï¼Œä½†å°æ±ºç­–èƒ½åŠ›è©•ä¼°æœ‰å…¶é™åˆ¶ï¼š</p>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>MMSE åˆ†æ•¸</th>
                            <th>å°æ±ºç­–èƒ½åŠ›ç¼ºæçš„æ„ç¾©</th>
                            <th>æ¦‚ä¼¼æ¯”</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>< 20 åˆ†</strong></td>
                            <td>å¢åŠ ç¼ºä¹æ±ºç­–èƒ½åŠ›çš„å¯èƒ½æ€§</td>
                            <td>LR+ 6.3</td>
                        </tr>
                        <tr>
                            <td><strong>20-24 åˆ†</strong></td>
                            <td>å°è¨ºæ–·ç„¡æ˜ç¢ºå¹«åŠ©</td>
                            <td>LR â‰ˆ 1.0</td>
                        </tr>
                        <tr>
                            <td><strong>> 24 åˆ†</strong></td>
                            <td>é™ä½ç¼ºä¹æ±ºç­–èƒ½åŠ›çš„å¯èƒ½æ€§</td>
                            <td>LR- 0.14</td>
                        </tr>
                    </tbody>
                </table>

                <div class="warning">
                    <strong>âš ï¸ é‡è¦é™åˆ¶ï¼š</strong>MMSE è©•ä¼°çš„æ˜¯ä¸€èˆ¬èªçŸ¥åŠŸèƒ½ï¼Œè€Œéå°ˆé–€é‡å°æ±ºç­–èƒ½åŠ›è¨­è¨ˆã€‚MMSE åˆ†æ•¸æ­£å¸¸ä¸¦ä¸èƒ½ä¿è­‰æ±ºç­–èƒ½åŠ›å®Œæ•´ï¼ŒåŒæ¨£åœ°ï¼ŒMMSE è¼•åº¦ç•°å¸¸ä¹Ÿä¸ä»£è¡¨ä¸€å®šç¼ºä¹æ±ºç­–èƒ½åŠ›ã€‚
                </div>

                <h3>MacCAT-T (MacArthur Competence Assessment Tool for Treatment)</h3>
                <p>MacCAT-T è¢«è¦–ç‚ºæ±ºç­–èƒ½åŠ›è©•ä¼°çš„ã€Œé»ƒé‡‘æ¨™æº–ã€ï¼Œä½†è¼ƒç‚ºè€—æ™‚ï¼ˆç´„ 15-20 åˆ†é˜ï¼‰ï¼Œä¸»è¦ç”¨æ–¼ç ”ç©¶ç›®çš„ã€‚</p>

                <h3>è‡¨åºŠè©•ä¼°æµç¨‹å»ºè­°</h3>
                <div class="formula">
                    <strong>å»ºè­°è©•ä¼°æµç¨‹ï¼š</strong><br>
                    1. åˆæ­¥æ‡·ç–‘æ±ºç­–èƒ½åŠ›å•é¡Œ â†’ ä½¿ç”¨ MMSE å¿«é€Ÿç¯©æª¢<br>
                    2. MMSE < 20 æˆ–æœ‰ç–‘æ…® â†’ ä½¿ç”¨ ACE é€²è¡Œå®Œæ•´è©•ä¼°<br>
                    3. å¿…è¦æ™‚ â†’ æœƒè¨ºç²¾ç¥ç§‘é€²è¡Œæ·±åº¦è©•ä¼°
                </div>
            `,
            4: `
                <h2>ğŸ“Š ç‰¹æ®Šæ—ç¾¤èˆ‡ç››è¡Œç‡</h2>
                <p>ä¸åŒæ—ç¾¤çš„æ±ºç­–èƒ½åŠ›ç¼ºæç››è¡Œç‡å·®ç•°ç”šå¤§ï¼Œäº†è§£é€™äº›æ•¸æ“šæœ‰åŠ©æ–¼è‡¨åºŠåˆ¤æ–·ï¼š</p>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ—ç¾¤</th>
                            <th>æ±ºç­–èƒ½åŠ›ç¼ºæç››è¡Œç‡</th>
                            <th>å‚™è¨»</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>å¥åº·ç¤¾å€è€å¹´äºº</td>
                            <td><strong>2.8%</strong></td>
                            <td>åŸºç·šåƒè€ƒå€¼</td>
                        </tr>
                        <tr>
                            <td>ä¸€èˆ¬å…§ç§‘ä½é™¢ç—…æ‚£</td>
                            <td><strong>26%</strong></td>
                            <td>ç´„å››åˆ†ä¹‹ä¸€ä½é™¢æ‚£è€…</td>
                        </tr>
                        <tr>
                            <td>åŠ è­·ç—…æˆ¿æ‚£è€…</td>
                            <td><strong>40-50%</strong></td>
                            <td>å¸¸åˆä½µè­«å¦„</td>
                        </tr>
                        <tr>
                            <td>è¼•åº¦èªçŸ¥éšœç¤™ (MCI)</td>
                            <td><strong>15-20%</strong></td>
                            <td>éœ€å€‹åˆ¥è©•ä¼°</td>
                        </tr>
                        <tr>
                            <td>é˜¿èŒ²æµ·é»˜ç—‡</td>
                            <td><strong>54%</strong></td>
                            <td>éš¨ç–¾ç—…é€²å±•å¢åŠ </td>
                        </tr>
                        <tr>
                            <td>ä¸­é‡åº¦å¤±æ™ºç—‡</td>
                            <td><strong>68%</strong></td>
                            <td>å¤šæ•¸éœ€æ›¿ä»£æ±ºç­–è€…</td>
                        </tr>
                    </tbody>
                </table>

                <h3>è‡¨åºŠé†«å¸«è¾¨è­˜èƒ½åŠ›çš„é™åˆ¶</h3>
                <div class="danger">
                    <strong>ğŸš¨ é—œéµç™¼ç¾ï¼š</strong>ç ”ç©¶é¡¯ç¤ºé†«å¸«çš„åºŠé‚Šè©•ä¼°åªèƒ½æ­£ç¢ºè¾¨è­˜å‡ºç´„ <strong>42%</strong> çš„æ±ºç­–èƒ½åŠ›ç¼ºæå€‹æ¡ˆã€‚é€™æ„å‘³è‘—è¶…éä¸€åŠçš„å€‹æ¡ˆè¢«æ¼è¨ºï¼
                </div>

                <p>é€™å€‹ç™¼ç¾å¼·èª¿äº†ä½¿ç”¨æ¨™æº–åŒ–è©•ä¼°å·¥å…·çš„é‡è¦æ€§ï¼Œè€Œéåƒ…ä¾è³´è‡¨åºŠå°è±¡ã€‚</p>

                <h3>éœ€è¦ç‰¹åˆ¥æ³¨æ„çš„é«˜é¢¨éšªæƒ…å¢ƒ</h3>
                <ul>
                    <li><strong>æ€¥æ€§ç—…æ³è®ŠåŒ–ï¼š</strong>æ„ŸæŸ“ã€é›»è§£è³ªå¤±è¡¡ã€è—¥ç‰©å½±éŸ¿ç­‰å¯èƒ½æš«æ™‚å½±éŸ¿æ±ºç­–èƒ½åŠ›</li>
                    <li><strong>ç²¾ç¥ç–¾ç—…ç™¼ä½œæœŸï¼š</strong>æ€è¦ºå¤±èª¿ç—‡ã€é‡åº¦æ†‚é¬±ç—‡ã€èºç—‡ç™¼ä½œæ™‚</li>
                    <li><strong>è­«å¦„ç‹€æ…‹ï¼š</strong>ä½é™¢è€å¹´æ‚£è€…å¸¸è¦‹ï¼Œéœ€å…ˆè™•ç†è­«å¦„</li>
                    <li><strong>è¤‡é›œçš„é«˜é¢¨éšªæ±ºå®šï¼š</strong>æ‹’çµ•å¿…è¦æ²»ç™‚ã€é¸æ“‡éæ¨™æº–ç™‚æ³•æ™‚</li>
                </ul>

                <div class="info">
                    <strong>ğŸ’¡ å¯¦ç”¨å»ºè­°ï¼š</strong>ç•¶æ‚£è€…åšå‡ºçœ‹ä¼¼ä¸åˆç†çš„æ±ºå®šæ™‚ï¼Œä¸æ‡‰ç›´æ¥åˆ¤å®šå…¶ç¼ºä¹æ±ºç­–èƒ½åŠ›ã€‚æ‡‰å…ˆç¢ºèªæ‚£è€…æ˜¯å¦å……åˆ†ç†è§£è³‡è¨Šï¼Œä¸¦è©•ä¼°æ˜¯å¦æœ‰å¯é€†å› ç´ å½±éŸ¿å…¶åˆ¤æ–·ã€‚
                </div>

                <h3>æ±ºç­–èƒ½åŠ›çš„å¯è®Šæ€§</h3>
                <p>æ±ºç­–èƒ½åŠ›å¯èƒ½éš¨æ™‚é–“è®ŠåŒ–ï¼Œå› æ­¤ï¼š</p>
                <ul>
                    <li>æ€¥æ€§ç–¾ç—…æ”¹å–„å¾Œæ‡‰é‡æ–°è©•ä¼°</li>
                    <li>è­«å¦„è§£é™¤å¾Œæ±ºç­–èƒ½åŠ›å¯èƒ½æ¢å¾©</li>
                    <li>å¤±æ™ºç—‡æ‚£è€…çš„èƒ½åŠ›å¯èƒ½æ¯æ—¥æ³¢å‹•</li>
                    <li>è¤‡é›œæ±ºå®šå¯èƒ½éœ€è¦æ¯”ç°¡å–®æ±ºå®šæ›´é«˜çš„èªçŸ¥èƒ½åŠ›</li>
                </ul>
            `,
            5: `
                <h2>ğŸ¥ è‡¨åºŠæ‡‰ç”¨æ¡ˆä¾‹</h2>

                <div class="case-box">
                    <h4>ğŸ“‹ æ¡ˆä¾‹ä¸€ï¼šè¡“å¾Œè­«å¦„</h4>
                    <p><strong>ç—…å²ï¼š</strong>78æ­²ç”·æ€§ï¼Œé«–é—œç¯€ç½®æ›è¡“å¾Œç¬¬2å¤©ï¼Œè­·ç†å¸«ç™¼ç¾æ‚£è€…æ‹’çµ•æ¥å—è¡“å¾ŒæŠ—å‡è¡€æ²»ç™‚ï¼Œè¡¨ç¤ºã€Œæˆ‘ä¸éœ€è¦é€™äº›è—¥ï¼Œæˆ‘è¦å›å®¶ã€ã€‚</p>
                    <p><strong>è©•ä¼°ï¼š</strong></p>
                    <ul>
                        <li>MMSE: 18/30ï¼ˆæ³¨æ„åŠ›ã€è¨˜æ†¶ã€å®šå‘åŠ›å·®ï¼‰</li>
                        <li>4AT è­«å¦„ç¯©æª¢ï¼šé™½æ€§</li>
                    </ul>
                    <p><strong>è™•ç½®ï¼š</strong>å„ªå…ˆè™•ç†è¡“å¾Œè­«å¦„ï¼Œå¾…è­«å¦„æ”¹å–„å¾Œå†é‡æ–°è©•ä¼°æ±ºç­–èƒ½åŠ›ã€‚åœ¨æ­¤æœŸé–“ç”±å®¶å±¬ä½œç‚ºæ›¿ä»£æ±ºç­–è€…ã€‚</p>
                </div>

                <div class="case-box">
                    <h4>ğŸ“‹ æ¡ˆä¾‹äºŒï¼šæ‹’çµ•åŒ–ç™‚çš„ç™Œç—‡ç—…æ‚£</h4>
                    <p><strong>ç—…å²ï¼š</strong>65æ­²å¥³æ€§ï¼Œæ–°è¨ºæ–·ä¹³ç™Œï¼Œè…«ç˜¤ç§‘å»ºè­°è¡“å¾Œè¼”åŠ©åŒ–ç™‚ï¼Œä½†æ‚£è€…æ˜ç¢ºè¡¨ç¤ºæ‹’çµ•ï¼Œå¸Œæœ›åªæ¥å—ä¸­é†«èª¿ç†ã€‚</p>
                    <p><strong>ACE è©•ä¼°çµæœï¼š</strong></p>
                    <ul>
                        <li><strong>ç†è§£ï¼š</strong>èƒ½æ­£ç¢ºèªªå‡ºè¨ºæ–·å’Œé å¾Œï¼Œäº†è§£åŒ–ç™‚å¯é™ä½å¾©ç™¼é¢¨éšª</li>
                        <li><strong>æ„ŸçŸ¥ï¼š</strong>æ‰¿èªè‡ªå·±æœ‰ç™Œç—‡ï¼Œç†è§£ä¸æ²»ç™‚çš„é¢¨éšª</li>
                        <li><strong>æ¨ç†ï¼š</strong>è¡¨ç¤ºå®³æ€•åŒ–ç™‚å‰¯ä½œç”¨ï¼Œä¸”æœ‰è¦ªäººåŒ–ç™‚å¾Œä»å¾©ç™¼çš„ç¶“æ­·ï¼Œæ±ºå®šå˜—è©¦å…¶ä»–æ–¹æ³•</li>
                        <li><strong>è¡¨é”é¸æ“‡ï¼š</strong>æ¸…æ¥šä¸”ä¸€è‡´åœ°è¡¨é”æ‹’çµ•åŒ–ç™‚çš„æ±ºå®š</li>
                    </ul>
                    <p><strong>çµè«–ï¼š</strong>æ‚£è€…å…·æœ‰å®Œæ•´æ±ºç­–èƒ½åŠ›ï¼Œæ‡‰å°Šé‡å…¶è‡ªä¸»æ¬Šã€‚å¯æä¾›æŒçºŒè¿½è¹¤å’Œéš¨æ™‚æ”¹è®Šæ±ºå®šçš„æ©Ÿæœƒã€‚</p>
                </div>

                <div class="tip">
                    <strong>ğŸ’¡ é‡è¦è§€å¿µï¼š</strong>ã€Œä¸åŒæ„é†«å¸«å»ºè­°ã€â‰ ã€Œç¼ºä¹æ±ºç­–èƒ½åŠ›ã€ã€‚åªè¦æ‚£è€…å±•ç¾å‡ºç†è§£ã€æ„ŸçŸ¥ã€æ¨ç†å’Œè¡¨é”é¸æ“‡çš„èƒ½åŠ›ï¼Œå³ä½¿å…¶æ±ºå®šèˆ‡é†«å¸«å»ºè­°ä¸åŒï¼Œä»æ‡‰å°Šé‡å…¶è‡ªä¸»æ¬Šã€‚
                </div>

                <div class="case-box">
                    <h4>ğŸ“‹ æ¡ˆä¾‹ä¸‰ï¼šå¤±æ™ºç—‡æ‚£è€…çš„æ‰‹è¡“åŒæ„</h4>
                    <p><strong>ç—…å²ï¼š</strong>82æ­²ç”·æ€§ï¼Œå·²çŸ¥è¼•åº¦é˜¿èŒ²æµ·é»˜ç—‡ï¼ˆMMSE 21/30ï¼‰ï¼Œå› è†½å›Šç‚éœ€è¦æ‰‹è¡“ï¼Œæ‚£è€…æœ¬äººè¡¨ç¤ºåŒæ„æ‰‹è¡“ã€‚</p>
                    <p><strong>ACE è©•ä¼°çµæœï¼š</strong></p>
                    <ul>
                        <li><strong>ç†è§£ï¼š</strong>èƒ½èªªå‡ºã€Œè†½å›Šç™¼ç‚è¦é–‹åˆ€ã€ï¼Œä½†ç„¡æ³•èªªæ˜æ‰‹è¡“é¢¨éšª</li>
                        <li><strong>æ„ŸçŸ¥ï¼š</strong>çŸ¥é“è‡ªå·±è‚šå­ç—›ï¼ŒåŒæ„éœ€è¦æ²»ç™‚</li>
                        <li><strong>æ¨ç†ï¼š</strong>ç„¡æ³•æ¯”è¼ƒæ‰‹è¡“èˆ‡ä¿å®ˆæ²»ç™‚çš„å„ªç¼ºé»</li>
                        <li><strong>è¡¨é”é¸æ“‡ï¼š</strong>åè¦†èªªã€Œéƒ½è½é†«ç”Ÿçš„ã€ã€ã€Œæˆ‘ä¸çŸ¥é“ã€</li>
                    </ul>
                    <p><strong>çµè«–ï¼š</strong>æ‚£è€…åœ¨ç†è§£å’Œæ¨ç†èƒ½åŠ›æ–¹é¢æœ‰æ˜é¡¯ç¼ºæï¼Œéœ€è¦æ›¿ä»£æ±ºç­–è€…ï¼ˆå¦‚é…å¶æˆ–æˆå¹´å­å¥³ï¼‰åƒèˆ‡æ±ºç­–éç¨‹ã€‚</p>
                </div>

                <h3>è‡¨åºŠè©•ä¼°æµç¨‹ç¸½çµ</h3>
                <div class="formula">
                    <strong>æ±ºç­–èƒ½åŠ›è©•ä¼°æµç¨‹ï¼š</strong><br><br>
                    1. æ‡·ç–‘æ±ºç­–èƒ½åŠ›å•é¡Œ â†’ æ’é™¤å¯é€†å› ç´ ï¼ˆè­«å¦„ã€è—¥ç‰©ã€ä»£è¬ç•°å¸¸ï¼‰<br>
                    2. ä½¿ç”¨ MMSE åˆæ­¥ç¯©æª¢èªçŸ¥åŠŸèƒ½<br>
                    3. ä½¿ç”¨ ACE ç³»çµ±è©•ä¼°å››å¤§æ±ºç­–èƒ½åŠ›<br>
                    4. æ ¹æ“šæ±ºå®šçš„è¤‡é›œåº¦å’Œé¢¨éšªèª¿æ•´è©•ä¼°é–€æª»<br>
                    5. å¿…è¦æ™‚å°‹æ±‚ç²¾ç¥ç§‘æœƒè¨º<br>
                    6. è¨˜éŒ„è©•ä¼°éç¨‹å’Œçµæœ
                </div>

                <div class="good">
                    <strong>âœ… æœ€ä½³å¯¦å‹™æé†’ï¼š</strong>
                    <ul>
                        <li>è©•ä¼°æ‡‰é‡å°ç‰¹å®šæ±ºå®šï¼Œè€Œéæ³›è«–æ‚£è€…çš„ä¸€èˆ¬èƒ½åŠ›</li>
                        <li>ä½¿ç”¨æ‚£è€…èƒ½ç†è§£çš„èªè¨€èªªæ˜é†«ç™‚è³‡è¨Š</li>
                        <li>å…è¨±æ‚£è€…æœ‰è¶³å¤ æ™‚é–“æ€è€ƒå’Œæå•</li>
                        <li>è¨˜éŒ„è©•ä¼°éç¨‹ï¼ŒåŒ…æ‹¬ä½¿ç”¨çš„å·¥å…·å’Œçµæœ</li>
                        <li>å®šæœŸé‡æ–°è©•ä¼°ï¼Œç‰¹åˆ¥æ˜¯è‡¨åºŠç‹€æ³æ”¹è®Šæ™‚</li>
                    </ul>
                </div>
            `
        };

        function App() {
            const [currentLesson, setCurrentLesson] = React.useState(1);
            const [quizStarted, setQuizStarted] = React.useState(false);
            const [currentQuestion, setCurrentQuestion] = React.useState(0);
            const [selectedAnswer, setSelectedAnswer] = React.useState(null);
            const [showExplanation, setShowExplanation] = React.useState(false);
            const [score, setScore] = React.useState(0);
            const [quizComplete, setQuizComplete] = React.useState(false);
            const [progress, setProgress] = React.useState(ProgressTracker.getProgress());

            React.useEffect(() => {
                ProgressTracker.markLessonComplete(currentLesson);
                setProgress(ProgressTracker.getProgress());
            }, [currentLesson]);

            const handleAnswerSelect = (index) => {
                if (showExplanation) return;
                setSelectedAnswer(index);
            };

            const handleConfirmAnswer = () => {
                if (selectedAnswer === null) return;
                setShowExplanation(true);
                if (selectedAnswer === quiz[currentQuestion].c) {
                    setScore(score + 1);
                }
            };

            const handleNextQuestion = () => {
                if (currentQuestion < quiz.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowExplanation(false);
                } else {
                    setQuizComplete(true);
                    ProgressTracker.saveQuizScore(score + (selectedAnswer === quiz[currentQuestion].c ? 1 : 0), quiz.length);
                }
            };

            const resetQuiz = () => {
                setQuizStarted(false);
                setCurrentQuestion(0);
                setSelectedAnswer(null);
                setShowExplanation(false);
                setScore(0);
                setQuizComplete(false);
            };

            const progressPercent = (progress.lessonComplete.length / lessons.length) * 100;

            return (
                <div className="container">
                    <nav className="back-nav">
                        <a href="jama-rational-exam.html" className="back-btn">
                            â† è¿”å›ç¸½è¦½
                        </a>
                        <span className="breadcrumb">JAMA Rational Clinical Examination ç³»åˆ—</span>
                    </nav>

                    <header className="hero">
                        <span className="hero-badge">JAMA Rational Clinical Examination</span>
                        <h1>Does This Patient Have Medical Decision-Making Capacity?</h1>
                        <p className="hero-subtitle">é€™ä½ç—…äººæœ‰é†«ç™‚æ±ºç­–èƒ½åŠ›å—ï¼Ÿ</p>
                        <p className="hero-citation">
                            Sessums LL, Zembrzuska H, Jackson JL. JAMA. 2011;306(4):420-427.
                            <br />
                            <a href="https://jamanetwork.com/journals/jama/fullarticle/1104154" target="_blank" className="hero-link">
                                é–±è®€åŸæ–‡ Read Full Article â†’
                            </a>
                        </p>
                    </header>

                    <section className="objectives">
                        <h2>ğŸ¯ å­¸ç¿’ç›®æ¨™</h2>
                        <ul>
                            <li>äº†è§£é†«ç™‚æ±ºç­–èƒ½åŠ›çš„å®šç¾©èˆ‡å››å¤§æ ¸å¿ƒèƒ½åŠ›ï¼ˆç†è§£ã€æ„ŸçŸ¥ã€æ¨ç†ã€è¡¨é”é¸æ“‡ï¼‰</li>
                            <li>ç†Ÿæ‚‰ ACE ç­‰æ¨™æº–åŒ–è©•ä¼°å·¥å…·åŠå…¶è¨ºæ–·æ•ˆèƒ½</li>
                            <li>èªè­˜ä¸åŒæ—ç¾¤çš„æ±ºç­–èƒ½åŠ›ç¼ºæç››è¡Œç‡</li>
                            <li>èƒ½å¤ åœ¨è‡¨åºŠæƒ…å¢ƒä¸­é©ç•¶è©•ä¼°ä¸¦è¨˜éŒ„æ‚£è€…çš„æ±ºç­–èƒ½åŠ›</li>
                        </ul>
                        <div className="progress-bar">
                            <div className="progress-fill" style={{width: `${progressPercent}%`}}></div>
                        </div>
                        <p style={{fontSize: '0.85rem', color: '#666', marginTop: '10px'}}>
                            å­¸ç¿’é€²åº¦ï¼š{progress.lessonComplete.length}/{lessons.length} èª²ç¨‹å®Œæˆ
                            {progress.quizScore && ` | æ¸¬é©—åˆ†æ•¸ï¼š${progress.quizScore.score}/${progress.quizScore.total}`}
                        </p>
                    </section>

                    <nav className="lesson-nav">
                        {lessons.map(lesson => (
                            <button
                                key={lesson.id}
                                className={`lesson-tab ${currentLesson === lesson.id ? 'active' : ''}`}
                                onClick={() => setCurrentLesson(lesson.id)}
                            >
                                {lesson.title}
                            </button>
                        ))}
                    </nav>

                    <article className="content-card" dangerouslySetInnerHTML={{__html: lessonContents[currentLesson]}} />

                    <section className="quiz-section">
                        <h2>ğŸ“ èª²å¾Œæ¸¬é©—</h2>

                        {!quizStarted ? (
                            <div style={{textAlign: 'center'}}>
                                <p style={{marginBottom: '20px', color: '#555'}}>
                                    å…± {quiz.length} é¡Œé¸æ“‡é¡Œï¼Œæ¸¬è©¦æ‚¨å°é†«ç™‚æ±ºç­–èƒ½åŠ›è©•ä¼°çš„äº†è§£ç¨‹åº¦
                                </p>
                                <button className="quiz-btn" onClick={() => setQuizStarted(true)}>
                                    é–‹å§‹æ¸¬é©—
                                </button>
                            </div>
                        ) : quizComplete ? (
                            <div className="score-display">
                                <h3>{score}/{quiz.length}</h3>
                                <p>
                                    {score === quiz.length ? 'å¤ªæ£’äº†ï¼å®Œç¾æˆç¸¾ï¼ğŸ‰' :
                                     score >= quiz.length * 0.8 ? 'è¡¨ç¾å„ªç§€ï¼ğŸ‘' :
                                     score >= quiz.length * 0.6 ? 'ä¸éŒ¯çš„æˆç¸¾ï¼ç¹¼çºŒåŠ æ²¹ï¼' :
                                     'å»ºè­°å†è¤‡ç¿’ä¸€ä¸‹èª²ç¨‹å…§å®¹ ğŸ“š'}
                                </p>
                                <button className="quiz-btn" onClick={resetQuiz} style={{marginTop: '20px', background: 'rgba(255,255,255,0.2)'}}>
                                    é‡æ–°æ¸¬é©—
                                </button>
                            </div>
                        ) : (
                            <div className="quiz-card">
                                <p style={{color: '#666', marginBottom: '10px'}}>
                                    å•é¡Œ {currentQuestion + 1} / {quiz.length}
                                </p>
                                <h4>{quiz[currentQuestion].q}</h4>
                                <div className="quiz-options">
                                    {quiz[currentQuestion].o.map((option, idx) => (
                                        <div
                                            key={idx}
                                            className={`quiz-option
                                                ${selectedAnswer === idx ? 'selected' : ''}
                                                ${showExplanation && idx === quiz[currentQuestion].c ? 'correct' : ''}
                                                ${showExplanation && selectedAnswer === idx && idx !== quiz[currentQuestion].c ? 'wrong' : ''}`}
                                            onClick={() => handleAnswerSelect(idx)}
                                        >
                                            {String.fromCharCode(65 + idx)}. {option}
                                        </div>
                                    ))}
                                </div>

                                {showExplanation && (
                                    <div className="quiz-explanation">
                                        <strong>è§£æï¼š</strong>{quiz[currentQuestion].e}
                                    </div>
                                )}

                                <div style={{marginTop: '20px', textAlign: 'center'}}>
                                    {!showExplanation ? (
                                        <button
                                            className="quiz-btn"
                                            onClick={handleConfirmAnswer}
                                            disabled={selectedAnswer === null}
                                            style={{opacity: selectedAnswer === null ? 0.5 : 1}}
                                        >
                                            ç¢ºèªç­”æ¡ˆ
                                        </button>
                                    ) : (
                                        <button className="quiz-btn" onClick={handleNextQuestion}>
                                            {currentQuestion < quiz.length - 1 ? 'ä¸‹ä¸€é¡Œ' : 'æŸ¥çœ‹çµæœ'}
                                        </button>
                                    )}
                                </div>
                            </div>
                        )}
                    </section>

                    <footer>
                        <p>
                            <strong>æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨</strong><br />
                            è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯
                        </p>
                        <p style={{marginTop: '15px'}}>
                            <a href="jama-rational-exam.html">â† è¿”å› JAMA Rational Clinical Examination ç³»åˆ—</a>
                        </p>
                    </footer>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
