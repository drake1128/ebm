<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»çµ±æ€§å›é¡§èˆ‡çµ±åˆåˆ†æ | EBM æ•™å­¸å¹³å°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{
            --pri:#FF6B35;
            --pri2:#F7931E;
            --blue:#0077B6;
            --pur:#7209B7;
            --teal:#2EC4B6;
            --suc:#38A169;
            --warn:#D69E2E;
            --err:#E53E3E;
            --bg:#FFFAF5;
            --txt:#1A1A2E;
            --txt2:#6B7280
        }
        body{font-family:'Noto Sans TC',sans-serif;background:var(--bg);color:var(--txt);line-height:1.7}
        .card{background:#fff;border-radius:16px;padding:20px;margin-bottom:16px;box-shadow:0 2px 12px rgba(255,107,53,0.08)}
        .btn{padding:14px 24px;border:none;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all 0.3s}
        .btn-pri{background:linear-gradient(135deg,var(--pri),var(--pri2));color:#fff}
        .btn-pri:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,107,53,0.3)}
        table{width:100%;border-collapse:collapse;font-size:13px;margin:12px 0}
        th,td{padding:10px;text-align:center;border-bottom:1px solid #eee}
        th{background:#FFF5F0;font-weight:600;color:var(--pri)}
        .formula{background:linear-gradient(135deg,#FFF5F0,#FFEDE5);border:2px solid var(--pri);border-radius:12px;padding:16px;margin:12px 0;text-align:center;font-size:16px;color:#C53D00;font-weight:600}
        .tip{background:#FFFBEB;border-left:4px solid var(--warn);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .good{background:#F0FFF4;border-left:4px solid var(--suc);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .info{background:#EBF8FF;border-left:4px solid var(--blue);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .warn{background:#FFF5F5;border-left:4px solid var(--err);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .purple{background:#FAF5FF;border-left:4px solid var(--pur);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .forest-plot{background:#fff;border:2px solid #E2E8F0;border-radius:12px;padding:16px;margin:12px 0}
        .forest-row{display:flex;align-items:center;padding:8px 0;border-bottom:1px solid #F0F0F0}
        .forest-row:last-child{border-bottom:none;font-weight:700;background:#FFF5F0;margin:8px -16px -16px;padding:12px 16px;border-radius:0 0 10px 10px}
        .forest-study{width:100px;font-size:12px;text-align:left}
        .forest-bar{flex:1;position:relative;height:24px;display:flex;align-items:center}
        .forest-line{position:absolute;left:50%;width:2px;height:100%;background:#E53E3E;transform:translateX(-50%)}
        .forest-point{position:absolute;width:10px;height:10px;background:var(--blue);border-radius:50%;transform:translateX(-50%)}
        .forest-ci{position:absolute;height:4px;background:var(--blue);border-radius:2px}
        .forest-diamond{position:absolute;width:16px;height:16px;background:var(--pri);transform:translateX(-50%) rotate(45deg)}
        .forest-value{width:80px;font-size:11px;text-align:right}
        .funnel-plot{width:100%;max-width:280px;margin:16px auto;position:relative}
        .grade-table td:first-child{text-align:left;font-weight:600}
    </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const {useState,useEffect}=React;

const MODULE_ID='systematic-review';

const ProgressTracker={
    STORAGE_KEY:'ebm-progress',
    getProgress:()=>{try{const d=localStorage.getItem(ProgressTracker.STORAGE_KEY);return d?JSON.parse(d):{version:1,modules:{},badges:[],totalTimeSpent:0}}catch{return{version:1,modules:{},badges:[],totalTimeSpent:0}}},
    saveQuizResult:(moduleId,score,total,timeSpent)=>{
        const progress=ProgressTracker.getProgress();
        const mod=progress.modules[moduleId]||{bestScore:0,totalAttempts:0,allAttempts:[],lessonsViewed:[],completed:false,firstCompleted:null};
        const attempt={date:new Date().toISOString(),score,timeSpent};
        mod.allAttempts.push(attempt);mod.totalAttempts++;
        if(score>mod.bestScore)mod.bestScore=score;
        const passingScore=Math.ceil(total*0.7);
        if(score>=passingScore&&!mod.completed){mod.completed=true;mod.firstCompleted=attempt.date}
        progress.modules[moduleId]=mod;progress.totalTimeSpent+=timeSpent;progress.lastUpdated=new Date().toISOString();
        ProgressTracker.checkBadges(progress,score,total,timeSpent);
        localStorage.setItem(ProgressTracker.STORAGE_KEY,JSON.stringify(progress));return progress;
    },
    checkBadges:(progress,score,total,timeSpent)=>{
        const badges=progress.badges||[];const ids=badges.map(b=>b.id);const now=new Date().toISOString();
        if(!ids.includes('first-quiz'))badges.push({id:'first-quiz',earnedAt:now});
        if(score===total&&!ids.includes('perfect-score'))badges.push({id:'perfect-score',earnedAt:now});
        if(timeSpent<120&&!ids.includes('speed-demon'))badges.push({id:'speed-demon',earnedAt:now});
        const completed=Object.values(progress.modules).filter(m=>m.completed).length;
        if(completed>=5&&!ids.includes('five-complete'))badges.push({id:'five-complete',earnedAt:now});
        if(completed>=10&&!ids.includes('ten-complete'))badges.push({id:'ten-complete',earnedAt:now});
        if(completed>=18&&!ids.includes('master'))badges.push({id:'master',earnedAt:now});
        const mod=progress.modules[MODULE_ID];
        if(mod&&mod.totalAttempts>=3&&!ids.includes('persistent'))badges.push({id:'persistent',earnedAt:now});
        progress.badges=badges;
    }
};

const lessons=[
    {id:1,title:'ç³»çµ±æ€§å›é¡§åŸºç¤',sub:'Systematic Review Basics',color:'#FF6B35'},
    {id:2,title:'Forest Plot è§£è®€',sub:'Understanding Forest Plots',color:'#0077B6'},
    {id:3,title:'ç•°è³ªæ€§è©•ä¼°',sub:'Heterogeneity Assessment',color:'#7209B7'},
    {id:4,title:'ç™¼è¡¨åå·®èˆ‡æ¼æ–—åœ–',sub:'Publication Bias & Funnel Plot',color:'#2EC4B6'},
    {id:5,title:'GRADE è­‰æ“šè©•ç´š',sub:'GRADE Evidence Rating',color:'#D69E2E'}
];

const quiz=[
    {q:'ç³»çµ±æ€§å›é¡§èˆ‡å‚³çµ±æ–‡ç»å›é¡§çš„æœ€å¤§å·®ç•°ç‚ºä½•ï¼Ÿ',o:['ç´å…¥æ–‡ç»æ•¸é‡è¼ƒå¤š','æœ‰æ˜ç¢ºçš„ç ”ç©¶æ–¹æ³•å­¸','åªç´å…¥RCT','å¿…é ˆé€²è¡Œçµ±åˆåˆ†æ'],c:1,e:'ç³»çµ±æ€§å›é¡§çš„æ ¸å¿ƒç‰¹è‰²æ˜¯æœ‰æ˜ç¢ºã€å¯é‡è¤‡çš„æ–¹æ³•å­¸ï¼ŒåŒ…æ‹¬æœå°‹ç­–ç•¥ã€ç´å…¥æ’é™¤æ¨™æº–ã€å“è³ªè©•ä¼°ç­‰ï¼Œè€Œéåªæ˜¯æ–‡ç»æ•¸é‡æˆ–ç ”ç©¶é¡å‹çš„å·®ç•°ã€‚'},
    {q:'Forest plot ä¸­ï¼Œè‹¥æŸç ”ç©¶çš„ä¿¡è³´å€é–“æ©«è·¨ç„¡æ•ˆç·šï¼ˆOR=1æˆ–RR=1ï¼‰ï¼Œä»£è¡¨ä»€éº¼æ„ç¾©ï¼Ÿ',o:['è©²ç ”ç©¶é¡¯ç¤ºæ²»ç™‚æœ‰æ•ˆ','è©²ç ”ç©¶çµæœæœªé”çµ±è¨ˆé¡¯è‘—','è©²ç ”ç©¶å“è³ªè¼ƒå·®','è©²ç ”ç©¶æ¨£æœ¬æ•¸æœ€å¤§'],c:1,e:'ä¿¡è³´å€é–“æ©«è·¨ç„¡æ•ˆç·šï¼ˆOR=1æˆ–RR=1ï¼‰è¡¨ç¤ºè©²ç ”ç©¶çš„çµæœåœ¨çµ±è¨ˆä¸Šæœªé”é¡¯è‘—å·®ç•°ï¼Œç„¡æ³•æ’é™¤æ²»ç™‚æ•ˆæœç‚ºé›¶çš„å¯èƒ½æ€§ã€‚'},
    {q:'IÂ² çµ±è¨ˆé‡çš„æ„ç¾©ç‚ºä½•ï¼Ÿ',o:['è¡¡é‡æ•ˆæœé‡å¤§å°','è¡¡é‡ç™¼è¡¨åå·®ç¨‹åº¦','è¡¡é‡ç•°è³ªæ€§æ¯”ä¾‹','è¡¡é‡çµ±è¨ˆæª¢å®šåŠ›'],c:2,e:'IÂ² ä»£è¡¨ç¸½è®Šç•°ä¸­å¯æ­¸å› æ–¼ç•°è³ªæ€§ï¼ˆè€ŒéæŠ½æ¨£èª¤å·®ï¼‰çš„æ¯”ä¾‹ã€‚IÂ²=0% è¡¨ç¤ºç„¡ç•°è³ªæ€§ï¼Œ>75% è¡¨ç¤ºé«˜åº¦ç•°è³ªæ€§ã€‚'},
    {q:'ç•¶ IÂ² = 85% æ™‚ï¼Œæ‡‰å¦‚ä½•è§£è®€ï¼Ÿ',o:['ç ”ç©¶é–“åŒè³ªæ€§é«˜ï¼Œå¯åˆä½µ','ç ”ç©¶é–“æœ‰é«˜åº¦ç•°è³ªæ€§ï¼Œéœ€è¬¹æ…è§£è®€','æ¨£æœ¬æ•¸ä¸è¶³','ç™¼è¡¨åå·®åš´é‡'],c:1,e:'IÂ² = 85% å±¬æ–¼é«˜åº¦ç•°è³ªæ€§ï¼ˆ>75%ï¼‰ï¼Œè¡¨ç¤ºç ”ç©¶é–“å­˜åœ¨æ˜é¡¯å·®ç•°ï¼Œåˆä½µæ•ˆæœé‡çš„æ„ç¾©æœ‰é™ï¼Œæ‡‰æ¢è¨ç•°è³ªæ€§ä¾†æºæˆ–è€ƒæ…®ä¸åˆä½µã€‚'},
    {q:'æ¼æ–—åœ–ï¼ˆFunnel Plotï¼‰ä¸»è¦ç”¨æ–¼è©•ä¼°ä»€éº¼ï¼Ÿ',o:['æ•ˆæœé‡å¤§å°','ç ”ç©¶å“è³ª','ç™¼è¡¨åå·®','ç•°è³ªæ€§ç¨‹åº¦'],c:2,e:'æ¼æ–—åœ–ç”¨æ–¼è¦–è¦ºåŒ–è©•ä¼°ç™¼è¡¨åå·®ã€‚ç†æƒ³æƒ…æ³ä¸‹æ‡‰å‘ˆå°ç¨±å€’æ¼æ–—ç‹€ï¼Œè‹¥ä¸å°ç¨±ï¼ˆå°¤å…¶å·¦ä¸‹ç¼ºè§’ï¼‰å¯èƒ½æš—ç¤ºå°å‹é™°æ€§ç ”ç©¶æœªç™¼è¡¨ã€‚'},
    {q:'å›ºå®šæ•ˆæœæ¨¡å‹ï¼ˆFixed-effect modelï¼‰çš„å‡è¨­ç‚ºä½•ï¼Ÿ',o:['å„ç ”ç©¶æœ‰ä¸åŒçš„çœŸå¯¦æ•ˆæœé‡','å„ç ”ç©¶å…±äº«åŒä¸€å€‹çœŸå¯¦æ•ˆæœé‡','ç ”ç©¶é–“å¿…æœ‰ç•°è³ªæ€§','åªé©ç”¨æ–¼å¤§å‹ç ”ç©¶'],c:1,e:'å›ºå®šæ•ˆæœæ¨¡å‹å‡è¨­æ‰€æœ‰ç ”ç©¶ä¼°è¨ˆåŒä¸€å€‹ã€ŒçœŸå¯¦æ•ˆæœé‡ã€ï¼Œè§€å¯Ÿåˆ°çš„å·®ç•°åƒ…ä¾†è‡ªæŠ½æ¨£èª¤å·®ã€‚é©ç”¨æ–¼ç ”ç©¶é–“åŒè³ªæ€§é«˜çš„æƒ…æ³ã€‚'},
    {q:'GRADE ç³»çµ±ä¸­ï¼ŒRCT çš„èµ·å§‹è­‰æ“šç­‰ç´šç‚ºä½•ï¼Ÿ',o:['éå¸¸ä½','ä½','ä¸­','é«˜'],c:3,e:'åœ¨ GRADE ç³»çµ±ä¸­ï¼ŒRCT çš„èµ·å§‹è­‰æ“šç­‰ç´šç‚ºã€Œé«˜ã€ï¼Œè§€å¯Ÿæ€§ç ”ç©¶ç‚ºã€Œä½ã€ã€‚ä¹‹å¾Œæ ¹æ“šäº”å€‹é™ç´šå› ç´ å’Œä¸‰å€‹å‡ç´šå› ç´ èª¿æ•´ã€‚'},
    {q:'ä»¥ä¸‹ä½•è€…æ˜¯ GRADE çš„é™ç´šå› ç´ ï¼Ÿ',o:['æ•ˆæœé‡å¤§','åŠ‘é‡åæ‡‰é—œä¿‚','åå·®é¢¨éšªé«˜','å¹²æ“¾å› ç´ ä½¿æ•ˆæœä½ä¼°'],c:2,e:'GRADE çš„äº”å€‹é™ç´šå› ç´ ï¼šåå·®é¢¨éšªã€ä¸ä¸€è‡´æ€§ã€é–“æ¥æ€§ã€ä¸ç²¾ç¢ºæ€§ã€ç™¼è¡¨åå·®ã€‚æ•ˆæœé‡å¤§ã€åŠ‘é‡åæ‡‰ã€å¹²æ“¾å› ç´ æ˜¯å‡ç´šå› ç´ ã€‚'},
    {q:'çµ±åˆåˆ†æä¸­ï¼Œä½•æ™‚æ‡‰å„ªå…ˆé¸æ“‡éš¨æ©Ÿæ•ˆæœæ¨¡å‹ï¼Ÿ',o:['ç ”ç©¶æ•¸é‡å°‘æ–¼5ç¯‡','é æœŸç ”ç©¶é–“å­˜åœ¨ç•°è³ªæ€§','åªæœ‰RCTç ”ç©¶','æ•ˆæœé‡å¾ˆå¤§æ™‚'],c:1,e:'ç•¶é æœŸç ”ç©¶é–“å­˜åœ¨è‡¨åºŠæˆ–æ–¹æ³•å­¸ç•°è³ªæ€§æ™‚ï¼Œæ‡‰ä½¿ç”¨éš¨æ©Ÿæ•ˆæœæ¨¡å‹ã€‚æ­¤æ¨¡å‹å‡è¨­å„ç ”ç©¶æœ‰ä¸åŒçš„çœŸå¯¦æ•ˆæœé‡ï¼Œä¸¦ä¼°è¨ˆå…¶åˆ†å¸ƒã€‚'},
    {q:'Forest plot ä¸­çš„è±å½¢ï¼ˆDiamondï¼‰ä»£è¡¨ä»€éº¼ï¼Ÿ',o:['å–®ä¸€ç ”ç©¶çš„æ•ˆæœé‡','åˆä½µå¾Œçš„æ•´é«”æ•ˆæœé‡','ç•°è³ªæ€§ç¨‹åº¦','ç™¼è¡¨åå·®'],c:1,e:'è±å½¢ä»£è¡¨çµ±åˆåˆ†æåˆä½µå¾Œçš„æ•´é«”æ•ˆæœé‡ä¼°è¨ˆã€‚è±å½¢çš„ä¸­å¿ƒé»æ˜¯é»ä¼°è¨ˆå€¼ï¼Œå¯¬åº¦ä»£è¡¨95%ä¿¡è³´å€é–“ã€‚'}
];

const App=()=>{
    const[page,setPage]=useState('home');
    const[lessonId,setLessonId]=useState(1);
    const[qIdx,setQIdx]=useState(0);
    const[score,setScore]=useState(0);
    const[sel,setSel]=useState(null);
    const[show,setShow]=useState(false);
    const[done,setDone]=useState(false);
    const[quizStartTime,setQuizStartTime]=useState(null);

    useEffect(()=>{if(page==='quiz'&&!done&&!quizStartTime)setQuizStartTime(Date.now())},[page,done]);
    useEffect(()=>{if(done&&quizStartTime){const t=Math.round((Date.now()-quizStartTime)/1000);ProgressTracker.saveQuizResult(MODULE_ID,score,quiz.length,t)}},[done]);

    const Header=({title})=>(
        <header style={{background:'#fff',borderBottom:'1px solid #FFE4D6',padding:'12px 16px',position:'sticky',top:0,zIndex:10}}>
            <div style={{maxWidth:480,margin:'0 auto',display:'flex',alignItems:'center',gap:12}}>
                <button onClick={()=>page==='home'?window.location.href='index.html':setPage('home')} style={{background:'#FFF5F0',border:'none',borderRadius:10,width:40,height:40,cursor:'pointer',color:'var(--pri)',display:'flex',alignItems:'center',justifyContent:'center'}}>
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                <span style={{fontWeight:700,color:'#C53D00'}}>{title}</span>
            </div>
        </header>
    );

    const Home=()=>(
        <div>
            <Header title="ç³»çµ±æ€§å›é¡§èˆ‡çµ±åˆåˆ†æ"/>
            <div style={{background:'linear-gradient(135deg,#FF6B35,#F7931E)',padding:'32px 20px',color:'#fff'}}>
                <div style={{maxWidth:480,margin:'0 auto'}}>
                    <div style={{background:'rgba(255,255,255,0.2)',display:'inline-block',padding:'6px 14px',borderRadius:50,fontSize:12,fontWeight:600,marginBottom:16}}>ğŸ“Š Systematic Review & Meta-analysis</div>
                    <h1 style={{fontSize:26,fontWeight:700,marginBottom:12}}>ç³»çµ±æ€§å›é¡§èˆ‡çµ±åˆåˆ†æ</h1>
                    <p style={{opacity:0.95,fontSize:14}}>å­¸ç¿’å¦‚ä½•è©•è®€èˆ‡ç†è§£æœ€é«˜ç­‰ç´šçš„è­‰æ“š</p>
                </div>
            </div>
            <div style={{padding:'0 16px',marginTop:-20}}>
                <div style={{maxWidth:480,margin:'0 auto'}}>
                    <div className="card">
                        <h3 style={{fontSize:16,fontWeight:700,color:'var(--pri)',marginBottom:12}}>ğŸ¯ å­¸ç¿’ç›®æ¨™</h3>
                        {['ç†è§£ç³»çµ±æ€§å›é¡§çš„æ–¹æ³•å­¸','æ­£ç¢ºè§£è®€ Forest Plot','è©•ä¼°ç•°è³ªæ€§èˆ‡å…¶è‡¨åºŠæ„ç¾©','è­˜åˆ¥ç™¼è¡¨åå·®','æ‡‰ç”¨ GRADE è©•ç´šç³»çµ±'].map((t,i)=>(
                            <div key={i} style={{display:'flex',gap:10,marginBottom:8,fontSize:14}}>
                                <span style={{background:'var(--suc)',color:'#fff',borderRadius:6,width:22,height:22,display:'flex',alignItems:'center',justifyContent:'center',fontSize:12,flexShrink:0}}>{i+1}</span>
                                <span style={{color:'var(--txt2)'}}>{t}</span>
                            </div>
                        ))}
                    </div>
                    <h3 style={{fontSize:18,fontWeight:700,marginBottom:16}}>ğŸ“š èª²ç¨‹å…§å®¹</h3>
                    {lessons.map(l=>(
                        <div key={l.id} className="card" onClick={()=>{setLessonId(l.id);setPage('lesson')}} style={{cursor:'pointer'}}>
                            <div style={{display:'flex',alignItems:'center',gap:16}}>
                                <div style={{width:48,height:48,borderRadius:12,background:`linear-gradient(135deg,${l.color},${l.color}88)`,display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',fontWeight:700}}>{l.id}</div>
                                <div style={{flex:1}}>
                                    <div style={{fontSize:11,color:l.color,fontWeight:600}}>Lesson {l.id}</div>
                                    <div style={{fontSize:16,fontWeight:700}}>{l.title}</div>
                                    <div style={{fontSize:13,color:'var(--txt2)'}}>{l.sub}</div>
                                </div>
                                <svg viewBox="0 0 24 24" fill={l.color} width="20" height="20"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/></svg>
                            </div>
                        </div>
                    ))}
                    <button className="btn btn-pri" onClick={()=>{setQIdx(0);setScore(0);setSel(null);setShow(false);setDone(false);setPage('quiz')}} style={{width:'100%',justifyContent:'center',marginTop:20,marginBottom:32}}>
                        ğŸ“ é–‹å§‹æ¸¬é©— (10é¡Œ)
                    </button>
                </div>
            </div>
            <footer style={{background:'#FFF5F0',padding:'24px 16px',textAlign:'center'}}>
                <p style={{fontSize:13,color:'var(--txt2)'}}>æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨</p>
                <p style={{fontSize:12,color:'var(--txt2)'}}>è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯</p>
            </footer>
        </div>
    );

    const L1=()=>(
        <div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--pri)',marginBottom:12}}>ğŸ“– ä»€éº¼æ˜¯ç³»çµ±æ€§å›é¡§ï¼Ÿ</h3>
                <p style={{fontSize:14,color:'var(--txt2)',marginBottom:16}}>ç³»çµ±æ€§å›é¡§æ˜¯ä»¥<strong>æ˜ç¢ºã€ç³»çµ±åŒ–çš„æ–¹æ³•</strong>æ”¶é›†ã€è©•ä¼°ä¸¦ç¶œåˆæ‰€æœ‰ç›¸é—œç ”ç©¶è­‰æ“šï¼Œä»¥å›ç­”ç‰¹å®šçš„ç ”ç©¶å•é¡Œã€‚</p>
                <div className="info">
                    <strong style={{color:'var(--blue)'}}>ğŸ”‘ æ ¸å¿ƒç‰¹è‰²</strong><br/>
                    <span style={{fontSize:14,color:'var(--txt2)'}}>
                    â€¢ æ˜ç¢ºçš„ç ”ç©¶å•é¡Œï¼ˆPICOï¼‰<br/>
                    â€¢ é å…ˆå®šç¾©çš„æœå°‹ç­–ç•¥<br/>
                    â€¢ æ˜ç¢ºçš„ç´å…¥/æ’é™¤æ¨™æº–<br/>
                    â€¢ ç³»çµ±æ€§çš„å“è³ªè©•ä¼°<br/>
                    â€¢ é€æ˜ä¸”å¯é‡è¤‡çš„éç¨‹
                    </span>
                </div>
            </div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--blue)',marginBottom:12}}>ğŸ”„ ç³»çµ±æ€§å›é¡§ vs çµ±åˆåˆ†æ</h3>
                <table>
                    <thead><tr><th>é …ç›®</th><th>ç³»çµ±æ€§å›é¡§</th><th>çµ±åˆåˆ†æ</th></tr></thead>
                    <tbody>
                        <tr><td style={{fontWeight:600}}>å®šç¾©</td><td>ç³»çµ±æ€§æ–‡ç»å›é¡§æ–¹æ³•</td><td>çµ±è¨ˆåˆä½µæŠ€è¡“</td></tr>
                        <tr><td style={{fontWeight:600}}>å¿…è¦æ€§</td><td>å¿…é ˆé€²è¡Œ</td><td>è¦–æƒ…æ³æ±ºå®š</td></tr>
                        <tr><td style={{fontWeight:600}}>ç”¢å‡º</td><td>è³ªæ€§ç¶œåˆ</td><td>é‡åŒ–åˆä½µæ•ˆæœé‡</td></tr>
                        <tr><td style={{fontWeight:600}}>é—œä¿‚</td><td colspan="2">çµ±åˆåˆ†ææ˜¯ç³»çµ±æ€§å›é¡§çš„ä¸€éƒ¨åˆ†ï¼ˆè‹¥é©åˆï¼‰</td></tr>
                    </tbody>
                </table>
            </div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--pur)',marginBottom:12}}>ğŸ“‹ ç³»çµ±æ€§å›é¡§æ­¥é©Ÿ</h3>
                <div style={{display:'flex',flexDirection:'column',gap:8}}>
                    {[
                        {step:'1',title:'å®šç¾©å•é¡Œ',desc:'ä½¿ç”¨ PICO æ¡†æ¶',color:'#FF6B35'},
                        {step:'2',title:'åˆ¶å®šè¨ˆç•«æ›¸',desc:'é å…ˆè¨»å†Šæ–¼ PROSPERO',color:'#0077B6'},
                        {step:'3',title:'æ–‡ç»æœå°‹',desc:'å¤šè³‡æ–™åº«ã€ç°è‰²æ–‡ç»',color:'#7209B7'},
                        {step:'4',title:'ç¯©é¸æ–‡ç»',desc:'æ¨™é¡Œ/æ‘˜è¦ â†’ å…¨æ–‡',color:'#2EC4B6'},
                        {step:'5',title:'è³‡æ–™èƒå–',desc:'æ¨™æº–åŒ–è¡¨æ ¼',color:'#D69E2E'},
                        {step:'6',title:'å“è³ªè©•ä¼°',desc:'RoB 2.0 / ROBINS-I',color:'#E53E3E'},
                        {step:'7',title:'è³‡æ–™åˆæˆ',desc:'è³ªæ€§/é‡åŒ–ï¼ˆçµ±åˆåˆ†æï¼‰',color:'#38A169'},
                        {step:'8',title:'å ±å‘Šæ’°å¯«',desc:'éµå¾ª PRISMA æŒ‡å¼•',color:'#6B7280'}
                    ].map((item,idx)=>(
                        <div key={idx} style={{display:'flex',alignItems:'center',gap:12,padding:'10px',background:'#FAFAFA',borderRadius:10}}>
                            <div style={{width:28,height:28,borderRadius:8,background:item.color,color:'#fff',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:13,flexShrink:0}}>{item.step}</div>
                            <div style={{flex:1}}>
                                <div style={{fontSize:14,fontWeight:600}}>{item.title}</div>
                                <div style={{fontSize:12,color:'var(--txt2)'}}>{item.desc}</div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
            <div className="good">
                <strong style={{color:'var(--suc)'}}>ğŸ’¡ PRISMA è²æ˜</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                Preferred Reporting Items for Systematic Reviews and Meta-Analyses<br/>
                ç³»çµ±æ€§å›é¡§çš„å ±å‘Šæ¨™æº–ï¼ŒåŒ…å« 27 é …æª¢æ ¸æ¸…å–®èˆ‡æµç¨‹åœ–
                </span>
            </div>
        </div>
    );

    const L2=()=>(
        <div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--blue)',marginBottom:12}}>ğŸ“Š Forest Plot çµ„æˆå…ƒç´ </h3>
                <p style={{fontSize:14,color:'var(--txt2)',marginBottom:16}}>Forest Plotï¼ˆæ£®æ—åœ–ï¼‰æ˜¯å‘ˆç¾çµ±åˆåˆ†æçµæœæœ€é‡è¦çš„è¦–è¦ºåŒ–å·¥å…·ã€‚</p>
                
                <div className="forest-plot">
                    <div style={{display:'flex',justifyContent:'space-between',marginBottom:8,fontSize:11,color:'var(--txt2)'}}>
                        <span>ç ”ç©¶</span>
                        <span>æœ‰åˆ©å°ç…§ â†  â†’ æœ‰åˆ©ä»‹å…¥</span>
                        <span>RR [95% CI]</span>
                    </div>
                    <div className="forest-row">
                        <div className="forest-study">Study A (2018)</div>
                        <div className="forest-bar">
                            <div className="forest-line"></div>
                            <div className="forest-ci" style={{left:'55%',width:'20%'}}></div>
                            <div className="forest-point" style={{left:'65%'}}></div>
                        </div>
                        <div className="forest-value">0.72 [0.55, 0.94]</div>
                    </div>
                    <div className="forest-row">
                        <div className="forest-study">Study B (2019)</div>
                        <div className="forest-bar">
                            <div className="forest-line"></div>
                            <div className="forest-ci" style={{left:'40%',width:'35%'}}></div>
                            <div className="forest-point" style={{left:'58%'}}></div>
                        </div>
                        <div className="forest-value">0.85 [0.60, 1.20]</div>
                    </div>
                    <div className="forest-row">
                        <div className="forest-study">Study C (2020)</div>
                        <div className="forest-bar">
                            <div className="forest-line"></div>
                            <div className="forest-ci" style={{left:'52%',width:'18%'}}></div>
                            <div className="forest-point" style={{left:'60%'}}></div>
                        </div>
                        <div className="forest-value">0.78 [0.62, 0.98]</div>
                    </div>
                    <div className="forest-row">
                        <div className="forest-study">Overall</div>
                        <div className="forest-bar">
                            <div className="forest-line"></div>
                            <div className="forest-diamond" style={{left:'62%'}}></div>
                        </div>
                        <div className="forest-value" style={{color:'var(--pri)',fontWeight:700}}>0.78 [0.68, 0.90]</div>
                    </div>
                </div>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--pur)',marginBottom:12}}>ğŸ” é—œéµå…ƒç´ è§£è®€</h3>
                <table>
                    <thead><tr><th>å…ƒç´ </th><th>æ„ç¾©</th></tr></thead>
                    <tbody>
                        <tr><td style={{fontWeight:600}}>æ–¹å¡Š â– </td><td>å„ç ”ç©¶çš„é»ä¼°è¨ˆå€¼ï¼Œå¤§å°åæ˜ æ¬Šé‡</td></tr>
                        <tr><td style={{fontWeight:600}}>æ©«ç·š â€”</td><td>95% ä¿¡è³´å€é–“</td></tr>
                        <tr><td style={{fontWeight:600}}>å‚ç›´ç·š â”‚</td><td>ç„¡æ•ˆç·šï¼ˆRR/OR=1 æˆ– MD=0ï¼‰</td></tr>
                        <tr><td style={{fontWeight:600}}>è±å½¢ â—†</td><td>åˆä½µæ•ˆæœé‡ï¼Œå¯¬åº¦ç‚º 95% CI</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div className="info">
                <strong style={{color:'var(--blue)'}}>ğŸ“Œ å¿«é€Ÿåˆ¤è®€æŠ€å·§</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                1. <strong>è±å½¢ä½ç½®</strong>ï¼šåœ¨ç„¡æ•ˆç·šå“ªå´ï¼Ÿâ†’ æ•ˆæœæ–¹å‘<br/>
                2. <strong>è±å½¢æ˜¯å¦è·¨è¶Šç„¡æ•ˆç·š</strong>ï¼šâ†’ æ˜¯å¦çµ±è¨ˆé¡¯è‘—<br/>
                3. <strong>æ–¹å¡Šæ•£å¸ƒ</strong>ï¼šé›†ä¸­æˆ–åˆ†æ•£ï¼Ÿâ†’ ç•°è³ªæ€§é«˜ä½<br/>
                4. <strong>æ¬Šé‡åˆ†å¸ƒ</strong>ï¼šæ˜¯å¦è¢«å–®ä¸€ç ”ç©¶ä¸»å°ï¼Ÿ
                </span>
            </div>
            
            <div className="tip">
                <strong style={{color:'var(--warn)'}}>âš ï¸ æ³¨æ„äº‹é …</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                â€¢ çµ±è¨ˆé¡¯è‘— â‰  è‡¨åºŠé‡è¦æ€§<br/>
                â€¢ éœ€åŒæ™‚è€ƒæ…®æ•ˆæœé‡å¤§å°èˆ‡ä¿¡è³´å€é–“<br/>
                â€¢ ç•°è³ªæ€§é«˜æ™‚ï¼Œåˆä½µæ•ˆæœé‡æ„ç¾©æœ‰é™
                </span>
            </div>
        </div>
    );

    const L3=()=>(
        <div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--pur)',marginBottom:12}}>ğŸ”€ ä»€éº¼æ˜¯ç•°è³ªæ€§ï¼Ÿ</h3>
                <p style={{fontSize:14,color:'var(--txt2)',marginBottom:12}}>ç•°è³ªæ€§ï¼ˆHeterogeneityï¼‰æŒ‡ç´å…¥ç ”ç©¶é–“çµæœçš„è®Šç•°ç¨‹åº¦è¶…ééš¨æ©Ÿèª¤å·®æ‰€èƒ½è§£é‡‹çš„ç¯„åœã€‚</p>
                
                <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12,marginTop:16}}>
                    <div style={{background:'#F0FFF4',padding:12,borderRadius:10}}>
                        <div style={{fontWeight:600,color:'var(--suc)',marginBottom:4}}>è‡¨åºŠç•°è³ªæ€§</div>
                        <div style={{fontSize:12,color:'var(--txt2)'}}>æ—ç¾¤ã€ä»‹å…¥ã€çµæœæ¸¬é‡çš„å·®ç•°</div>
                    </div>
                    <div style={{background:'#EBF8FF',padding:12,borderRadius:10}}>
                        <div style={{fontWeight:600,color:'var(--blue)',marginBottom:4}}>æ–¹æ³•å­¸ç•°è³ªæ€§</div>
                        <div style={{fontSize:12,color:'var(--txt2)'}}>ç ”ç©¶è¨­è¨ˆã€åå·®é¢¨éšªçš„å·®ç•°</div>
                    </div>
                    <div style={{background:'#FAF5FF',padding:12,borderRadius:10,gridColumn:'1/3'}}>
                        <div style={{fontWeight:600,color:'var(--pur)',marginBottom:4}}>çµ±è¨ˆç•°è³ªæ€§</div>
                        <div style={{fontSize:12,color:'var(--txt2)'}}>è§€å¯Ÿåˆ°çš„æ•ˆæœé‡è®Šç•°ï¼ˆç”¨ IÂ²ã€Q çµ±è¨ˆé‡è©•ä¼°ï¼‰</div>
                    </div>
                </div>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--blue)',marginBottom:12}}>ğŸ“ IÂ² çµ±è¨ˆé‡</h3>
                <div className="formula">IÂ² = (Q - df) / Q Ã— 100%</div>
                <p style={{fontSize:13,color:'var(--txt2)',marginTop:12}}>ä»£è¡¨ç¸½è®Šç•°ä¸­å¯æ­¸å› æ–¼ç•°è³ªæ€§çš„æ¯”ä¾‹</p>
                
                <table style={{marginTop:16}}>
                    <thead><tr><th>IÂ² ç¯„åœ</th><th>ç•°è³ªæ€§ç¨‹åº¦</th><th>å»ºè­°</th></tr></thead>
                    <tbody>
                        <tr><td style={{color:'var(--suc)',fontWeight:600}}>0-25%</td><td>ä½</td><td>å¯è€ƒæ…®å›ºå®šæ•ˆæœæ¨¡å‹</td></tr>
                        <tr><td style={{color:'var(--warn)',fontWeight:600}}>25-50%</td><td>ä¸­ç­‰</td><td>éœ€æ¢è¨ä¾†æº</td></tr>
                        <tr><td style={{color:'var(--pri)',fontWeight:600}}>50-75%</td><td>é«˜</td><td>éœ€è¬¹æ…è§£è®€åˆä½µçµæœ</td></tr>
                        <tr><td style={{color:'var(--err)',fontWeight:600}}>&gt;75%</td><td>æ¥µé«˜</td><td>è€ƒæ…®ä¸åˆä½µæˆ–æ¬¡ç¾¤çµ„åˆ†æ</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--teal)',marginBottom:12}}>ğŸ”§ è™•ç†ç•°è³ªæ€§çš„ç­–ç•¥</h3>
                <div style={{fontSize:14,lineHeight:1.8}}>
                    <div style={{marginBottom:8}}><strong>1. æ¢ç´¢ä¾†æº</strong></div>
                    <div style={{paddingLeft:16,marginBottom:12,color:'var(--txt2)'}}>
                        â€¢ æ¬¡ç¾¤çµ„åˆ†æï¼ˆé å…ˆè¨­å®šï¼‰<br/>
                        â€¢ Meta-regression<br/>
                        â€¢ æ•æ„Ÿåº¦åˆ†æ
                    </div>
                    
                    <div style={{marginBottom:8}}><strong>2. é¸æ“‡é©ç•¶æ¨¡å‹</strong></div>
                    <table>
                        <thead><tr><th>æ¨¡å‹</th><th>å‡è¨­</th><th>é©ç”¨æƒ…å¢ƒ</th></tr></thead>
                        <tbody>
                            <tr><td style={{fontWeight:600}}>å›ºå®šæ•ˆæœ</td><td>ç ”ç©¶ä¼°è¨ˆåŒä¸€æ•ˆæœé‡</td><td>åŒè³ªæ€§é«˜</td></tr>
                            <tr><td style={{fontWeight:600}}>éš¨æ©Ÿæ•ˆæœ</td><td>æ•ˆæœé‡æœ‰åˆ†å¸ƒ</td><td>é æœŸæœ‰ç•°è³ªæ€§</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div className="warn">
                <strong style={{color:'var(--err)'}}>ğŸš¨ é‡è¦æé†’</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                IÂ² åªæ˜¯æè¿°è®Šç•°çš„ã€Œæ¯”ä¾‹ã€ï¼Œä¸ä»£è¡¨è®Šç•°çš„ã€Œç¨‹åº¦ã€ã€‚<br/>
                å³ä½¿ IÂ²=0%ï¼Œä»éœ€è€ƒæ…®è‡¨åºŠç•°è³ªæ€§æ˜¯å¦é©åˆåˆä½µã€‚
                </span>
            </div>
        </div>
    );

    const L4=()=>(
        <div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--teal)',marginBottom:12}}>ğŸ“° ä»€éº¼æ˜¯ç™¼è¡¨åå·®ï¼Ÿ</h3>
                <p style={{fontSize:14,color:'var(--txt2)',marginBottom:12}}>ç™¼è¡¨åå·®ï¼ˆPublication Biasï¼‰æŒ‡ç ”ç©¶çµæœçš„ç™¼è¡¨èˆ‡å¦å—åˆ°çµæœæ–¹å‘æˆ–çµ±è¨ˆé¡¯è‘—æ€§å½±éŸ¿ã€‚</p>
                
                <div className="warn">
                    <strong style={{color:'var(--err)'}}>âš ï¸ ç™¼è¡¨åå·®çš„å¾Œæœ</strong><br/>
                    <span style={{fontSize:14,color:'var(--txt2)'}}>
                    â€¢ æ­£å‘çµæœè¼ƒæ˜“ç™¼è¡¨ â†’ æ•ˆæœè¢«é«˜ä¼°<br/>
                    â€¢ å°å‹é™°æ€§ç ”ç©¶å¸¸è¢«éºæ¼<br/>
                    â€¢ ç³»çµ±æ€§å›é¡§çµè«–å¯èƒ½å¤±çœŸ
                    </span>
                </div>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--blue)',marginBottom:12}}>ğŸ“ˆ æ¼æ–—åœ– Funnel Plot</h3>
                <p style={{fontSize:13,color:'var(--txt2)',marginBottom:12}}>ä»¥æ•ˆæœé‡ç‚ºXè»¸ã€ç²¾ç¢ºåº¦ï¼ˆå¦‚æ¨™æº–èª¤å€’æ•¸ï¼‰ç‚ºYè»¸çš„æ•£å¸ƒåœ–</p>
                
                <svg viewBox="0 0 300 200" style={{width:'100%',maxWidth:300,display:'block',margin:'0 auto'}}>
                    {/* æ¼æ–—å¤–æ¡† */}
                    <polygon points="150,20 50,180 250,180" fill="none" stroke="#E2E8F0" strokeWidth="2" strokeDasharray="5,5"/>
                    {/* ä¸­å¿ƒç·š */}
                    <line x1="150" y1="20" x2="150" y2="180" stroke="#E53E3E" strokeWidth="2"/>
                    {/* å°ç¨±åˆ†å¸ƒçš„é» */}
                    <circle cx="150" cy="40" r="6" fill="var(--blue)"/>
                    <circle cx="140" cy="55" r="5" fill="var(--blue)"/>
                    <circle cx="160" cy="55" r="5" fill="var(--blue)"/>
                    <circle cx="130" cy="75" r="5" fill="var(--blue)"/>
                    <circle cx="170" cy="75" r="5" fill="var(--blue)"/>
                    <circle cx="155" cy="70" r="5" fill="var(--blue)"/>
                    <circle cx="145" cy="90" r="4" fill="var(--blue)"/>
                    <circle cx="165" cy="95" r="4" fill="var(--blue)"/>
                    <circle cx="125" cy="110" r="4" fill="var(--blue)"/>
                    <circle cx="175" cy="115" r="4" fill="var(--blue)"/>
                    <circle cx="140" cy="130" r="4" fill="var(--blue)"/>
                    <circle cx="160" cy="135" r="4" fill="var(--blue)"/>
                    {/* æ¨™ç±¤ */}
                    <text x="150" y="195" textAnchor="middle" fontSize="11" fill="#6B7280">æ•ˆæœé‡</text>
                    <text x="15" y="100" textAnchor="middle" fontSize="11" fill="#6B7280" transform="rotate(-90,15,100)">ç²¾ç¢ºåº¦</text>
                </svg>
                
                <div style={{textAlign:'center',fontSize:12,color:'var(--suc)',fontWeight:600,marginTop:8}}>âœ“ å°ç¨±åˆ†å¸ƒ = ç„¡æ˜é¡¯ç™¼è¡¨åå·®</div>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--err)',marginBottom:12}}>ğŸš¨ ä¸å°ç¨±æ¼æ–—åœ–</h3>
                
                <svg viewBox="0 0 300 200" style={{width:'100%',maxWidth:300,display:'block',margin:'0 auto'}}>
                    <polygon points="150,20 50,180 250,180" fill="none" stroke="#E2E8F0" strokeWidth="2" strokeDasharray="5,5"/>
                    <line x1="150" y1="20" x2="150" y2="180" stroke="#E53E3E" strokeWidth="2"/>
                    {/* ä¸å°ç¨±åˆ†å¸ƒ - å·¦ä¸‹ç¼ºè§’ */}
                    <circle cx="150" cy="40" r="6" fill="var(--blue)"/>
                    <circle cx="160" cy="55" r="5" fill="var(--blue)"/>
                    <circle cx="155" cy="50" r="5" fill="var(--blue)"/>
                    <circle cx="170" cy="75" r="5" fill="var(--blue)"/>
                    <circle cx="165" cy="70" r="5" fill="var(--blue)"/>
                    <circle cx="175" cy="95" r="4" fill="var(--blue)"/>
                    <circle cx="180" cy="115" r="4" fill="var(--blue)"/>
                    <circle cx="170" cy="130" r="4" fill="var(--blue)"/>
                    <circle cx="185" cy="140" r="4" fill="var(--blue)"/>
                    {/* ç¼ºå¤±å€åŸŸæ¨™ç¤º */}
                    <ellipse cx="110" cy="140" rx="35" ry="30" fill="rgba(229,62,62,0.1)" stroke="var(--err)" strokeWidth="2" strokeDasharray="4,4"/>
                    <text x="110" y="145" textAnchor="middle" fontSize="10" fill="var(--err)">ç¼ºå¤±å€åŸŸ</text>
                </svg>
                
                <div style={{textAlign:'center',fontSize:12,color:'var(--err)',fontWeight:600,marginTop:8}}>âœ— å·¦ä¸‹ç¼ºè§’ = å¯èƒ½æœ‰ç™¼è¡¨åå·®</div>
            </div>
            
            <div className="info">
                <strong style={{color:'var(--blue)'}}>ğŸ“Š çµ±è¨ˆæª¢å®šæ–¹æ³•</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                â€¢ <strong>Egger's test</strong>ï¼šè¿´æ­¸æ³•æª¢å®šä¸å°ç¨±<br/>
                â€¢ <strong>Begg's test</strong>ï¼šç­‰ç´šç›¸é—œæ³•<br/>
                â€¢ <strong>Trim and fill</strong>ï¼šä¼°è¨ˆéºæ¼ç ”ç©¶æ•¸<br/>
                <em>è¨»ï¼šç ”ç©¶æ•¸ &lt;10 ç¯‡æ™‚æª¢å®šåŠ›ä¸è¶³</em>
                </span>
            </div>
            
            <div className="tip">
                <strong style={{color:'var(--warn)'}}>ğŸ’¡ æ¸›å°‘ç™¼è¡¨åå·®çš„ç­–ç•¥</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                â€¢ æœå°‹ç°è‰²æ–‡ç»ï¼ˆæœƒè­°æ‘˜è¦ã€å­¸ä½è«–æ–‡ï¼‰<br/>
                â€¢ æŸ¥è©¢è©¦é©—è¨»å†Šå¹³å°ï¼ˆClinicalTrials.govï¼‰<br/>
                â€¢ è¯ç¹«ç›¸é—œé ˜åŸŸå°ˆå®¶<br/>
                â€¢ ç´å…¥æœªç™¼è¡¨çš„ç ”ç©¶
                </span>
            </div>
        </div>
    );

    const L5=()=>(
        <div>
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--warn)',marginBottom:12}}>â­ GRADE ç³»çµ±ç°¡ä»‹</h3>
                <p style={{fontSize:14,color:'var(--txt2)',marginBottom:12}}>
                    GRADEï¼ˆGrading of Recommendations Assessment, Development and Evaluationï¼‰æ˜¯ç›®å‰æœ€å»£æ³›ä½¿ç”¨çš„è­‰æ“šå“è³ªè©•ç´šç³»çµ±ã€‚
                </p>
                
                <div className="formula" style={{background:'linear-gradient(135deg,#FFFBEB,#FEF3C7)',borderColor:'var(--warn)'}}>
                    è­‰æ“šå“è³ª = èµ·å§‹ç­‰ç´š Â± èª¿æ•´å› ç´ 
                </div>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--blue)',marginBottom:12}}>ğŸ“Š å››å€‹è­‰æ“šç­‰ç´š</h3>
                <table className="grade-table">
                    <thead><tr><th>ç­‰ç´š</th><th>å®šç¾©</th><th>ä¿¡å¿ƒç¨‹åº¦</th></tr></thead>
                    <tbody>
                        <tr style={{background:'#F0FFF4'}}><td style={{color:'var(--suc)'}}>âŠ•âŠ•âŠ•âŠ• é«˜</td><td>éå¸¸æœ‰ä¿¡å¿ƒæ•ˆæœä¼°è¨ˆæ¥è¿‘çœŸå¯¦æ•ˆæœ</td><td>å¾ˆé«˜</td></tr>
                        <tr style={{background:'#EBF8FF'}}><td style={{color:'var(--blue)'}}>âŠ•âŠ•âŠ•â—¯ ä¸­</td><td>æ•ˆæœä¼°è¨ˆå¯èƒ½æ¥è¿‘çœŸå¯¦æ•ˆæœ</td><td>ä¸­ç­‰</td></tr>
                        <tr style={{background:'#FFFBEB'}}><td style={{color:'var(--warn)'}}>âŠ•âŠ•â—¯â—¯ ä½</td><td>çœŸå¯¦æ•ˆæœå¯èƒ½èˆ‡ä¼°è¨ˆæœ‰æ˜é¡¯ä¸åŒ</td><td>æœ‰é™</td></tr>
                        <tr style={{background:'#FFF5F5'}}><td style={{color:'var(--err)'}}>âŠ•â—¯â—¯â—¯ æ¥µä½</td><td>æ•ˆæœä¼°è¨ˆéå¸¸ä¸ç¢ºå®š</td><td>å¾ˆä½</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--err)',marginBottom:12}}>â¬‡ï¸ äº”å€‹é™ç´šå› ç´ </h3>
                <div style={{display:'grid',gap:8}}>
                    {[
                        {name:'åå·®é¢¨éšª',desc:'Risk of Bias',detail:'éš¨æ©ŸåŒ–ã€ç›²åŒ–ã€æµå¤±ç­‰å•é¡Œ'},
                        {name:'ä¸ä¸€è‡´æ€§',desc:'Inconsistency',detail:'ç ”ç©¶é–“çµæœå·®ç•°å¤§ï¼ˆé«˜ IÂ²ï¼‰'},
                        {name:'é–“æ¥æ€§',desc:'Indirectness',detail:'PICO èˆ‡è‡¨åºŠå•é¡Œä¸å®Œå…¨å°æ‡‰'},
                        {name:'ä¸ç²¾ç¢ºæ€§',desc:'Imprecision',detail:'ä¿¡è³´å€é–“å¯¬ã€æ¨£æœ¬æ•¸å°'},
                        {name:'ç™¼è¡¨åå·®',desc:'Publication Bias',detail:'æ¼æ–—åœ–ä¸å°ç¨±ã€å°å‹ç ”ç©¶æ•ˆæ‡‰'}
                    ].map((item,idx)=>(
                        <div key={idx} style={{display:'flex',alignItems:'center',gap:12,padding:'10px 12px',background:'#FFF5F5',borderRadius:10,borderLeft:'4px solid var(--err)'}}>
                            <div style={{width:24,height:24,borderRadius:6,background:'var(--err)',color:'#fff',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:12,flexShrink:0}}>{idx+1}</div>
                            <div style={{flex:1}}>
                                <div style={{fontSize:14,fontWeight:600}}>{item.name} <span style={{fontSize:11,color:'var(--txt2)'}}>({item.desc})</span></div>
                                <div style={{fontSize:12,color:'var(--txt2)'}}>{item.detail}</div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
            
            <div className="card">
                <h3 style={{fontSize:18,fontWeight:700,color:'var(--suc)',marginBottom:12}}>â¬†ï¸ ä¸‰å€‹å‡ç´šå› ç´ </h3>
                <div style={{display:'grid',gap:8}}>
                    {[
                        {name:'æ•ˆæœé‡å¤§',desc:'Large Effect',detail:'RR >2 æˆ– <0.5ï¼ˆç„¡å¹²æ“¾å› ç´ ï¼‰'},
                        {name:'åŠ‘é‡åæ‡‰',desc:'Dose-response',detail:'æ˜ç¢ºçš„åŠ‘é‡åæ‡‰é—œä¿‚'},
                        {name:'å¹²æ“¾ä½ä¼°',desc:'Confounding',detail:'æ‰€æœ‰å¯èƒ½çš„å¹²æ“¾å› ç´ æœƒæ¸›å¼±æ•ˆæœ'}
                    ].map((item,idx)=>(
                        <div key={idx} style={{display:'flex',alignItems:'center',gap:12,padding:'10px 12px',background:'#F0FFF4',borderRadius:10,borderLeft:'4px solid var(--suc)'}}>
                            <div style={{width:24,height:24,borderRadius:6,background:'var(--suc)',color:'#fff',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:12,flexShrink:0}}>+</div>
                            <div style={{flex:1}}>
                                <div style={{fontSize:14,fontWeight:600}}>{item.name} <span style={{fontSize:11,color:'var(--txt2)'}}>({item.desc})</span></div>
                                <div style={{fontSize:12,color:'var(--txt2)'}}>{item.detail}</div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
            
            <div className="purple">
                <strong style={{color:'var(--pur)'}}>ğŸ¯ GRADE è©•ç´šç¯„ä¾‹</strong><br/>
                <span style={{fontSize:14,color:'var(--txt2)'}}>
                <strong>æƒ…å¢ƒï¼š</strong>5 ç¯‡ RCT çš„çµ±åˆåˆ†æ<br/>
                â€¢ èµ·å§‹ç­‰ç´šï¼šé«˜ (RCT)<br/>
                â€¢ é™ç´šï¼š-1ï¼ˆé«˜åå·®é¢¨éšªï¼‰ã€-1ï¼ˆIÂ²=78% é«˜ç•°è³ªæ€§ï¼‰<br/>
                â€¢ <strong>æœ€çµ‚ç­‰ç´šï¼šä½ âŠ•âŠ•â—¯â—¯</strong>
                </span>
            </div>
        </div>
    );

    const Lesson=()=>{
        const l=lessons.find(x=>x.id===lessonId);
        return(
            <div>
                <Header title={l.title}/>
                <div style={{background:`linear-gradient(135deg,${l.color},${l.color}88)`,padding:'20px',color:'#fff'}}>
                    <div style={{maxWidth:480,margin:'0 auto'}}>
                        <div style={{fontSize:12,opacity:0.9}}>Lesson {l.id} â€¢ {l.sub}</div>
                        <h1 style={{fontSize:24,fontWeight:700}}>{l.title}</h1>
                    </div>
                </div>
                <div style={{padding:'20px 16px'}}>
                    <div style={{maxWidth:480,margin:'0 auto'}}>
                        {lessonId===1&&<L1/>}{lessonId===2&&<L2/>}{lessonId===3&&<L3/>}{lessonId===4&&<L4/>}{lessonId===5&&<L5/>}
                        <div style={{display:'flex',gap:12,marginTop:24}}>
                            {lessonId>1&&<button className="btn" style={{flex:1,background:'#fff',border:'2px solid var(--pri)',color:'var(--pri)'}} onClick={()=>setLessonId(lessonId-1)}>â† ä¸Šä¸€èª²</button>}
                            {lessonId<5?<button className="btn btn-pri" style={{flex:1}} onClick={()=>setLessonId(lessonId+1)}>ä¸‹ä¸€èª² â†’</button>
                            :<button className="btn btn-pri" style={{flex:1}} onClick={()=>{setQIdx(0);setScore(0);setSel(null);setShow(false);setDone(false);setPage('quiz')}}>é–‹å§‹æ¸¬é©— ğŸ“</button>}
                        </div>
                    </div>
                </div>
            </div>
        );
    };

    const Quiz=()=>{
        const pick=(i)=>{if(show)return;setSel(i);setShow(true);if(i===quiz[qIdx].c)setScore(score+1)};
        const next=()=>{if(qIdx<quiz.length-1){setQIdx(qIdx+1);setSel(null);setShow(false)}else setDone(true)};

        if(done){
            const pct=Math.round((score/quiz.length)*100);
            return(
                <div>
                    <Header title="æ¸¬é©—çµæœ"/>
                    <div style={{padding:'40px 16px',textAlign:'center'}}>
                        <div style={{width:140,height:140,borderRadius:'50%',background:`conic-gradient(${pct>=80?'var(--suc)':pct>=60?'var(--warn)':'var(--err)'} ${pct*3.6}deg,#E5E5E5 0deg)`,display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 24px'}}>
                            <div style={{width:120,height:120,borderRadius:'50%',background:'#fff',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'}}>
                                <div style={{fontSize:36,fontWeight:700}}>{pct}%</div>
                                <div style={{fontSize:14,color:'var(--txt2)'}}>{score}/{quiz.length}</div>
                            </div>
                        </div>
                        <h2 style={{fontSize:24,fontWeight:700,marginBottom:8}}>{pct>=80?'ğŸ‰ å¤ªæ£’äº†ï¼':pct>=60?'ğŸ‘ ä¸éŒ¯ï¼':'ğŸ’ª åŠ æ²¹ï¼'}</h2>
                        <p style={{color:'var(--txt2)',marginBottom:32}}>{pct>=80?'ä½ å°çµ±åˆåˆ†ææœ‰å¾ˆå¥½çš„æŒæ¡ï¼':pct>=60?'å†è¤‡ç¿’å¯ä»¥æ›´é€²æ­¥ï¼':'å»ºè­°é‡æ–°é–±è®€èª²ç¨‹'}</p>
                        <div style={{display:'flex',gap:12,justifyContent:'center',flexWrap:'wrap'}}>
                            <button className="btn btn-pri" onClick={()=>{setQIdx(0);setScore(0);setSel(null);setShow(false);setDone(false)}}>é‡æ–°æ¸¬é©—</button>
                            <button className="btn" style={{background:'#fff',border:'2px solid var(--pri)',color:'var(--pri)'}} onClick={()=>setPage('home')}>è¿”å›èª²ç¨‹</button>
                        </div>
                    </div>
                    <footer style={{background:'#FFF5F0',padding:'24px 16px',textAlign:'center',marginTop:40}}>
                        <p style={{fontSize:12,color:'var(--txt2)'}}>æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨ | è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯</p>
                    </footer>
                </div>
            );
        }

        const q=quiz[qIdx];
        return(
            <div>
                <Header title="è‡ªæˆ‘æ¸¬é©—"/>
                <div style={{padding:'20px 16px'}}>
                    <div style={{maxWidth:480,margin:'0 auto'}}>
                        <div style={{display:'flex',justifyContent:'space-between',marginBottom:8,fontSize:14}}>
                            <span style={{color:'var(--txt2)'}}>é€²åº¦</span>
                            <span style={{fontWeight:600,color:'var(--pri)'}}>{qIdx+1}/{quiz.length}</span>
                        </div>
                        <div style={{height:8,background:'#E5E5E5',borderRadius:4,marginBottom:20}}>
                            <div style={{height:'100%',width:`${((qIdx+1)/quiz.length)*100}%`,background:'linear-gradient(90deg,var(--pri),var(--pri2))',borderRadius:4,transition:'width 0.3s'}}/>
                        </div>
                        <div className="card">
                            <h3 style={{fontSize:16,fontWeight:600,lineHeight:1.6,marginBottom:20}}>{q.q}</h3>
                            {q.o.map((opt,i)=>{
                                let bg='#fff',bd='#E5E5E5';
                                if(show){
                                    if(i===q.c){bg='#F0FFF4';bd='var(--suc)'}
                                    else if(i===sel){bg='#FFF5F5';bd='var(--err)'}
                                }else if(i===sel){bg='#FFF5F0';bd='var(--pri)'}
                                return(
                                    <button key={i} onClick={()=>pick(i)} disabled={show} style={{width:'100%',padding:'12px 14px',marginBottom:10,background:bg,border:`2px solid ${bd}`,borderRadius:12,textAlign:'left',fontSize:14,cursor:show?'default':'pointer',display:'flex',alignItems:'center',gap:12}}>
                                        <span style={{width:26,height:26,borderRadius:8,background:show&&i===q.c?'var(--suc)':show&&i===sel?'var(--err)':'#FFF5F0',color:show&&(i===q.c||i===sel)?'#fff':'var(--pri)',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:13,flexShrink:0}}>
                                            {show&&i===q.c?'âœ”':show&&i===sel&&i!==q.c?'âœ—':String.fromCharCode(65+i)}
                                        </span>
                                        <span style={{lineHeight:1.5}}>{opt}</span>
                                    </button>
                                );
                            })}
                        </div>
                        {show&&(
                            <div className={sel===q.c?'good':'tip'}>
                                <strong style={{color:sel===q.c?'var(--suc)':'var(--warn)'}}>{sel===q.c?'âœ” æ­£ç¢ºï¼':'âœ— ç­”éŒ¯äº†'}</strong>
                                <p style={{fontSize:14,color:'var(--txt2)',marginTop:8,lineHeight:1.7}}>{q.e}</p>
                            </div>
                        )}
                        {show&&<button className="btn btn-pri" style={{width:'100%',justifyContent:'center',marginTop:16}} onClick={next}>{qIdx<quiz.length-1?'ä¸‹ä¸€é¡Œ â†’':'æŸ¥çœ‹çµæœ'}</button>}
                    </div>
                </div>
            </div>
        );
    };

    return <div style={{maxWidth:'100%',minHeight:'100vh',background:'var(--bg)'}}>{page==='home'?<Home/>:page==='lesson'?<Lesson/>:<Quiz/>}</div>;
};

ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
