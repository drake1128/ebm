<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¼¸æ¶²åæ‡‰æ€§è©•ä¼° | JAMA Rational Clinical Examination</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--pri:#1565C0;--pri2:#42A5F5;--acc:#FF7043;--suc:#26A69A;--warn:#FFC107;--err:#EF5350;--pur:#7E57C2;--blue:#42A5F5;--pink:#EC407A;--teal:#00897B;--bg:#FAFCFF;--txt:#1A2E40;--txt2:#6B7280}
        body{font-family:'Noto Sans TC',sans-serif;background:var(--bg);color:var(--txt);line-height:1.7}
        .container{max-width:480px;margin:0 auto}
        .card{background:#fff;border-radius:16px;padding:20px;margin-bottom:16px;box-shadow:0 2px 12px rgba(21,101,192,0.1)}
        .btn{padding:14px 24px;border:none;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:8px;transition:all 0.3s;width:100%}
        .btn-pri{background:linear-gradient(135deg,var(--pri),var(--pri2));color:#fff}
        .btn-acc{background:linear-gradient(135deg,var(--acc),#FF8A65);color:#fff}
        .btn-out{background:#fff;border:2px solid var(--pri);color:var(--pri)}
        table{width:100%;border-collapse:collapse;font-size:13px;margin:12px 0}
        th,td{padding:10px;text-align:center;border-bottom:1px solid #eee}
        th{background:#E3F2FD;font-weight:600;color:var(--pri)}
        .formula{background:linear-gradient(135deg,#E3F2FD,#BBDEFB);border:2px solid var(--pri);border-radius:12px;padding:16px;margin:12px 0;text-align:center;font-size:17px;color:#0D47A1}
        .tip{background:#FFF3E0;border-left:4px solid var(--acc);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .good{background:#E0F2F1;border-left:4px solid var(--suc);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .info{background:#E3F2FD;border-left:4px solid var(--blue);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .warn{background:#FFF8E1;border-left:4px solid var(--warn);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .purple{background:#EDE7F6;border-left:4px solid var(--pur);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .pink{background:#FCE4EC;border-left:4px solid var(--pink);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .teal{background:#E0F2F1;border-left:4px solid var(--teal);border-radius:0 12px 12px 0;padding:14px;margin:12px 0}
        .key-point{background:linear-gradient(135deg,#1565C0,#42A5F5);color:#fff;border-radius:12px;padding:16px;margin:16px 0}
        .lr-high{background:#C8E6C9;color:#2E7D32;padding:2px 8px;border-radius:4px;font-weight:600}
        .lr-mod{background:#FFF9C4;color:#F57F17;padding:2px 8px;border-radius:4px;font-weight:600}
        .lr-low{background:#FFCDD2;color:#C62828;padding:2px 8px;border-radius:4px;font-weight:600}
        header{background:#fff;border-bottom:1px solid #eee;padding:12px 16px;position:sticky;top:0;z-index:10}
        .header-inner{max-width:480px;margin:0 auto;display:flex;align-items:center;gap:12px}
        .back-btn{background:#E3F2FD;border:none;border-radius:10px;width:40px;height:40px;cursor:pointer;color:var(--pri);display:flex;align-items:center;justify-content:center}
        .hero{background:linear-gradient(135deg,#1565C0,#42A5F5);padding:32px 20px;color:#fff}
        .tag{background:rgba(255,255,255,0.2);display:inline-block;padding:6px 14px;border-radius:50px;font-size:12px;font-weight:600;margin-bottom:16px}
        .badge-row{display:flex;gap:10px;flex-wrap:wrap}
        .badge{background:rgba(255,255,255,0.2);padding:6px 12px;border-radius:20px;font-size:11px}
        .content{padding:0 16px;margin-top:-20px}
        .lesson-item{display:flex;align-items:center;gap:12px;padding:14px;margin-bottom:8px;background:#F5F9FF;border-radius:12px;cursor:pointer;border:2px solid transparent;transition:border-color 0.2s}
        .lesson-item:hover{border-color:var(--pri)}
        .lesson-num{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
        .goal-item{display:flex;gap:10px;margin-bottom:8px;font-size:14px}
        .goal-num{background:var(--suc);color:#fff;border-radius:6px;width:22px;height:22px;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0}
        footer{background:#E3F2FD;padding:24px 16px;border-radius:16px;text-align:center;margin:20px 0 40px}
        .page{display:none}
        .page.active{display:block}
        .lesson-header{padding:20px;color:#fff}
        .lesson-content{padding:20px 16px}
        .nav-buttons{display:flex;gap:12px;margin-top:24px}
        .nav-buttons .btn{flex:1}
        .progress-bar{height:8px;background:#E5E5E5;border-radius:4px;margin-bottom:20px}
        .progress-fill{height:100%;background:linear-gradient(90deg,var(--pri),var(--pri2));border-radius:4px;transition:width 0.3s}
        .quiz-option{width:100%;padding:12px 14px;margin-bottom:10px;background:#fff;border:2px solid #E5E5E5;border-radius:12px;text-align:left;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:12px}
        .quiz-option:hover{border-color:var(--pri)}
        .quiz-option.selected{background:#E3F2FD;border-color:var(--pri)}
        .quiz-option.correct{background:#E8F5E9;border-color:var(--suc)}
        .quiz-option.wrong{background:#FFEBEE;border-color:var(--err)}
        .quiz-option.disabled{cursor:default}
        .option-label{width:26px;height:26px;border-radius:8px;background:#E3F2FD;color:var(--pri);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px;flex-shrink:0}
        .option-label.correct{background:var(--suc);color:#fff}
        .option-label.wrong{background:var(--err);color:#fff}
        .result-circle{width:140px;height:140px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px}
        .result-inner{width:120px;height:120px;border-radius:50%;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}
        .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
        .stat-box{border-radius:12px;padding:16px;text-align:center}
        .stat-box .label{font-size:11px;color:var(--txt2)}
        .stat-box .value{font-size:20px;font-weight:700}
    </style>
</head>
<body>
    <!-- é¦–é  -->
    <div id="home" class="page active">
        <header>
            <div class="header-inner">
                <button class="back-btn" onclick="location.href='jama-rational-exam.html'">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                <span style="font-weight:700;color:#0D47A1">è¼¸æ¶²åæ‡‰æ€§è©•ä¼°</span>
            </div>
        </header>
        <div class="hero">
            <div class="container">
                <div class="tag">ğŸ’§ JAMA Rational Clinical Examination</div>
                <h1 style="font-size:22px;font-weight:700;margin-bottom:8px">Will This Hemodynamically Unstable Patient Respond to a Bolus of Intravenous Fluids?</h1>
                <h2 style="font-size:15px;font-weight:500;margin-bottom:12px;opacity:0.95">è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šæ‚£è€…çš„è¼¸æ¶²åæ‡‰æ€§è©•ä¼°</h2>
                <a href="https://jamanetwork.com/journals/jama/article-abstract/2556129" target="_blank" style="display:inline-block;background:rgba(255,255,255,0.25);padding:8px 16px;border-radius:8px;color:#fff;text-decoration:none;font-size:13px;margin-bottom:16px;transition:background 0.2s" onmouseover="this.style.background='rgba(255,255,255,0.4)'" onmouseout="this.style.background='rgba(255,255,255,0.25)'">ğŸ“„ JAMA 2016;316(12):1298-1309 â†—</a>
                <div class="badge-row">
                    <div class="badge">ğŸ“Š N=2,260</div>
                    <div class="badge">ğŸ“š 50 Studies</div>
                    <div class="badge">ğŸ¯ LR Analysis</div>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="container">
                <div class="card">
                    <h3 style="font-size:16px;font-weight:700;color:var(--pri);margin-bottom:12px">ğŸ¯ å­¸ç¿’ç›®æ¨™</h3>
                    <div class="goal-item"><span class="goal-num">1</span><span style="color:var(--txt2)">äº†è§£è¼¸æ¶²åæ‡‰æ€§çš„å®šç¾©èˆ‡é‡è¦æ€§</span></div>
                    <div class="goal-item"><span class="goal-num">2</span><span style="color:var(--txt2)">æŒæ¡èº«é«”æª¢æŸ¥èˆ‡CVPçš„è¨ºæ–·åƒ¹å€¼</span></div>
                    <div class="goal-item"><span class="goal-num">3</span><span style="color:var(--txt2)">å­¸æœƒè¶…éŸ³æ³¢ä¸‹è…”éœè„ˆè©•ä¼°æŠ€è¡“</span></div>
                    <div class="goal-item"><span class="goal-num">4</span><span style="color:var(--txt2)">ç†è§£è¢«å‹•æŠ¬è…¿è©¦é©— (PLR) çš„è‡¨åºŠæ‡‰ç”¨</span></div>
                    <div class="goal-item"><span class="goal-num">5</span><span style="color:var(--txt2)">è‡¨åºŠç¶œåˆåˆ¤æ–·èˆ‡æ±ºç­–æ‡‰ç”¨</span></div>
                </div>
                <div class="card">
                    <h3 style="font-size:16px;font-weight:700;color:var(--pri);margin-bottom:12px">ğŸ“– èª²ç¨‹å–®å…ƒ</h3>
                    <div class="lesson-item" onclick="showLesson(1)">
                        <div class="lesson-num" style="background:linear-gradient(135deg,#1565C0,#1565C088)">1</div>
                        <div style="flex:1"><div style="font-weight:600;font-size:15px">è¼¸æ¶²åæ‡‰æ€§æ¦‚è«–</div><div style="font-size:12px;color:var(--txt2)">Fluid Responsiveness Basics</div></div>
                        <svg viewBox="0 0 24 24" fill="#1565C0" width="20" height="20"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="lesson-item" onclick="showLesson(2)">
                        <div class="lesson-num" style="background:linear-gradient(135deg,#42A5F5,#42A5F588)">2</div>
                        <div style="flex:1"><div style="font-weight:600;font-size:15px">èº«é«”æª¢æŸ¥èˆ‡CVP</div><div style="font-size:12px;color:var(--txt2)">Physical Exam & CVP</div></div>
                        <svg viewBox="0 0 24 24" fill="#42A5F5" width="20" height="20"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="lesson-item" onclick="showLesson(3)">
                        <div class="lesson-num" style="background:linear-gradient(135deg,#26A69A,#26A69A88)">3</div>
                        <div style="flex:1"><div style="font-weight:600;font-size:15px">è¶…éŸ³æ³¢IVCè©•ä¼°</div><div style="font-size:12px;color:var(--txt2)">Ultrasound IVC Assessment</div></div>
                        <svg viewBox="0 0 24 24" fill="#26A69A" width="20" height="20"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="lesson-item" onclick="showLesson(4)">
                        <div class="lesson-num" style="background:linear-gradient(135deg,#7E57C2,#7E57C288)">4</div>
                        <div style="flex:1"><div style="font-weight:600;font-size:15px">è¢«å‹•æŠ¬è…¿è©¦é©—</div><div style="font-size:12px;color:var(--txt2)">Passive Leg Raising (PLR)</div></div>
                        <svg viewBox="0 0 24 24" fill="#7E57C2" width="20" height="20"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                    <div class="lesson-item" onclick="showLesson(5)">
                        <div class="lesson-num" style="background:linear-gradient(135deg,#FF7043,#FF704388)">5</div>
                        <div style="flex:1"><div style="font-weight:600;font-size:15px">è‡¨åºŠæ±ºç­–æ‡‰ç”¨</div><div style="font-size:12px;color:var(--txt2)">Clinical Decision Making</div></div>
                        <svg viewBox="0 0 24 24" fill="#FF7043" width="20" height="20"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                    </div>
                </div>
                <button class="btn btn-acc" onclick="startQuiz()">ğŸ“ é–‹å§‹è‡ªæˆ‘æ¸¬é©—</button>
                <div class="card" style="background:linear-gradient(135deg,#E3F2FD,#BBDEFB);margin-top:16px">
                    <h3 style="font-size:14px;font-weight:700;color:var(--pri);margin-bottom:8px">ğŸ“Œ è‡¨åºŠè¦é»</h3>
                    <p style="font-size:13px;color:var(--txt2);line-height:1.8">è¼¸æ¶²éé‡å¯èƒ½å°é‡ç—‡æ‚£è€…é€ æˆä¸è‰¯é å¾Œã€‚è¢«å‹•æŠ¬è…¿è©¦é©— (PLR) çµåˆå¿ƒè¼¸å‡ºé‡æ¸¬é‡æ˜¯é æ¸¬è¼¸æ¶²åæ‡‰æ€§æœ€å¯é çš„æ–¹æ³• (LR+ 11, LR- 0.13)ã€‚CVPå’Œèº«é«”æª¢æŸ¥çš„è¨ºæ–·åƒ¹å€¼æœ‰é™ã€‚</p>
                </div>
                <footer>
                    <p style="font-size:12px;color:var(--txt2);margin-bottom:8px">æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨</p>
                    <p style="font-size:11px;color:var(--txt2)">è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯</p>
                    <p style="font-size:10px;color:var(--txt2);margin-top:8px">è³‡æ–™ä¾†æº: JAMA 2016;316(12):1298-1309</p>
                </footer>
            </div>
        </div>
    </div>

    <!-- èª²ç¨‹é  -->
    <div id="lesson" class="page">
        <header>
            <div class="header-inner">
                <button class="back-btn" onclick="showHome()">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                <span id="lesson-title" style="font-weight:700;color:#0D47A1"></span>
            </div>
        </header>
        <div id="lesson-header" class="lesson-header"></div>
        <div class="lesson-content">
            <div class="container">
                <div id="lesson-body"></div>
                <div class="nav-buttons">
                    <button id="prev-btn" class="btn btn-out" onclick="prevLesson()">â† ä¸Šä¸€èª²</button>
                    <button id="next-btn" class="btn btn-pri" onclick="nextLesson()">ä¸‹ä¸€èª² â†’</button>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¸¬é©—é  -->
    <div id="quiz" class="page">
        <header>
            <div class="header-inner">
                <button class="back-btn" onclick="showHome()">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                <span style="font-weight:700;color:#0D47A1">è‡ªæˆ‘æ¸¬é©—</span>
            </div>
        </header>
        <div style="padding:20px 16px">
            <div class="container">
                <div style="display:flex;justify-content:space-between;margin-bottom:8px;font-size:14px">
                    <span style="color:var(--txt2)">é€²åº¦</span>
                    <span id="quiz-progress" style="font-weight:600;color:var(--pri)"></span>
                </div>
                <div class="progress-bar">
                    <div id="quiz-progress-bar" class="progress-fill"></div>
                </div>
                <div id="quiz-content" class="card"></div>
                <div id="quiz-feedback"></div>
                <button id="quiz-next" class="btn btn-pri" onclick="nextQuestion()" style="display:none;margin-top:16px">ä¸‹ä¸€é¡Œ â†’</button>
            </div>
        </div>
    </div>

    <!-- çµæœé  -->
    <div id="result" class="page">
        <header>
            <div class="header-inner">
                <button class="back-btn" onclick="showHome()">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                <span style="font-weight:700;color:#0D47A1">æ¸¬é©—çµæœ</span>
            </div>
        </header>
        <div style="padding:40px 16px;text-align:center">
            <div class="container">
                <div id="result-circle" class="result-circle">
                    <div class="result-inner">
                        <div id="result-pct" style="font-size:36px;font-weight:700;color:var(--pri)"></div>
                        <div id="result-score" style="font-size:14px;color:var(--txt2)"></div>
                    </div>
                </div>
                <h2 id="result-title" style="font-size:24px;font-weight:700;margin-bottom:8px"></h2>
                <p id="result-msg" style="color:var(--txt2);margin-bottom:32px"></p>
                <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
                    <button class="btn btn-pri" onclick="startQuiz()">é‡æ–°æ¸¬é©—</button>
                    <button class="btn btn-out" onclick="showHome()">è¿”å›èª²ç¨‹</button>
                </div>
            </div>
        </div>
        <footer style="margin-top:40px">
            <p style="font-size:12px;color:var(--txt2)">æ–°ç«¹å°å¤§åˆ†é™¢æ•™å­¸éƒ¨ | è¬æ…•æš MD, PhD, FESC | é»ƒæ²›éŠ“ MD | é»ƒåœ‹è‰¯</p>
        </footer>
    </div>

<script>
const lessons = [
    {id:1, title:'è¼¸æ¶²åæ‡‰æ€§æ¦‚è«–', sub:'Fluid Responsiveness Basics', color:'#1565C0'},
    {id:2, title:'èº«é«”æª¢æŸ¥èˆ‡CVP', sub:'Physical Exam & CVP', color:'#42A5F5'},
    {id:3, title:'è¶…éŸ³æ³¢IVCè©•ä¼°', sub:'Ultrasound IVC Assessment', color:'#26A69A'},
    {id:4, title:'è¢«å‹•æŠ¬è…¿è©¦é©—', sub:'Passive Leg Raising (PLR)', color:'#7E57C2'},
    {id:5, title:'è‡¨åºŠæ±ºç­–æ‡‰ç”¨', sub:'Clinical Decision Making', color:'#FF7043'}
];

const lessonContent = {
    1: `<div class="key-point"><h4 style="font-size:14px;margin-bottom:8px">ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ</h4><p style="font-size:13px">è¼¸æ¶²åæ‡‰æ€§ (Fluid Responsiveness) æ˜¯æŒ‡çµ¦äºˆéœè„ˆè¼¸æ¶²å¾Œå¿ƒè¼¸å‡ºé‡é¡¯è‘—å¢åŠ çš„èƒ½åŠ›ã€‚</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ’§ ç‚ºä»€éº¼é‡è¦ï¼Ÿ</h4>
    <div class="info"><strong>ğŸ“Š è‡¨åºŠèƒŒæ™¯</strong><p style="font-size:13px;margin-top:6px">åœ¨è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šçš„é‡ç—‡æ‚£è€…ä¸­ï¼Œè¼¸æ¶²éé‡å¯èƒ½å°è‡´ä¸è‰¯é å¾Œã€‚å› æ­¤ï¼Œåˆå§‹è¼¸æ¶²å¾©ç”¦å¾Œï¼Œè­˜åˆ¥å“ªäº›æ‚£è€…æœƒå¾é€²ä¸€æ­¥è¼¸æ¶²ä¸­ç²ç›Šè‡³é—œé‡è¦ã€‚</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“– å®šç¾©èˆ‡æ¨™æº–</h4>
    <div class="formula">è¼¸æ¶²åæ‡‰æ€§ = éœè„ˆè¼¸æ¶²å¾Œå¿ƒè¼¸å‡ºé‡å¢åŠ </div>
    <table><thead><tr><th>è¡“èª</th><th>å®šç¾©</th></tr></thead>
    <tbody>
    <tr><td style="text-align:left;font-weight:600">Fluid Responder</td><td style="text-align:left">è¼¸æ¶²å¾Œ CO å¢åŠ  â‰¥10-15%</td></tr>
    <tr><td style="text-align:left;font-weight:600">Non-responder</td><td style="text-align:left">è¼¸æ¶²å¾Œ CO å¢åŠ  < 10%</td></tr>
    <tr><td style="text-align:left;font-weight:600">Hemodynamic Instability</td><td style="text-align:left">é ‘å›ºæ€§ä½è¡€å£“æˆ–å™¨å®˜çŒæ³¨ä¸è¶³</td></tr>
    </tbody></table>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“Š ç ”ç©¶æ¦‚æ³</h4>
    <div class="stat-box" style="background:#E3F2FD;margin-bottom:16px">
        <div class="grid-2" style="grid-template-columns:1fr 1fr 1fr;gap:10px;text-align:center">
            <div><div class="label">ç ”ç©¶æ•¸é‡</div><div class="value" style="color:var(--pri)">50</div></div>
            <div><div class="label">æ‚£è€…ç¸½æ•¸</div><div class="value" style="color:var(--pri)">2,260</div></div>
            <div><div class="label">Responderæ¯”ä¾‹</div><div class="value" style="color:var(--suc)">50%</div></div>
        </div>
    </div>
    <div class="warn"><strong>âš ï¸ é‡è¦ç™¼ç¾</strong><p style="font-size:13px;margin-top:6px">åœ¨ç ”ç©¶ä¸­ï¼Œå¹³å‡åªæœ‰ <strong>50%</strong> (95% CI: 42%-56%) çš„è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šæ‚£è€…å°è¼¸æ¶²æœ‰åæ‡‰ï¼Œé€™æ„å‘³è‘—å¦ä¸€åŠæ‚£è€…å¯èƒ½å› ä¸å¿…è¦çš„è¼¸æ¶²è€Œå—å®³ã€‚</p></div>
    <div class="good" style="margin-top:16px"><strong>âœ” Frank-Starling æ›²ç·š</strong><p style="font-size:13px;margin-top:6px">è¼¸æ¶²åæ‡‰æ€§å–æ±ºæ–¼æ‚£è€…åœ¨ Frank-Starling æ›²ç·šä¸Šçš„ä½ç½®ï¼š<br>â€¢ æ›²ç·šä¸Šå‡æ®µï¼šå‰è² è·å¢åŠ  â†’ CO å¢åŠ ï¼ˆæœ‰åæ‡‰ï¼‰<br>â€¢ æ›²ç·šå¹³å°æ®µï¼šå‰è² è·å¢åŠ  â†’ CO ä¸å¢åŠ ï¼ˆç„¡åæ‡‰ï¼‰</p></div>`,
    
    2: `<div class="key-point"><h4 style="font-size:14px;margin-bottom:8px">ğŸ”‘ èº«é«”æª¢æŸ¥çš„è¨ºæ–·åƒ¹å€¼</h4><p style="font-size:13px">å‚³çµ±èº«é«”æª¢æŸ¥ç™¼ç¾å°é æ¸¬è¼¸æ¶²åæ‡‰æ€§çš„åƒ¹å€¼æœ‰é™ã€‚</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ©º èº«é«”æª¢æŸ¥ç™¼ç¾</h4>
    <div class="warn"><strong>âš ï¸ é‡è¦çµè«–</strong><p style="font-size:13px;margin-top:6px">èº«é«”æª¢æŸ¥ç™¼ç¾ç„¡æ³•å¯é é æ¸¬è¼¸æ¶²åæ‡‰æ€§ï¼Œæ‰€æœ‰ç™¼ç¾çš„ä¼¼ç„¶æ¯” 95% CI éƒ½è·¨è¶Š 1.0ã€‚</p></div>
    <table><thead><tr><th>èº«é«”æª¢æŸ¥ç™¼ç¾</th><th>LR+</th><th>95% CI</th></tr></thead>
    <tbody>
    <tr><td style="text-align:left;font-weight:600">çš®è†šèŠ±æ–‘ (Mottling)</td><td>~1.0</td><td>è·¨è¶Š 1.0</td></tr>
    <tr><td style="text-align:left;font-weight:600">æ¯›ç´°è¡€ç®¡å†å……ç›ˆæ™‚é–“å»¶é•·</td><td>~1.0</td><td>è·¨è¶Š 1.0</td></tr>
    <tr><td style="text-align:left;font-weight:600">å‘¨é‚Šè„ˆææ¸›å¼±</td><td>~1.0</td><td>è·¨è¶Š 1.0</td></tr>
    <tr><td style="text-align:left;font-weight:600">çš®è†šæ¿•å†·</td><td>~1.0</td><td>è·¨è¶Š 1.0</td></tr>
    </tbody></table>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“Š ä¸­å¿ƒéœè„ˆå£“ (CVP)</h4>
    <div class="info"><strong>ğŸ’¡ CVP çš„è§’è‰²</strong><p style="font-size:13px;margin-top:6px">CVP æ˜¯è‡¨åºŠå¸¸ç”¨çš„å‰è² è·æŒ‡æ¨™ï¼Œä½†å…¶é æ¸¬è¼¸æ¶²åæ‡‰æ€§çš„èƒ½åŠ›ä¸­ç­‰ã€‚</p></div>
    <div class="stat-box" style="background:#E3F2FD;margin-bottom:16px">
        <div style="font-weight:700;color:var(--pri);margin-bottom:10px">ä½ CVP (< 8 mmHg)</div>
        <div class="grid-2" style="grid-template-columns:1fr 1fr 1fr 1fr;gap:8px;text-align:center">
            <div><div class="label">æ•æ„Ÿåº¦</div><div class="value" style="color:var(--pri)">62%</div></div>
            <div><div class="label">ç‰¹ç•°åº¦</div><div class="value" style="color:var(--pri)">76%</div></div>
            <div><div class="label">LR+</div><div class="value" style="color:var(--suc)">2.6</div></div>
            <div><div class="label">LR-</div><div class="value" style="color:var(--acc)">0.50</div></div>
        </div>
        <div style="font-size:11px;color:var(--txt2);margin-top:8px">LR+ 95% CI: 1.4-4.6 | LR- 95% CI: 0.39-0.65</div>
    </div>
    <div class="tip"><strong>ğŸ” è‡¨åºŠè§£è®€</strong><p style="font-size:13px;margin-top:6px">â€¢ ä½ CVP (< 8 mmHg)ï¼šLR+ 2.6 è¼•åº¦å¢åŠ è¼¸æ¶²åæ‡‰æ€§å¯èƒ½<br>â€¢ é«˜ CVP (â‰¥ 8 mmHg)ï¼šLR- 0.50 è¼•åº¦é™ä½è¼¸æ¶²åæ‡‰æ€§å¯èƒ½<br>â€¢ å–®ç¨ CVP ç„¡æ³•å¯é é æ¸¬è¼¸æ¶²åæ‡‰æ€§</p></div>
    <div class="purple"><strong>ğŸ“ é—œéµæ¦‚å¿µ</strong><p style="font-size:13px;margin-top:6px">CVP åæ˜ å³å¿ƒæˆ¿å£“åŠ›ï¼Œä½†ä¸èƒ½ç›´æ¥åæ˜ å¿ƒè‡Ÿåœ¨ Frank-Starling æ›²ç·šä¸Šçš„ä½ç½®ï¼Œå› æ­¤é æ¸¬è¼¸æ¶²åæ‡‰æ€§çš„èƒ½åŠ›æœ‰é™ã€‚</p></div>`,
    
    3: `<div class="key-point"><h4 style="font-size:14px;margin-bottom:8px">ğŸ”‘ è¶…éŸ³æ³¢ä¸‹è…”éœè„ˆè©•ä¼°</h4><p style="font-size:13px">IVC å‘¼å¸è®Šç•°åº¦æ˜¯è©•ä¼°è¼¸æ¶²åæ‡‰æ€§çš„éä¾µå…¥æ€§æ–¹æ³•ï¼Œä½†åƒ…é©ç”¨æ–¼ç„¡è‡ªä¸»å‘¼å¸çš„æ©Ÿæ¢°é€šæ°£æ‚£è€…ã€‚</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ”¬ IVC æ“´å¼µæŒ‡æ•¸ (Distensibility Index)</h4>
    <div class="formula">IVC-DI = (IVC<sub>max</sub> - IVC<sub>min</sub>) / IVC<sub>min</sub> Ã— 100%</div>
    <div class="info"><strong>ğŸ’¡ æ¸¬é‡æ–¹æ³•</strong><p style="font-size:13px;margin-top:6px">â€¢ ä½¿ç”¨åºŠé‚Šè¶…éŸ³æ³¢æ¸¬é‡ IVC ç›´å¾‘<br>â€¢ æ¸¬é‡å‘¼å¸é€±æœŸä¸­çš„æœ€å¤§èˆ‡æœ€å°ç›´å¾‘<br>â€¢ è¨ˆç®—å‘¼å¸è®Šç•°ç™¾åˆ†æ¯”</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“Š IVC æ“´å¼µæŒ‡æ•¸ > 15% çš„è¨ºæ–·åƒ¹å€¼</h4>
    <div class="warn"><strong>âš ï¸ é‡è¦é™åˆ¶</strong><p style="font-size:13px;margin-top:6px">ä»¥ä¸‹æ•¸æ“šåƒ…é©ç”¨æ–¼<strong>ç„¡è‡ªä¸»å‘¼å¸åŠªåŠ›çš„æ©Ÿæ¢°é€šæ°£æ‚£è€…</strong>ï¼</p></div>
    <div class="stat-box" style="background:#E0F2F1;margin-bottom:16px">
        <div style="font-weight:700;color:var(--teal);margin-bottom:10px">IVC æ“´å¼µæŒ‡æ•¸ > 15%</div>
        <div class="grid-2" style="grid-template-columns:1fr 1fr 1fr 1fr;gap:8px;text-align:center">
            <div><div class="label">æ•æ„Ÿåº¦</div><div class="value" style="color:var(--teal)">77%</div></div>
            <div><div class="label">ç‰¹ç•°åº¦</div><div class="value" style="color:var(--teal)">85%</div></div>
            <div><div class="label">LR+</div><div class="value" style="color:var(--suc)">5.3</div></div>
            <div><div class="label">LR-</div><div class="value" style="color:var(--suc)">0.27</div></div>
        </div>
        <div style="font-size:11px;color:var(--txt2);margin-top:8px">LR+ 95% CI: 1.1-27 | LR- 95% CI: 0.08-0.87</div>
    </div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">âš ï¸ ä½¿ç”¨é™åˆ¶</h4>
    <table><thead><tr><th>æƒ…æ³</th><th>IVC è©•ä¼°å¯é æ€§</th></tr></thead>
    <tbody>
    <tr><td style="text-align:left;font-weight:600">å®Œå…¨æ©Ÿæ¢°é€šæ°£ï¼ˆç„¡è‡ªä¸»å‘¼å¸ï¼‰</td><td style="color:var(--suc)">âœ“ å¯é </td></tr>
    <tr><td style="text-align:left;font-weight:600">æœ‰è‡ªä¸»å‘¼å¸åŠªåŠ›</td><td style="color:var(--err)">âœ— ä¸å¯é </td></tr>
    <tr><td style="text-align:left;font-weight:600">è‡ªä¸»å‘¼å¸æ‚£è€…</td><td style="color:var(--err)">âœ— ä¸å¯é </td></tr>
    <tr><td style="text-align:left;font-weight:600">ä½æ½®æ°£é‡é€šæ°£</td><td style="color:var(--warn)">? éœ€é€²ä¸€æ­¥ç ”ç©¶</td></tr>
    </tbody></table>
    <div class="good" style="margin-top:16px"><strong>âœ” è‡¨åºŠæ‡‰ç”¨å»ºè­°</strong><p style="font-size:13px;margin-top:6px">IVC æ“´å¼µæŒ‡æ•¸åœ¨ç‰¹å®šæƒ…æ³ä¸‹æœ‰ç”¨ï¼Œä½†ç ”ç©¶ä½œè€…æŒ‡å‡ºæ­¤æ–¹æ³•éœ€è¦æ›´å¤šç¢ºèªæ€§ç ”ç©¶ã€‚å»ºè­°çµåˆå…¶ä»–è©•ä¼°æ–¹æ³•ä½¿ç”¨ã€‚</p></div>`,
    
    4: `<div class="key-point"><h4 style="font-size:14px;margin-bottom:8px">ğŸ”‘ è¢«å‹•æŠ¬è…¿è©¦é©— (PLR)</h4><p style="font-size:13px">PLR æ˜¯é æ¸¬è¼¸æ¶²åæ‡‰æ€§æœ€å¯é çš„åºŠé‚Šæ¸¬è©¦ï¼Œé€éå°‡ä¸‹è‚¢è¡€æ¶²è½‰ç§»è‡³ä¸­å¿ƒå¾ªç’°ä¾†æ¨¡æ“¬è¼¸æ¶²æŒ‘æˆ°ã€‚</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ¦µ PLR æ“ä½œæ–¹æ³•</h4>
    <div class="info"><strong>ğŸ’¡ æ¨™æº–æ“ä½œæ­¥é©Ÿ</strong><p style="font-size:13px;margin-top:6px">1. æ‚£è€…å…ˆå‘ˆåŠè‡¥ä½ (45Â°)<br>2. å°‡é›™è…¿æŠ¬é«˜è‡³ 45Â°ï¼ŒåŒæ™‚è»€å¹¹æ”¾å¹³<br>3. 1-2 åˆ†é˜å…§æ¸¬é‡å¿ƒè¼¸å‡ºé‡æˆ–ç›¸é—œåƒæ•¸è®ŠåŒ–<br>4. æ•ˆæœå…·å¯é€†æ€§ï¼Œå¯é‡è¤‡é€²è¡Œ</p></div>
    <div class="formula">PLR é™½æ€§ = å¿ƒè¼¸å‡ºé‡æˆ–ç›¸é—œåƒæ•¸å¢åŠ  â‰¥ 10-15%</div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“Š PLR çš„è¨ºæ–·æº–ç¢ºåº¦</h4>
    <div class="stat-box" style="background:#EDE7F6;margin-bottom:16px">
        <div style="font-weight:700;color:var(--pur);margin-bottom:10px">PLR å¼•èµ· CO å¢åŠ </div>
        <div class="grid-2" style="grid-template-columns:1fr 1fr 1fr 1fr;gap:8px;text-align:center">
            <div><div class="label">æ•æ„Ÿåº¦</div><div class="value" style="color:var(--pur)">88%</div></div>
            <div><div class="label">ç‰¹ç•°åº¦</div><div class="value" style="color:var(--pur)">92%</div></div>
            <div><div class="label">LR+</div><div class="value" style="color:var(--suc)">11</div></div>
            <div><div class="label">LR-</div><div class="value" style="color:var(--suc)">0.13</div></div>
        </div>
        <div style="font-size:11px;color:var(--txt2);margin-top:8px">LR+ 95% CI: 7.6-17 | LR- 95% CI: 0.07-0.22</div>
    </div>
    <div class="good"><strong>âœ” è‡¨åºŠæ„ç¾©</strong><p style="font-size:13px;margin-top:6px"><strong>LR+ = 11</strong>ï¼šPLR é™½æ€§å¼·çƒˆæ”¯æŒè¼¸æ¶²åæ‡‰æ€§<br><strong>LR- = 0.13</strong>ï¼šPLR é™°æ€§å¹¾ä¹å¯æ’é™¤è¼¸æ¶²åæ‡‰æ€§</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“ˆ æ¸¬é‡æ–¹æ³•æ¯”è¼ƒ</h4>
    <table><thead><tr><th>æ¸¬é‡åƒæ•¸</th><th>å„ªé»</th><th>å¯è¡Œæ€§</th></tr></thead>
    <tbody>
    <tr><td style="text-align:left;font-weight:600">å¿ƒè¼¸å‡ºé‡ (CO)</td><td style="text-align:left">æœ€æº–ç¢º</td><td style="text-align:left">éœ€ä¾µå…¥æ€§ç›£æ¸¬</td></tr>
    <tr><td style="text-align:left;font-weight:600">è„ˆå£“è®Šç•° (PPV)</td><td style="text-align:left">éä¾µå…¥</td><td style="text-align:left">éœ€å‹•è„ˆå°ç®¡</td></tr>
    <tr><td style="text-align:left;font-weight:600">LVOT VTI</td><td style="text-align:left">è¶…éŸ³æ³¢</td><td style="text-align:left">éœ€æŠ€è¡“ç†Ÿç·´</td></tr>
    <tr><td style="text-align:left;font-weight:600">é ¸å‹•è„ˆè¡€æµ</td><td style="text-align:left">éä¾µå…¥</td><td style="text-align:left">æ“ä½œç°¡å–®</td></tr>
    </tbody></table>
    <div class="tip" style="margin-top:16px"><strong>ğŸ” PLR å„ªå‹¢</strong><p style="font-size:13px;margin-top:6px">â€¢ ä¸éœ€çµ¦äºˆå¯¦éš›è¼¸æ¶²å³å¯è©•ä¼°<br>â€¢ æ•ˆæœå¯é€†ï¼Œä¸æœƒé€ æˆè¼¸æ¶²éé‡<br>â€¢ é©ç”¨æ–¼è‡ªä¸»å‘¼å¸å’Œæ©Ÿæ¢°é€šæ°£æ‚£è€…<br>â€¢ é©ç”¨æ–¼å¿ƒå¾‹ä¸æ•´æ‚£è€…</p></div>`,
    
    5: `<div class="key-point"><h4 style="font-size:14px;margin-bottom:8px">ğŸ”‘ è‡¨åºŠæ±ºç­–</h4><p style="font-size:13px">ç¶œåˆå¤šé …å› ç´ è©•ä¼°ï¼ŒPLR çµåˆå¿ƒè¼¸å‡ºé‡æ¸¬é‡æ˜¯æœ€å¯é çš„æ–¹æ³•ã€‚</p></div>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ“Š è¨ºæ–·æ–¹æ³•æ¯”è¼ƒç¸½è¡¨</h4>
    <table><thead><tr><th>æ–¹æ³•</th><th>LR+</th><th>LR-</th><th>æ¨è–¦åº¦</th></tr></thead>
    <tbody>
    <tr><td style="text-align:left;font-weight:600">PLR + CO æ¸¬é‡</td><td><span class="lr-high">11</span></td><td><span class="lr-high">0.13</span></td><td>â­â­â­</td></tr>
    <tr><td style="text-align:left;font-weight:600">IVC æ“´å¼µæŒ‡æ•¸ >15%*</td><td><span class="lr-high">5.3</span></td><td><span class="lr-mod">0.27</span></td><td>â­â­</td></tr>
    <tr><td style="text-align:left;font-weight:600">ä½ CVP (< 8 mmHg)</td><td><span class="lr-mod">2.6</span></td><td><span class="lr-low">0.50</span></td><td>â­</td></tr>
    <tr style="background:#FFEBEE"><td style="text-align:left;font-weight:600">èº«é«”æª¢æŸ¥</td><td><span class="lr-low">~1.0</span></td><td><span class="lr-low">~1.0</span></td><td>âœ—</td></tr>
    </tbody></table>
    <p style="font-size:11px;color:var(--txt2);margin-top:4px">* åƒ…é©ç”¨æ–¼ç„¡è‡ªä¸»å‘¼å¸çš„æ©Ÿæ¢°é€šæ°£æ‚£è€…</p>
    <h4 style="font-weight:700;margin-top:20px;margin-bottom:12px;color:var(--pri)">ğŸ©º è‡¨åºŠæ±ºç­–æµç¨‹</h4>
    <div class="info"><strong>Step 1ï¼šè©•ä¼°è‡¨åºŠæƒ…å¢ƒ</strong><p style="font-size:13px;margin-top:6px">â€¢ æ‚£è€…æ˜¯å¦è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šï¼Ÿ<br>â€¢ æ˜¯å¦æœ‰å™¨å®˜çŒæ³¨ä¸è¶³çš„å¾µè±¡ï¼Ÿ<br>â€¢ æ˜¯å¦å·²å®Œæˆåˆå§‹è¼¸æ¶²å¾©ç”¦ï¼Ÿ</p></div>
    <div class="purple" style="margin-top:12px"><strong>Step 2ï¼šé¸æ“‡è©•ä¼°æ–¹æ³•</strong><p style="font-size:13px;margin-top:6px">â€¢ <strong>é¦–é¸ï¼š</strong>PLR è©¦é©— + å¿ƒè¼¸å‡ºé‡æ¸¬é‡<br>â€¢ <strong>æ¬¡é¸ï¼š</strong>IVC æ“´å¼µæŒ‡æ•¸ï¼ˆåƒ…é©ç”¨æ–¼å®Œå…¨æ©Ÿæ¢°é€šæ°£ï¼‰<br>â€¢ <strong>åƒè€ƒï¼š</strong>CVP å€¼ï¼ˆéœ€çµåˆå…¶ä»–è³‡è¨Šï¼‰</p></div>
    <div class="teal" style="margin-top:12px"><strong>Step 3ï¼šè§£è®€çµæœ</strong><p style="font-size:13px;margin-top:6px">â€¢ PLR é™½æ€§ â†’ é«˜åº¦å¯èƒ½å°è¼¸æ¶²æœ‰åæ‡‰ â†’ è€ƒæ…®çµ¦äºˆè¼¸æ¶²<br>â€¢ PLR é™°æ€§ â†’ ä¸å¤ªå¯èƒ½å°è¼¸æ¶²æœ‰åæ‡‰ â†’ è€ƒæ…®å…¶ä»–æ²»ç™‚ï¼ˆå¦‚è¡€ç®¡åŠ å£“åŠ‘ï¼‰</p></div>
    <div class="warn" style="margin-top:16px"><strong>âš ï¸ ç ”ç©¶çµè«–èˆ‡é™åˆ¶</strong><p style="font-size:13px;margin-top:6px"><strong>ä¸»è¦ç™¼ç¾ï¼š</strong>PLR çµåˆå¿ƒè¼¸å‡ºé‡æ¸¬é‡å¯èƒ½æ˜¯é æ¸¬è¼¸æ¶²åæ‡‰æ€§æœ€æœ‰ç”¨çš„æ¸¬è©¦ã€‚<br><br><strong>é™åˆ¶ï¼š</strong>IVC å‘¼å¸è®Šç•°åº¦çš„ä½¿ç”¨éœ€è¦æ›´å¤šç¢ºèªæ€§ç ”ç©¶ã€‚èº«é«”æª¢æŸ¥å’Œå–®ç¨ CVP ç„¡æ³•å¯é é æ¸¬è¼¸æ¶²åæ‡‰æ€§ã€‚</p></div>
    <div class="good" style="margin-top:16px"><strong>âœ” è‡¨åºŠæ‡‰ç”¨é‡é»</strong><p style="font-size:13px;margin-top:6px">1. ä¸è¦åƒ…ä¾è³´èº«é«”æª¢æŸ¥åˆ¤æ–·è¼¸æ¶²éœ€æ±‚<br>2. å–®ç¨ CVP é æ¸¬åƒ¹å€¼æœ‰é™<br>3. PLR æ˜¯æœ€å¯é çš„åºŠé‚Šè©•ä¼°æ–¹æ³•<br>4. ç´„ 50% çš„è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šæ‚£è€…ä¸æœƒå°è¼¸æ¶²æœ‰åæ‡‰<br>5. é¿å…ä¸å¿…è¦è¼¸æ¶²å°æ‚£è€…é å¾Œå¾ˆé‡è¦</p></div>`
};

const quiz = [
    {q:'æ ¹æ“š JAMA ç³»çµ±æ€§å›é¡§ï¼Œåœ¨è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šçš„é‡ç—‡æ‚£è€…ä¸­ï¼Œå°è¼¸æ¶²æœ‰åæ‡‰çš„æ¯”ä¾‹ç´„ç‚ºå¤šå°‘ï¼Ÿ',o:['ç´„ 30%','ç´„ 50%','ç´„ 70%','ç´„ 90%'],c:1,e:'ç ”ç©¶é¡¯ç¤ºå¹³å‡æœ‰ 50% (95% CI: 42%-56%) çš„æ‚£è€…å°è¼¸æ¶²æœ‰åæ‡‰ï¼Œé€™æ„å‘³è‘—ç´„ä¸€åŠçš„æ‚£è€…å¯èƒ½å› ä¸å¿…è¦çš„è¼¸æ¶²è€Œå—å®³ã€‚'},
    {q:'é—œæ–¼èº«é«”æª¢æŸ¥é æ¸¬è¼¸æ¶²åæ‡‰æ€§ï¼Œä»¥ä¸‹ä½•è€…æ­£ç¢ºï¼Ÿ',o:['çš®è†šèŠ±æ–‘æ˜¯å¯é çš„é æ¸¬æŒ‡æ¨™','æ¯›ç´°è¡€ç®¡å†å……ç›ˆæ™‚é–“å»¶é•·å¯æº–ç¢ºé æ¸¬','æ‰€æœ‰èº«é«”æª¢æŸ¥ç™¼ç¾çš„ LR 95% CI éƒ½è·¨è¶Š 1.0','å‘¨é‚Šè„ˆææ¸›å¼±çš„ LR+ > 5'],c:2,e:'ç ”ç©¶ç™¼ç¾æ‰€æœ‰èº«é«”æª¢æŸ¥ç™¼ç¾å°é æ¸¬è¼¸æ¶²åæ‡‰æ€§éƒ½ç„¡è¨ºæ–·åƒ¹å€¼ï¼Œå…¶ä¼¼ç„¶æ¯”çš„ 95% CI éƒ½è·¨è¶Š 1.0ã€‚'},
    {q:'ä½ CVP (< 8 mmHg) é æ¸¬è¼¸æ¶²åæ‡‰æ€§çš„é™½æ€§ä¼¼ç„¶æ¯” (LR+) ç´„ç‚ºå¤šå°‘ï¼Ÿ',o:['0.5','1.0','2.6','5.3'],c:2,e:'ä½ CVP (< 8 mmHg) çš„ LR+ = 2.6 (95% CI: 1.4-4.6)ï¼Œè¼•åº¦å¢åŠ è¼¸æ¶²åæ‡‰æ€§çš„å¯èƒ½æ€§ã€‚'},
    {q:'IVC æ“´å¼µæŒ‡æ•¸ > 15% é æ¸¬è¼¸æ¶²åæ‡‰æ€§çš„ä¸»è¦é™åˆ¶æ˜¯ä»€éº¼ï¼Ÿ',o:['åªé©ç”¨æ–¼æ¸…é†’æ‚£è€…','åªé©ç”¨æ–¼ç„¡è‡ªä¸»å‘¼å¸çš„æ©Ÿæ¢°é€šæ°£æ‚£è€…','åªé©ç”¨æ–¼å¿ƒå¾‹ä¸æ•´æ‚£è€…','åªé©ç”¨æ–¼è‡ªä¸»å‘¼å¸æ‚£è€…'],c:1,e:'IVC æ“´å¼µæŒ‡æ•¸çš„è¨ºæ–·åƒ¹å€¼åƒ…åœ¨ç„¡è‡ªä¸»å‘¼å¸åŠªåŠ›çš„æ©Ÿæ¢°é€šæ°£æ‚£è€…ä¸­å¾—åˆ°é©—è­‰ï¼Œåœ¨æœ‰è‡ªä¸»å‘¼å¸çš„æ‚£è€…ä¸­ä¸å¯é ã€‚'},
    {q:'è¢«å‹•æŠ¬è…¿è©¦é©— (PLR) å¼•èµ·å¿ƒè¼¸å‡ºé‡å¢åŠ çš„é™½æ€§ä¼¼ç„¶æ¯” (LR+) ç‚ºå¤šå°‘ï¼Ÿ',o:['2.6','5.3','11','15'],c:2,e:'PLR å¼•èµ· CO å¢åŠ çš„ LR+ = 11 (95% CI: 7.6-17)ï¼Œæ˜¯æ‰€æœ‰è©•ä¼°æ–¹æ³•ä¸­æœ€é«˜çš„ã€‚'},
    {q:'è¢«å‹•æŠ¬è…¿è©¦é©— (PLR) çš„é™°æ€§ä¼¼ç„¶æ¯” (LR-) ç‚ºå¤šå°‘ï¼Ÿ',o:['0.50','0.27','0.13','0.05'],c:2,e:'PLR çš„ LR- = 0.13 (95% CI: 0.07-0.22)ï¼Œé™°æ€§çµæœå¹¾ä¹å¯ä»¥æ’é™¤è¼¸æ¶²åæ‡‰æ€§ã€‚'},
    {q:'é€²è¡Œ PLR è©¦é©—æ™‚ï¼Œæœ€æº–ç¢ºçš„æ¸¬é‡åƒæ•¸æ˜¯ä»€éº¼ï¼Ÿ',o:['è¡€å£“è®ŠåŒ–','å¿ƒç‡è®ŠåŒ–','å¿ƒè¼¸å‡ºé‡è®ŠåŒ–','CVP è®ŠåŒ–'],c:2,e:'PLR è©¦é©—éœ€è¦æ¸¬é‡å¿ƒè¼¸å‡ºé‡æˆ–ç›¸é—œåƒæ•¸ï¼ˆå¦‚ LVOT VTIï¼‰çš„è®ŠåŒ–ï¼Œå–®ç´”è¡€å£“æˆ–å¿ƒç‡è®ŠåŒ–ä¸å¤ å¯é ã€‚'},
    {q:'IVC æ“´å¼µæŒ‡æ•¸çš„å…¬å¼ç‚ºä½•ï¼Ÿ',o:['(IVC_max - IVC_min) / IVC_max Ã— 100%','(IVC_max - IVC_min) / IVC_min Ã— 100%','IVC_max / IVC_min Ã— 100%','(IVC_max + IVC_min) / 2'],c:1,e:'IVC æ“´å¼µæŒ‡æ•¸ = (IVC_max - IVC_min) / IVC_min Ã— 100%ï¼Œé–¾å€¼ > 15% è¡¨ç¤ºå¯èƒ½å°è¼¸æ¶²æœ‰åæ‡‰ã€‚'},
    {q:'æ ¹æ“šç ”ç©¶çµè«–ï¼Œé æ¸¬è¼¸æ¶²åæ‡‰æ€§æœ€æœ‰ç”¨çš„æ¸¬è©¦æ˜¯ä»€éº¼ï¼Ÿ',o:['å–®ç¨ CVP æ¸¬é‡','èº«é«”æª¢æŸ¥ç¶œåˆè©•ä¼°','è¢«å‹•æŠ¬è…¿è©¦é©—çµåˆå¿ƒè¼¸å‡ºé‡æ¸¬é‡','IVC æ“´å¼µæŒ‡æ•¸'],c:2,e:'ç ”ç©¶çµè«–æŒ‡å‡ºï¼Œè¢«å‹•æŠ¬è…¿è©¦é©—çµåˆå¿ƒè¼¸å‡ºé‡æ¸¬é‡å¯èƒ½æ˜¯é æ¸¬è¼¸æ¶²åæ‡‰æ€§æœ€æœ‰ç”¨çš„æ¸¬è©¦ã€‚'},
    {q:'é—œæ–¼è¼¸æ¶²åæ‡‰æ€§è©•ä¼°ï¼Œä»¥ä¸‹ä½•è€…éŒ¯èª¤ï¼Ÿ',o:['PLR æ•ˆæœå¯é€†ï¼Œä¸æœƒé€ æˆè¼¸æ¶²éé‡','CVP å¯ä»¥å–®ç¨æº–ç¢ºé æ¸¬è¼¸æ¶²åæ‡‰æ€§','ç´„ 50% çš„è¡€æµå‹•åŠ›å­¸ä¸ç©©å®šæ‚£è€…ä¸æœƒå°è¼¸æ¶²æœ‰åæ‡‰','é¿å…ä¸å¿…è¦è¼¸æ¶²å°æ‚£è€…é å¾Œå¾ˆé‡è¦'],c:1,e:'CVP å–®ç¨ä½¿ç”¨ç„¡æ³•æº–ç¢ºé æ¸¬è¼¸æ¶²åæ‡‰æ€§ (LR+ 2.6, LR- 0.50)ï¼Œéœ€çµåˆå…¶ä»–è©•ä¼°æ–¹æ³•ã€‚'}
];

const MODULE_ID = 'jama-fluid-responsiveness';

const ProgressTracker = {
    STORAGE_KEY: 'ebm-progress',
    getProgress: () => {
        try {
            const d = localStorage.getItem(ProgressTracker.STORAGE_KEY);
            return d ? JSON.parse(d) : { version: 1, modules: {}, badges: [], totalTimeSpent: 0 };
        } catch { return { version: 1, modules: {}, badges: [], totalTimeSpent: 0 }; }
    },
    saveQuizResult: (moduleId, score, total, timeSpent) => {
        const progress = ProgressTracker.getProgress();
        const mod = progress.modules[moduleId] || {
            bestScore: 0, totalAttempts: 0, allAttempts: [],
            lessonsViewed: [], completed: false, firstCompleted: null
        };
        const attempt = { date: new Date().toISOString(), score, timeSpent };
        mod.allAttempts.push(attempt);
        mod.totalAttempts++;
        if (score > mod.bestScore) mod.bestScore = score;
        const passingScore = Math.ceil(total * 0.7);
        if (score >= passingScore && !mod.completed) {
            mod.completed = true;
            mod.firstCompleted = attempt.date;
        }
        progress.modules[moduleId] = mod;
        progress.totalTimeSpent += timeSpent;
        progress.lastUpdated = new Date().toISOString();
        ProgressTracker.checkBadges(progress, score, total, timeSpent);
        localStorage.setItem(ProgressTracker.STORAGE_KEY, JSON.stringify(progress));
        return progress;
    },
    checkBadges: (progress, score, total, timeSpent) => {
        const dominated = progress.badges || [];
        const badgeIds = dominated.map(b => b.id);
        const now = new Date().toISOString();
        if (!badgeIds.includes('first-quiz')) dominated.push({ id: 'first-quiz', earnedAt: now });
        if (score === total && !badgeIds.includes('perfect-score')) dominated.push({ id: 'perfect-score', earnedAt: now });
        if (timeSpent <= 120 && !badgeIds.includes('speed-demon')) dominated.push({ id: 'speed-demon', earnedAt: now });
        const completed = Object.values(progress.modules).filter(m => m.completed).length;
        if (completed >= 5 && !badgeIds.includes('five-complete')) dominated.push({ id: 'five-complete', earnedAt: now });
        if (completed >= 10 && !badgeIds.includes('ten-complete')) dominated.push({ id: 'ten-complete', earnedAt: now });
        if (completed >= 18 && !badgeIds.includes('master')) dominated.push({ id: 'master', earnedAt: now });
        const mod = progress.modules[MODULE_ID];
        if (mod && mod.totalAttempts >= 3 && !badgeIds.includes('persistent')) dominated.push({ id: 'persistent', earnedAt: now });
        progress.badges = dominated;
    }
};

let currentLesson = 1;
let currentQ = 0;
let score = 0;
let answered = false;
let quizStartTime = null;

function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo(0, 0);
}

function showHome() { showPage('home'); }

function showLesson(id) {
    currentLesson = id;
    const l = lessons[id-1];
    document.getElementById('lesson-title').textContent = l.title;
    document.getElementById('lesson-header').style.background = `linear-gradient(135deg,${l.color},${l.color}88)`;
    document.getElementById('lesson-header').innerHTML = `<div class="container"><div style="font-size:12px;opacity:0.9">Lesson ${l.id} â€¢ ${l.sub}</div><h1 style="font-size:22px;font-weight:700">${l.title}</h1></div>`;
    document.getElementById('lesson-body').innerHTML = lessonContent[id];
    document.getElementById('prev-btn').style.display = id > 1 ? 'block' : 'none';
    document.getElementById('next-btn').textContent = id < 5 ? 'ä¸‹ä¸€èª² â†’' : 'é–‹å§‹æ¸¬é©— ğŸ“';
    document.getElementById('next-btn').onclick = id < 5 ? nextLesson : startQuiz;
    showPage('lesson');
}

function prevLesson() { if (currentLesson > 1) showLesson(currentLesson - 1); }
function nextLesson() { if (currentLesson < 5) showLesson(currentLesson + 1); }

function startQuiz() {
    currentQ = 0; score = 0; answered = false;
    quizStartTime = Date.now();
    renderQuestion();
    showPage('quiz');
}

function renderQuestion() {
    const q = quiz[currentQ];
    document.getElementById('quiz-progress').textContent = `${currentQ+1}/${quiz.length}`;
    document.getElementById('quiz-progress-bar').style.width = `${((currentQ+1)/quiz.length)*100}%`;
    
    let html = `<h3 style="font-size:15px;font-weight:600;line-height:1.7;margin-bottom:20px">${q.q}</h3>`;
    q.o.forEach((opt, i) => {
        html += `<button class="quiz-option" onclick="selectAnswer(${i})" id="opt${i}">
            <span class="option-label" id="lbl${i}">${String.fromCharCode(65+i)}</span>
            <span style="line-height:1.5">${opt}</span>
        </button>`;
    });
    document.getElementById('quiz-content').innerHTML = html;
    document.getElementById('quiz-feedback').innerHTML = '';
    document.getElementById('quiz-next').style.display = 'none';
    answered = false;
}

function selectAnswer(i) {
    if (answered) return;
    answered = true;
    const q = quiz[currentQ];
    
    document.querySelectorAll('.quiz-option').forEach((btn, idx) => {
        btn.classList.add('disabled');
        if (idx === q.c) {
            btn.classList.add('correct');
            document.getElementById('lbl'+idx).classList.add('correct');
            document.getElementById('lbl'+idx).textContent = 'âœ”';
        } else if (idx === i && i !== q.c) {
            btn.classList.add('wrong');
            document.getElementById('lbl'+idx).classList.add('wrong');
            document.getElementById('lbl'+idx).textContent = 'âœ—';
        }
    });
    
    if (i === q.c) score++;
    
    const feedbackClass = i === q.c ? 'good' : 'tip';
    const feedbackTitle = i === q.c ? 'âœ” æ­£ç¢ºï¼' : 'âœ— ç­”éŒ¯äº†';
    const feedbackColor = i === q.c ? 'var(--suc)' : 'var(--acc)';
    document.getElementById('quiz-feedback').innerHTML = `<div class="${feedbackClass}"><strong style="color:${feedbackColor}">${feedbackTitle}</strong><p style="font-size:13px;color:var(--txt2);margin-top:8px;line-height:1.7">${q.e}</p></div>`;
    
    document.getElementById('quiz-next').style.display = 'block';
    document.getElementById('quiz-next').textContent = currentQ < quiz.length - 1 ? 'ä¸‹ä¸€é¡Œ â†’' : 'æŸ¥çœ‹çµæœ';
}

function nextQuestion() {
    if (currentQ < quiz.length - 1) {
        currentQ++;
        renderQuestion();
    } else {
        showResult();
    }
}

function showResult() {
    const pct = Math.round((score / quiz.length) * 100);
    const color = pct >= 80 ? 'var(--suc)' : pct >= 60 ? 'var(--warn)' : 'var(--err)';
    document.getElementById('result-circle').style.background = `conic-gradient(${color} ${pct*3.6}deg, #E5E5E5 0deg)`;
    document.getElementById('result-pct').textContent = pct + '%';
    document.getElementById('result-score').textContent = `${score}/${quiz.length}`;
    document.getElementById('result-title').textContent = pct >= 80 ? 'ğŸ‰ å¤ªæ£’äº†ï¼' : pct >= 60 ? 'ğŸ‘ ä¸éŒ¯ï¼' : 'ğŸ’ª åŠ æ²¹ï¼';
    document.getElementById('result-msg').textContent = pct >= 80 ? 'ä½ å·²ç¶“æŒæ¡è¼¸æ¶²åæ‡‰æ€§è©•ä¼°ï¼' : pct >= 60 ? 'å†è¤‡ç¿’å¯ä»¥æ›´é€²æ­¥ï¼' : 'å»ºè­°é‡æ–°é–±è®€èª²ç¨‹';

    // Save progress
    if (quizStartTime) {
        const timeSpent = Math.round((Date.now() - quizStartTime) / 1000);
        ProgressTracker.saveQuizResult(MODULE_ID, score, quiz.length, timeSpent);
    }

    showPage('result');
}
</script>
</body>
</html>
